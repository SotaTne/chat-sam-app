"use strict";var VN=Object.create;var eo=Object.defineProperty;var GN=Object.getOwnPropertyDescriptor;var WN=Object.getOwnPropertyNames;var KN=Object.getPrototypeOf,JN=Object.prototype.hasOwnProperty;var YN=(e,r,t)=>r in e?eo(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var x=(e,r)=>()=>(e&&(r=e(e=0)),r);var N=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ft=(e,r)=>{for(var t in r)eo(e,t,{get:r[t],enumerable:!0})},vy=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of WN(r))!JN.call(e,s)&&s!==t&&eo(e,s,{get:()=>r[s],enumerable:!(n=GN(r,s))||n.enumerable});return e};var T=(e,r,t)=>(t=e!=null?VN(KN(e)):{},vy(r||!e||!e.__esModule?eo(t,"default",{value:e,enumerable:!0}):t,e)),ue=e=>vy(eo({},"__esModule",{value:!0}),e);var d=(e,r,t)=>YN(e,typeof r!="symbol"?r+"":r,t);var Dr=N(_e=>{"use strict";_e.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(_e.HttpAuthLocation||(_e.HttpAuthLocation={}));_e.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(_e.HttpApiKeyAuthLocation||(_e.HttpApiKeyAuthLocation={}));_e.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(_e.EndpointURLScheme||(_e.EndpointURLScheme={}));_e.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(_e.AlgorithmId||(_e.AlgorithmId={}));var QN=e=>{let r=[];return e.sha256!==void 0&&r.push({algorithmId:()=>_e.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&r.push({algorithmId:()=>_e.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},ZN=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},e0=e=>QN(e),t0=e=>ZN(e);_e.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(_e.FieldPosition||(_e.FieldPosition={}));var r0="__smithy_context";_e.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(_e.IniSectionType||(_e.IniSectionType={}));_e.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(_e.RequestHandlerProtocol||(_e.RequestHandlerProtocol={}));_e.SMITHY_CONTEXT_KEY=r0;_e.getDefaultClientConfiguration=e0;_e.resolveDefaultRuntimeConfig=t0});var nt=N(im=>{"use strict";var Oy=Dr(),n0=e=>e[Oy.SMITHY_CONTEXT_KEY]||(e[Oy.SMITHY_CONTEXT_KEY]={}),s0=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r};im.getSmithyContext=n0;im.normalizeProvider=s0});function es(e){return ky.includes(e)}var to,ky,Qi=x(()=>{to="preferred",ky=["disabled","preferred","required"]});var My,o0,Ly=x(()=>{My=T(nt());Qi();o0=e=>{let{accountIdEndpointMode:r}=e,t=(0,My.normalizeProvider)(r??to);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await t();if(!es(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var By,Uy,Fy,$y,i0,jy=x(()=>{Qi();By="Invalid AccountIdEndpointMode value",Uy=e=>{throw new Error(e)},Fy="AWS_ACCOUNT_ID_ENDPOINT_MODE",$y="account_id_endpoint_mode",i0={environmentVariableSelector:e=>{let r=e[Fy];return r&&!es(r)&&Uy(By),r},configFileSelector:e=>{let r=e[$y];return r&&!es(r)&&Uy(By),r},default:to}});var am={};ft(am,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>ky,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>$y,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>to,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>Fy,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>i0,resolveAccountIdEndpointModeConfig:()=>o0,validateAccountIdEndpointMode:()=>es});var cm=x(()=>{Ly();Qi();jy()});var be=N(Or=>{"use strict";var a0=Dr(),c0=e=>({setHttpHandler(r){e.httpHandler=r},httpHandler(){return e.httpHandler},updateHttpClientConfig(r,t){e.httpHandler?.updateHttpClientConfig(r,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),d0=e=>({httpHandler:e.httpHandler()}),dm=class{constructor({name:r,kind:t=a0.FieldPosition.HEADER,values:n=[]}){d(this,"name");d(this,"kind");d(this,"values");this.name=r,this.kind=t,this.values=n}add(r){this.values.push(r)}set(r){this.values=r}remove(r){this.values=this.values.filter(t=>t!==r)}toString(){return this.values.map(r=>r.includes(",")||r.includes(" ")?`"${r}"`:r).join(", ")}get(){return this.values}},lm=class{constructor({fields:r=[],encoding:t="utf-8"}){d(this,"entries",{});d(this,"encoding");r.forEach(this.setField.bind(this)),this.encoding=t}setField(r){this.entries[r.name.toLowerCase()]=r}getField(r){return this.entries[r.toLowerCase()]}removeField(r){delete this.entries[r.toLowerCase()]}getByType(r){return Object.values(this.entries).filter(t=>t.kind===r)}},um=class e{constructor(r){d(this,"method");d(this,"protocol");d(this,"hostname");d(this,"port");d(this,"path");d(this,"query");d(this,"headers");d(this,"username");d(this,"password");d(this,"fragment");d(this,"body");this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){let t=new e({...r,headers:{...r.headers}});return t.query&&(t.query=l0(t.query)),t}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function l0(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var mm=class{constructor(r){d(this,"statusCode");d(this,"reason");d(this,"headers");d(this,"body");this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function u0(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Or.Field=dm;Or.Fields=lm;Or.HttpRequest=um;Or.HttpResponse=mm;Or.getHttpHandlerExtensionConfiguration=c0;Or.isValidHostname=u0;Or.resolveHttpHandlerRuntimeConfig=d0});var Hy=N((u4,zy)=>{function nr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}nr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(nr.prototype[Symbol.iterator]=function(){return this});nr.of=function(){var e=arguments,r=e.length,t=0;return new nr(function(){return t>=r?{done:!0}:{done:!1,value:e[t++]}})};nr.empty=function(){var e=new nr(null);return e.done=!0,e};nr.is=function(e){return e instanceof nr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};zy.exports=nr});var pm=N((m4,Wy)=>{var qy=typeof ArrayBuffer<"u",Vy=typeof Symbol<"u";function Gy(e,r){var t,n,s,o,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||qy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)r(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(r);return}if(Vy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(t=e,s=0;i=t.next(),i.done!==!0;)r(i.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&r(e[n],n)}Gy.forEachWithNullKeys=function(e,r){var t,n,s,o,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||qy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)r(e[s],null);return}if(e instanceof Set){e.forEach(function(a){r(a,null)});return}if(typeof e.forEach=="function"){e.forEach(r);return}if(Vy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(t=e,s=0;i=t.next(),i.done!==!0;)r(i.value,null),s++;return}for(n in e)e.hasOwnProperty(n)&&r(e[n],n)};Wy.exports=Gy});var fm=N($t=>{var m0=Math.pow(2,8)-1,p0=Math.pow(2,16)-1,f0=Math.pow(2,32)-1,h0=Math.pow(2,7)-1,g0=Math.pow(2,15)-1,y0=Math.pow(2,31)-1;$t.getPointerArray=function(e){var r=e-1;return r<=m0?Uint8Array:r<=p0?Uint16Array:r<=f0?Uint32Array:Float64Array};$t.getSignedPointerArray=function(e){var r=e-1;return r<=h0?Int8Array:r<=g0?Int16Array:r<=y0?Int32Array:Float64Array};$t.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var E0={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};$t.getMinimalRepresentation=function(e,r){var t=null,n=0,s,o,i,a,l;for(a=0,l=e.length;a<l;a++)i=r?r(e[a]):e[a],o=$t.getNumberType(i),s=E0[o.name],s>n&&(n=s,t=o);return t};$t.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};$t.concat=function(){var e=0,r,t,n;for(r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;var s=new arguments[0].constructor(e);for(r=0,t=0;r<n;r++)s.set(arguments[r],t),t+=arguments[r].length;return s};$t.indices=function(e){for(var r=$t.getPointerArray(e),t=new r(e),n=0;n<e;n++)t[n]=n;return t}});var Yy=N(ro=>{var Ky=pm(),Jy=fm();function S0(e){return Array.isArray(e)||Jy.isTypedArray(e)}function hm(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function b0(e){var r=hm(e),t=typeof r=="number"?new Array(r):[],n=0;return Ky(e,function(s){t[n++]=s}),t}function w0(e){var r=hm(e),t=typeof r=="number"?Jy.getPointerArray(r):Array,n=typeof r=="number"?new Array(r):[],s=typeof r=="number"?new t(r):[],o=0;return Ky(e,function(i){n[o]=i,s[o]=o++}),[n,s]}ro.isArrayLike=S0;ro.guessLength=hm;ro.toArray=b0;ro.toArrayWithIndices=w0});var Qy=N((h4,Xy)=>{var gm=Hy(),_0=pm(),x0=fm(),C0=Yy();function Ue(e,r,t){if(arguments.length<2&&(t=e,e=null,r=null),this.capacity=t,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=x0.getPointerArray(t);this.forward=new n(t),this.backward=new n(t),this.K=typeof e=="function"?new e(t):new Array(t),this.V=typeof r=="function"?new r(t):new Array(t),this.size=0,this.head=0,this.tail=0,this.items={}}Ue.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ue.prototype.splayOnTop=function(e){var r=this.head;if(this.head===e)return this;var t=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=t:this.backward[n]=t,this.forward[t]=n,this.backward[r]=e,this.head=e,this.forward[e]=r,this};Ue.prototype.set=function(e,r){var t=this.items[e];if(typeof t<"u"){this.splayOnTop(t),this.V[t]=r;return}this.size<this.capacity?t=this.size++:(t=this.tail,this.tail=this.backward[t],delete this.items[this.K[t]]),this.items[e]=t,this.K[t]=e,this.V[t]=r,this.forward[t]=this.head,this.backward[this.head]=t,this.head=t};Ue.prototype.setpop=function(e,r){var t=null,n=null,s=this.items[e];return typeof s<"u"?(this.splayOnTop(s),t=this.V[s],this.V[s]=r,{evicted:!1,key:e,value:t}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],t=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[e]=s,this.K[s]=e,this.V[s]=r,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:t}:null)};Ue.prototype.has=function(e){return e in this.items};Ue.prototype.get=function(e){var r=this.items[e];if(!(typeof r>"u"))return this.splayOnTop(r),this.V[r]};Ue.prototype.peek=function(e){var r=this.items[e];if(!(typeof r>"u"))return this.V[r]};Ue.prototype.forEach=function(e,r){r=arguments.length>1?r:this;for(var t=0,n=this.size,s=this.head,o=this.K,i=this.V,a=this.forward;t<n;)e.call(r,i[s],o[s],this),s=a[s],t++};Ue.prototype.keys=function(){var e=0,r=this.size,t=this.head,n=this.K,s=this.forward;return new gm(function(){if(e>=r)return{done:!0};var o=n[t];return e++,e<r&&(t=s[t]),{done:!1,value:o}})};Ue.prototype.values=function(){var e=0,r=this.size,t=this.head,n=this.V,s=this.forward;return new gm(function(){if(e>=r)return{done:!0};var o=n[t];return e++,e<r&&(t=s[t]),{done:!1,value:o}})};Ue.prototype.entries=function(){var e=0,r=this.size,t=this.head,n=this.K,s=this.V,o=this.forward;return new gm(function(){if(e>=r)return{done:!0};var i=n[t],a=s[t];return e++,e<r&&(t=o[t]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ue.prototype[Symbol.iterator]=Ue.prototype.entries);Ue.prototype.inspect=function(){for(var e=new Map,r=this.entries(),t;t=r.next(),!t.done;)e.set(t.value[0],t.value[1]);return Object.defineProperty(e,"constructor",{value:Ue,enumerable:!1}),e};typeof Symbol<"u"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ue.prototype.inspect);Ue.from=function(e,r,t,n){if(arguments.length<2){if(n=C0.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=r,r=null,t=null);var s=new Ue(r,t,n);return _0(e,function(o,i){s.set(i,o)}),s};Xy.exports=Ue});var rE=N((g4,tE)=>{"use strict";var T0=Object.create,no=Object.defineProperty,I0=Object.getOwnPropertyDescriptor,A0=Object.getOwnPropertyNames,v0=Object.getPrototypeOf,R0=Object.prototype.hasOwnProperty,P0=(e,r)=>no(e,"name",{value:r,configurable:!0}),N0=(e,r)=>{for(var t in r)no(e,t,{get:r[t],enumerable:!0})},Zy=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of A0(r))!R0.call(e,s)&&s!==t&&no(e,s,{get:()=>r[s],enumerable:!(n=I0(r,s))||n.enumerable});return e},D0=(e,r,t)=>(t=e!=null?T0(v0(e)):{},Zy(r||!e||!e.__esModule?no(t,"default",{value:e,enumerable:!0}):t,e)),O0=e=>Zy(no({},"__esModule",{value:!0}),e),eE={};N0(eE,{EndpointCache:()=>M0});tE.exports=O0(eE);var k0=D0(Qy()),ts,M0=(ts=class{constructor(r){d(this,"cache");this.cache=new k0.default(r)}getEndpoint(r){let t=this.get(r);if(!t||t.length===0)return;let n=t.map(s=>s.Address);return n[Math.floor(Math.random()*n.length)]}get(r){if(!this.has(r))return;let t=this.cache.get(r);if(!t)return;let n=Date.now(),s=t.filter(o=>n<o.Expires);if(s.length===0){this.delete(r);return}return s}set(r,t){let n=Date.now();this.cache.set(r,t.map(({Address:s,CachePeriodInMinutes:o})=>({Address:s,Expires:n+o*60*1e3})))}delete(r){this.cache.set(r,[])}has(r){if(!this.cache.has(r))return!1;let t=this.cache.peek(r);return t?t.length>0:!1}clear(){this.cache.clear()}},P0(ts,"EndpointCache"),ts)});var Sm=N((E4,aE)=>{"use strict";var Zi=Object.defineProperty,L0=Object.getOwnPropertyDescriptor,B0=Object.getOwnPropertyNames,U0=Object.prototype.hasOwnProperty,ht=(e,r)=>Zi(e,"name",{value:r,configurable:!0}),F0=(e,r)=>{for(var t in r)Zi(e,t,{get:r[t],enumerable:!0})},$0=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of B0(r))!U0.call(e,s)&&s!==t&&Zi(e,s,{get:()=>r[s],enumerable:!(n=L0(r,s))||n.enumerable});return e},j0=e=>$0(Zi({},"__esModule",{value:!0}),e),iE={};F0(iE,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>z0,endpointDiscoveryMiddlewareOptions:()=>ea,getEndpointDiscoveryOptionalPlugin:()=>W0,getEndpointDiscoveryPlugin:()=>V0,getEndpointDiscoveryRequiredPlugin:()=>G0,resolveEndpointDiscoveryConfig:()=>J0});aE.exports=j0(iE);var nE=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],ym="endpoint_discovery_enabled",sE=ht(e=>["false","0"].indexOf(e)>=0,"isFalsy"),z0={environmentVariableSelector:ht(e=>{for(let r=0;r<nE.length;r++){let t=nE[r];if(t in e){let n=e[t];if(n==="")throw Error(`Environment variable ${t} can't be empty of undefined, got "${n}"`);return!sE(n)}}},"environmentVariableSelector"),configFileSelector:ht(e=>{if(ym in e){let r=e[ym];if(r===void 0)throw Error(`Shared config entry ${ym} can't be undefined, got "${r}"`);return!sE(r)}},"configFileSelector"),default:void 0},H0=be(),q0=ht(async(e,r,t)=>{let{accessKeyId:n}=await r.credentials(),{identifiers:s}=t;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:e,identifiers:Object.entries(s).sort().reduce((o,[i,a])=>({...o,[i]:a}),{})}})},"getCacheKey"),sr={},oE=ht(async(e,r)=>new Promise((t,n)=>{let{endpointCache:s}=e,{cacheKey:o,commandName:i,identifiers:a}=r,l=s.get(o);if(l&&l.length===1&&l[0].Address==="")r.isDiscoveredEndpointRequired?(sr[o]||(sr[o]=[]),sr[o].push({resolve:t,reject:n})):t();else if(l&&l.length>0)t();else{let u=[{Address:"",CachePeriodInMinutes:1}];s.set(o,u);let f=new r.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});f.resolveMiddleware(r.clientStack,e,r.options)(f).then(g=>{s.set(o,g.output.Endpoints),sr[o]&&(sr[o].forEach(({resolve:y})=>{y()}),delete sr[o]),t()}).catch(g=>{s.delete(o);let y=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:g});sr[o]&&(sr[o].forEach(({reject:S})=>{S(y)}),delete sr[o]),r.isDiscoveredEndpointRequired?n(y):(s.set(o,u),t())})}}),"updateDiscoveredEndpointInCache"),Em=ht((e,r)=>(t,n)=>async s=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return t(s)}let{endpointDiscoveryCommandCtor:o}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=r,l=n.clientName,u=n.commandName,f=await e.endpointDiscoveryEnabled(),h=await q0(u,e,{identifiers:a});if(i){if(f===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await oE(e,{...r,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:o})}else f&&oE(e,{...r,commandName:u,cacheKey:h,endpointDiscoveryCommandCtor:o});let{request:g}=s;if(h&&H0.HttpRequest.isInstance(g)){let y=e.endpointCache.getEndpoint(h);y&&(g.hostname=y)}return t(s)},"endpointDiscoveryMiddleware"),ea={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},V0=ht((e,r)=>({applyToStack:ht(t=>{t.add(Em(e,r),ea)},"applyToStack")}),"getEndpointDiscoveryPlugin"),G0=ht((e,r)=>({applyToStack:ht(t=>{t.add(Em(e,{...r,isDiscoveredEndpointRequired:!0}),ea)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),W0=ht((e,r)=>({applyToStack:ht(t=>{t.add(Em(e,{...r,isDiscoveredEndpointRequired:!1}),ea)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),K0=rE(),J0=ht((e,{endpointDiscoveryCommandCtor:r})=>{let{endpointCacheSize:t,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:r,endpointCache:new K0.EndpointCache(t??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var so=N((S4,mE)=>{"use strict";var ra=Object.defineProperty,Y0=Object.getOwnPropertyDescriptor,X0=Object.getOwnPropertyNames,Q0=Object.prototype.hasOwnProperty,ta=(e,r)=>ra(e,"name",{value:r,configurable:!0}),Z0=(e,r)=>{for(var t in r)ra(e,t,{get:r[t],enumerable:!0})},eD=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of X0(r))!Q0.call(e,s)&&s!==t&&ra(e,s,{get:()=>r[s],enumerable:!(n=Y0(r,s))||n.enumerable});return e},tD=e=>eD(ra({},"__esModule",{value:!0}),e),cE={};Z0(cE,{getHostHeaderPlugin:()=>nD,hostHeaderMiddleware:()=>lE,hostHeaderMiddlewareOptions:()=>uE,resolveHostHeaderConfig:()=>dE});mE.exports=tD(cE);var rD=be();function dE(e){return e}ta(dE,"resolveHostHeaderConfig");var lE=ta(e=>r=>async t=>{if(!rD.HttpRequest.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},"hostHeaderMiddleware"),uE={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},nD=ta(e=>({applyToStack:ta(r=>{r.add(lE(e),uE)},"applyToStack")}),"getHostHeaderPlugin")});var oo=N((b4,gE)=>{"use strict";var na=Object.defineProperty,sD=Object.getOwnPropertyDescriptor,oD=Object.getOwnPropertyNames,iD=Object.prototype.hasOwnProperty,bm=(e,r)=>na(e,"name",{value:r,configurable:!0}),aD=(e,r)=>{for(var t in r)na(e,t,{get:r[t],enumerable:!0})},cD=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of oD(r))!iD.call(e,s)&&s!==t&&na(e,s,{get:()=>r[s],enumerable:!(n=sD(r,s))||n.enumerable});return e},dD=e=>cD(na({},"__esModule",{value:!0}),e),pE={};aD(pE,{getLoggerPlugin:()=>lD,loggerMiddleware:()=>fE,loggerMiddlewareOptions:()=>hE});gE.exports=dD(pE);var fE=bm(()=>(e,r)=>async t=>{try{let n=await e(t),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=r,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=a,f=l??r.inputFilterSensitiveLog,h=u??r.outputFilterSensitiveLog,{$metadata:g,...y}=n.output;return i?.info?.({clientName:s,commandName:o,input:f(t.input),output:h(y),metadata:g}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=r,{overrideInputFilterSensitiveLog:l}=a,u=l??r.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:u(t.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),hE={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},lD=bm(e=>({applyToStack:bm(r=>{r.add(fE(),hE)},"applyToStack")}),"getLoggerPlugin")});var yE=N(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.InvokeStore=void 0;var uD=require("async_hooks"),wm=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";wm||(globalThis.awslambda=globalThis.awslambda||{});var mD={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},io=class{static run(r,t){return this.storage.run({...r},t)}static getContext(){return this.storage.getStore()}static get(r){return this.storage.getStore()?.[r]}static set(r,t){if(this.isProtectedKey(r))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[r]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(r){return r===this.PROTECTED_KEYS.REQUEST_ID||r===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};d(io,"storage",new uD.AsyncLocalStorage),d(io,"PROTECTED_KEYS",mD);var sa;!wm&&globalThis.awslambda?.InvokeStore?sa=globalThis.awslambda.InvokeStore:(sa=io,!wm&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=sa));oa.InvokeStore=sa});var xm=N(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.recursionDetectionMiddleware=void 0;var pD=yE(),fD=be(),_m="X-Amzn-Trace-Id",hD="AWS_LAMBDA_FUNCTION_NAME",gD="_X_AMZN_TRACE_ID",yD=()=>e=>async r=>{let{request:t}=r;if(!fD.HttpRequest.isInstance(t))return e(r);let n=Object.keys(t.headers??{}).find(u=>u.toLowerCase()===_m.toLowerCase())??_m;if(t.headers.hasOwnProperty(n))return e(r);let s=process.env[hD],o=process.env[gD],a=pD.InvokeStore.getXRayTraceId()??o,l=u=>typeof u=="string"&&u.length>0;return l(s)&&l(a)&&(t.headers[_m]=a),e({...r,request:t})};ia.recursionDetectionMiddleware=yD});var ao=N((C4,Im)=>{"use strict";var aa=Object.defineProperty,ED=Object.getOwnPropertyDescriptor,SD=Object.getOwnPropertyNames,bD=Object.prototype.hasOwnProperty,EE=(e,r)=>aa(e,"name",{value:r,configurable:!0}),wD=(e,r)=>{for(var t in r)aa(e,t,{get:r[t],enumerable:!0})},Cm=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of SD(r))!bD.call(e,s)&&s!==t&&aa(e,s,{get:()=>r[s],enumerable:!(n=ED(r,s))||n.enumerable});return e},_D=(e,r,t)=>(Cm(e,r,"default"),t&&Cm(t,r,"default")),xD=e=>Cm(aa({},"__esModule",{value:!0}),e),Tm={};wD(Tm,{getRecursionDetectionPlugin:()=>ID});Im.exports=xD(Tm);var CD={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},TD=xm(),ID=EE(e=>({applyToStack:EE(r=>{r.add((0,TD.recursionDetectionMiddleware)(),CD)},"applyToStack")}),"getRecursionDetectionPlugin");_D(Tm,xm(),Im.exports)});var Am,AD,SE=x(()=>{Am=T(Dr()),AD=e=>e[Am.SMITHY_CONTEXT_KEY]||(e[Am.SMITHY_CONTEXT_KEY]={})});var bE,wE=x(()=>{bE=(e,r)=>{if(!r||r.length===0)return e;let t=[];for(let n of r)for(let s of e)s.schemeId.split("#")[1]===n&&t.push(s);for(let n of e)t.find(({schemeId:s})=>s===n.schemeId)||t.push(n);return t}});function vD(e){let r=new Map;for(let t of e)r.set(t.schemeId,t);return r}var _E,co,ca=x(()=>{_E=T(nt());wE();co=(e,r)=>(t,n)=>async s=>{let o=e.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=bE(o,i),l=vD(e.httpAuthSchemes),u=(0,_E.getSmithyContext)(n),f=[];for(let h of a){let g=l.get(h.schemeId);if(!g){f.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let y=g.identityProvider(await r.identityProviderConfigProvider(e));if(!y){f.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:I={}}=h.propertiesExtractor?.(e,n)||{};h.identityProperties=Object.assign(h.identityProperties||{},S),h.signingProperties=Object.assign(h.signingProperties||{},I),u.selectedHttpAuthScheme={httpAuthOption:h,identity:await y(h.identityProperties),signer:g.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(f.join(`
`));return t(s)}});var xE,lo,CE=x(()=>{ca();xE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},lo=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(co(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),xE)}})});var kr=N(rs=>{"use strict";var RD=be(),TE=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let i=await r(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(RD.HttpResponse.isInstance(o)){let{headers:l={}}=o,u=Object.entries(l);i.$metadata={httpStatusCode:o.statusCode,requestId:vm(/^x-[\w-]+-request-?id$/,u),extendedRequestId:vm(/^x-[\w-]+-id-2$/,u),cfId:vm(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},vm=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1],IE=(e,r)=>(t,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await r(s.input,{...e,endpoint:i});return t({...s,request:a})},AE={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function PD(e,r,t){return{applyToStack:n=>{n.add(TE(e,t),AE),n.add(IE(e,r),vE)}}}rs.deserializerMiddleware=TE;rs.deserializerMiddlewareOption=AE;rs.getSerdePlugin=PD;rs.serializerMiddleware=IE;rs.serializerMiddlewareOption=vE});var RE,PE,ND,NE=x(()=>{RE=T(kr());ca();PE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:RE.serializerMiddlewareOption.name},ND=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(co(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),PE)}})});var DE=x(()=>{ca();CE();NE()});var OE,kE,DD,OD,Rm,Pm=x(()=>{OE=T(be()),kE=T(nt()),DD=e=>r=>{throw r},OD=(e,r)=>{},Rm=e=>(r,t)=>async n=>{if(!OE.HttpRequest.isInstance(n.request))return r(n);let o=(0,kE.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o,u=await r({...n,request:await l.sign(n.request,a,i)}).catch((l.errorHandler||DD)(i));return(l.successHandler||OD)(u.response,i),u}});var ME,uo,LE=x(()=>{Pm();ME={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},uo=e=>({applyToStack:r=>{r.addRelativeTo(Rm(e),ME)}})});var BE=x(()=>{Pm();LE()});var Mr,UE=x(()=>{Mr=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});function FE(e,r,t,n,s){return async function*(i,a,...l){let u=a,f=i.startingToken??u[t],h=!0,g;for(;h;){if(u[t]=f,s&&(u[s]=u[s]??i.pageSize),i.client instanceof e)g=await kD(r,i.client,a,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let y=f;f=MD(g,n),h=!!(f&&(!i.stopOnSameToken||f!==y))}return void 0}}var kD,MD,$E=x(()=>{kD=async(e,r,t,n=o=>o,...s)=>{let o=new e(t);return o=n(o)??o,await r.send(o,...s)};MD=(e,r)=>{let t=e,n=r.split(".");for(let s of n){if(!t||typeof t!="object")return;t=t[s]}return t}});var Nm=N(jE=>{"use strict";var LD=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";jE.isArrayBuffer=LD});var ns=N(Om=>{"use strict";var BD=Nm(),Dm=require("buffer"),UD=(e,r=0,t=e.byteLength-r)=>{if(!BD.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Dm.Buffer.from(e,r,t)},FD=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?Dm.Buffer.from(e,r):Dm.Buffer.from(e)};Om.fromArrayBuffer=UD;Om.fromString=FD});var zE=N(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.fromBase64=void 0;var $D=ns(),jD=/^[A-Za-z0-9+/]*={0,2}$/,zD=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!jD.exec(e))throw new TypeError("Invalid base64 string.");let r=(0,$D.fromString)(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};da.fromBase64=zD});var qe=N(la=>{"use strict";var HE=ns(),qE=e=>{let r=HE.fromString(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},HD=e=>typeof e=="string"?qE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),qD=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return HE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};la.fromUtf8=qE;la.toUint8Array=HD;la.toUtf8=qD});var VE=N(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.toBase64=void 0;var VD=ns(),GD=qe(),WD=e=>{let r;if(typeof e=="string"?r=(0,GD.fromUtf8)(e):r=e,typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,VD.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString("base64")};ua.toBase64=WD});var Ve=N(mo=>{"use strict";var GE=zE(),WE=VE();Object.keys(GE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mo,e)&&Object.defineProperty(mo,e,{enumerable:!0,get:function(){return GE[e]}})});Object.keys(WE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mo,e)&&Object.defineProperty(mo,e,{enumerable:!0,get:function(){return WE[e]}})})});var Mm=N(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.ChecksumStream=void 0;var KD=Ve(),JD=require("stream"),km=class extends JD.Duplex{constructor({expectedChecksum:t,checksum:n,source:s,checksumSourceLocation:o,base64Encoder:i}){super();d(this,"expectedChecksum");d(this,"checksumSourceLocation");d(this,"checksum");d(this,"source");d(this,"base64Encoder");if(typeof s.pipe=="function")this.source=s;else throw new Error(`@smithy/util-stream: unsupported source type ${s?.constructor?.name??s} in ChecksumStream.`);this.base64Encoder=i??KD.toBase64,this.expectedChecksum=t,this.checksum=n,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,n,s){try{this.checksum.update(t),this.push(t)}catch(o){return s(o)}return s()}async _final(t){try{let n=await this.checksum.digest(),s=this.base64Encoder(n);if(this.expectedChecksum!==s)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${s}" in response header "${this.checksumSourceLocation}".`))}catch(n){return t(n)}return this.push(null),t()}};ma.ChecksumStream=km});var Lr=N(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.isBlob=ss.isReadableStream=void 0;var YD=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);ss.isReadableStream=YD;var XD=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);ss.isBlob=XD});var KE=N(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.ChecksumStream=void 0;var QD=typeof ReadableStream=="function"?ReadableStream:function(){},Lm=class extends QD{};pa.ChecksumStream=Lm});var JE=N(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.createChecksumStream=void 0;var ZD=Ve(),eO=Lr(),tO=KE(),rO=({expectedChecksum:e,checksum:r,source:t,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,eO.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??ZD.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,u){r.update(l),u.enqueue(l)},async flush(l){let u=await r.digest(),f=o(u);if(e!==f){let h=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);l.error(h)}else l.terminate()}});t.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,tO.ChecksumStream.prototype),a};fa.createChecksumStream=rO});var YE=N(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.createChecksumStream=iO;var nO=Lr(),sO=Mm(),oO=JE();function iO(e){return typeof ReadableStream=="function"&&(0,nO.isReadableStream)(e.source)?(0,oO.createChecksumStream)(e):new sO.ChecksumStream(e)}});var Fm=N(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.ByteArrayCollector=void 0;var Um=class{constructor(r){d(this,"allocByteArray");d(this,"byteLength",0);d(this,"byteArrays",[]);this.allocByteArray=r}push(r){this.byteArrays.push(r),this.byteLength+=r.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let r=this.allocByteArray(this.byteLength),t=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];r.set(s,t),t+=s.byteLength}return this.reset(),r}reset(){this.byteArrays=[],this.byteLength=0}};ha.ByteArrayCollector=Um});var eS=N(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.createBufferedReadable=void 0;or.createBufferedReadableStream=XE;or.merge=QE;or.flush=ga;or.sizeOf=os;or.modeOf=ZE;var aO=Fm();function XE(e,r,t){let n=e.getReader(),s=!1,o=0,i=["",new aO.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,l=async u=>{let{value:f,done:h}=await n.read(),g=f;if(h){if(a!==-1){let y=ga(i,a);os(y)>0&&u.enqueue(y)}u.close()}else{let y=ZE(g,!1);if(a!==y&&(a>=0&&u.enqueue(ga(i,a)),a=y),a===-1){u.enqueue(g);return}let S=os(g);o+=S;let I=os(i[a]);if(S>=r&&I===0)u.enqueue(g);else{let R=QE(i,a,g);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${r}, automatically buffering.`)),R>=r?u.enqueue(ga(i,a)):await l(u)}}};return new ReadableStream({pull:l})}or.createBufferedReadable=XE;function QE(e,r,t){switch(r){case 0:return e[0]+=t,os(e[0]);case 1:case 2:return e[r].push(t),os(e[r])}}function ga(e,r){switch(r){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[r].flush()}throw new Error(`@smithy/util-stream - invalid index ${r} given to flush()`)}function os(e){return e?.byteLength??e?.length??0}function ZE(e,r=!0){return r&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var rS=N($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.createBufferedReadable=lO;var cO=require("node:stream"),tS=Fm(),ir=eS(),dO=Lr();function lO(e,r,t){if((0,dO.isReadableStream)(e))return(0,ir.createBufferedReadableStream)(e,r,t);let n=new cO.Readable({read(){}}),s=!1,o=0,i=["",new tS.ByteArrayCollector(l=>new Uint8Array(l)),new tS.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let u=(0,ir.modeOf)(l,!0);if(a!==u&&(a>=0&&n.push((0,ir.flush)(i,a)),a=u),a===-1){n.push(l);return}let f=(0,ir.sizeOf)(l);o+=f;let h=(0,ir.sizeOf)(i[a]);if(f>=r&&h===0)n.push(l);else{let g=(0,ir.merge)(i,a,l);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${r}, automatically buffering.`)),g>=r&&n.push((0,ir.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,ir.flush)(i,a);(0,ir.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var nS=N(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.getAwsChunkedEncodingStream=void 0;var uO=require("stream"),mO=(e,r)=>{let{base64Encoder:t,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=r,a=t!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,l=a?i(s,e):void 0,u=new uO.Readable({read:()=>{}});return e.on("data",f=>{let h=n(f)||0;u.push(`${h.toString(16)}\r
`),u.push(f),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let f=t(await l);u.push(`${o}:${f}\r
`),u.push(`\r
`)}u.push(null)}),u};ya.getAwsChunkedEncodingStream=mO});var sS=N(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.headStream=pO;async function pO(e,r){let t=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:u}=await s.read();if(u&&(n.push(u),t+=u?.byteLength??0),t>=r)break;o=l}s.releaseLock();let i=new Uint8Array(Math.min(r,t)),a=0;for(let l of n){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}});var oS=N(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.headStream=void 0;var fO=require("stream"),hO=sS(),gO=Lr(),yO=(e,r)=>(0,gO.isReadableStream)(e)?(0,hO.headStream)(e,r):new Promise((t,n)=>{let s=new zm;s.limit=r,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});Ea.headStream=yO;var zm=class extends fO.Writable{constructor(){super(...arguments);d(this,"buffers",[]);d(this,"limit",1/0);d(this,"bytesBuffered",0)}_write(t,n,s){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-o),this.emit("finish")}s()}}});var qm=N(Hm=>{"use strict";var iS=e=>encodeURIComponent(e).replace(/[!'()*]/g,EO),EO=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,SO=e=>e.split("/").map(iS).join("/");Hm.escapeUri=iS;Hm.escapeUriPath=SO});var Gm=N(aS=>{"use strict";var Vm=qm();function bO(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=Vm.escapeUri(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${Vm.escapeUri(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${Vm.escapeUri(n)}`),r.push(s)}}return r.join("&")}aS.buildQueryString=bO});var Tn=N(po=>{"use strict";var uS=be(),mS=Gm(),Wm=require("http"),Km=require("https"),pS=require("stream"),Jm=require("http2"),wO=["ECONNRESET","EPIPE","ETIMEDOUT"],fS=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r},ct={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e)},cS=1e3,_O=(e,r,t=0)=>{if(!t)return-1;let n=s=>{let o=ct.setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`Socket timed out without establishing a connection within ${t} ms`),{name:"TimeoutError"}))},t-s),i=a=>{a?.connecting?a.on("connect",()=>{ct.clearTimeout(o)}):ct.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return t<2e3?(n(0),0):ct.setTimeout(n.bind(null,cS),cS)},xO=3e3,CO=(e,{keepAlive:r,keepAliveMsecs:t},n=xO)=>{if(r!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(r,t||0):e.on("socket",o=>{o.setKeepAlive(r,t||0)})};return n===0?(s(),0):ct.setTimeout(s,n)},dS=3e3,TO=(e,r,t=gS)=>{let n=s=>{let o=t-s,i=()=>{e.destroy(),r(Object.assign(new Error(`Connection timed out after ${t} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<t&&t<6e3?(n(0),0):ct.setTimeout(n.bind(null,t===0?0:dS),dS)},lS=6e3;async function hS(e,r,t=lS){let n=r.headers??{},s=n.Expect||n.expect,o=-1,i=!0;s==="100-continue"&&(i=await Promise.race([new Promise(a=>{o=Number(ct.setTimeout(()=>a(!0),Math.max(lS,t)))}),new Promise(a=>{e.on("continue",()=>{ct.clearTimeout(o),a(!0)}),e.on("response",()=>{ct.clearTimeout(o),a(!1)}),e.on("error",()=>{ct.clearTimeout(o),a(!1)})})])),i&&IO(e,r.body)}function IO(e,r){if(r instanceof pS.Readable){r.pipe(e);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){e.end(r);return}let t=r;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(r));return}e.end()}var gS=0,Ym=class e{constructor(r){d(this,"config");d(this,"configProvider");d(this,"socketWarningTimestamp",0);d(this,"metadata",{handlerProtocol:"http/1.1"});this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}static create(r){return typeof r?.handle=="function"?r:new e(r)}static checkSocketUsage(r,t,n=console){let{sockets:s,requests:o,maxSockets:i}=r;if(typeof i!="number"||i===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let u=s[l]?.length??0,f=o[l]?.length??0;if(u>=i&&f>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a}=r||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:t??s,socketAcquisitionWarningTimeout:o,httpAgent:i instanceof Wm.Agent||typeof i?.destroy=="function"?i:new Wm.Agent({keepAlive:l,maxSockets:u,...i}),httpsAgent:a instanceof Km.Agent||typeof a?.destroy=="function"?a:new Km.Agent({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i,a=[],l=async $=>{await i,a.forEach(ct.clearTimeout),s($)},u=async $=>{await i,a.forEach(ct.clearTimeout),o($)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){let $=new Error("Request aborted");$.name="AbortError",u($);return}let f=r.protocol==="https:",h=f?this.config.httpsAgent:this.config.httpAgent;a.push(ct.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(h,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let g=mS.buildQueryString(r.query||{}),y;if(r.username!=null||r.password!=null){let $=r.username??"",ce=r.password??"";y=`${$}:${ce}`}let S=r.path;g&&(S+=`?${g}`),r.fragment&&(S+=`#${r.fragment}`);let I=r.hostname??"";I[0]==="["&&I.endsWith("]")?I=r.hostname.slice(1,-1):I=r.hostname;let R={headers:r.headers,host:I,method:r.method,path:S,port:r.port,agent:h,auth:y},k=(f?Km.request:Wm.request)(R,$=>{let ce=new uS.HttpResponse({statusCode:$.statusCode||-1,reason:$.statusMessage,headers:fS($.headers),body:$});l({response:ce})});if(k.on("error",$=>{wO.includes($.code)?u(Object.assign($,{name:"TimeoutError"})):u($)}),t){let $=()=>{k.destroy();let ce=new Error("Request aborted");ce.name="AbortError",u(ce)};if(typeof t.addEventListener=="function"){let ce=t;ce.addEventListener("abort",$,{once:!0}),k.once("close",()=>ce.removeEventListener("abort",$))}else t.onabort=$}let F=n??this.config.requestTimeout;a.push(_O(k,u,this.config.connectionTimeout)),a.push(TO(k,u,F));let Q=R.agent;typeof Q=="object"&&"keepAlive"in Q&&a.push(CO(k,{keepAlive:Q.keepAlive,keepAliveMsecs:Q.keepAliveMsecs})),i=hS(k,r,F).catch($=>(a.forEach(ct.clearTimeout),o($)))})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}},Xm=class{constructor(r){d(this,"sessions",[]);this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}},Qm=class{constructor(r){d(this,"config");d(this,"sessionCache",new Map);if(this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(r,t){let n=this.getUrlString(r),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=Jm.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,i);let a=this.sessionCache.get(n)||new Xm;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(r,t){let n=this.sessionCache.get(r);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(r,n))}release(r,t){let n=this.getUrlString(r);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(let[r,t]of this.sessionCache){for(let n of t)n.destroyed||n.destroy(),t.remove(n);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}},Zm=class e{constructor(r){d(this,"config");d(this,"configProvider");d(this,"metadata",{handlerProtocol:"h2"});d(this,"connectionManager",new Qm({}));this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(s||{})}).catch(n):t(r||{})})}static create(r){return typeof r?.handle=="function"?r:new e(r)}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,l)=>{let u=!1,f,h=async Se=>{await f,a(Se)},g=async Se=>{await f,l(Se)};if(t?.aborted){u=!0;let Se=new Error("Request aborted");Se.name="AbortError",g(Se);return}let{hostname:y,method:S,port:I,protocol:R,query:v}=r,k="";if(r.username!=null||r.password!=null){let Se=r.username??"",De=r.password??"";k=`${Se}:${De}@`}let F=`${R}//${k}${y}${I?`:${I}`:""}`,Q={destination:new URL(F)},$=this.connectionManager.lease(Q,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),ce=Se=>{o&&this.destroySession($),u=!0,g(Se)},rt=mS.buildQueryString(v||{}),Nt=r.path;rt&&(Nt+=`?${rt}`),r.fragment&&(Nt+=`#${r.fragment}`);let he=$.request({...r.headers,[Jm.constants.HTTP2_HEADER_PATH]:Nt,[Jm.constants.HTTP2_HEADER_METHOD]:S});if($.ref(),he.on("response",Se=>{let De=new uS.HttpResponse({statusCode:Se[":status"]||-1,headers:fS(Se),body:he});u=!0,h({response:De}),o&&($.close(),this.connectionManager.deleteSession(F,$))}),i&&he.setTimeout(i,()=>{he.close();let Se=new Error(`Stream timed out because of no activity for ${i} ms`);Se.name="TimeoutError",ce(Se)}),t){let Se=()=>{he.close();let De=new Error("Request aborted");De.name="AbortError",ce(De)};if(typeof t.addEventListener=="function"){let De=t;De.addEventListener("abort",Se,{once:!0}),he.once("close",()=>De.removeEventListener("abort",Se))}else t.onabort=Se}he.on("frameError",(Se,De,Qn)=>{ce(new Error(`Frame type id ${Se} in stream id ${Qn} has failed with code ${De}.`))}),he.on("error",ce),he.on("aborted",()=>{ce(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${he.rstCode}.`))}),he.on("close",()=>{$.unref(),o&&$.destroy(),u||ce(new Error("Unexpected error: http2 request did not get a response"))}),f=hS(he,r,i)})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}},ep=class extends pS.Writable{constructor(){super(...arguments);d(this,"bufferedBytes",[])}_write(t,n,s){this.bufferedBytes.push(t),s()}},AO=e=>vO(e)?RO(e):new Promise((r,t)=>{let n=new ep;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})}),vO=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function RO(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=a}let o=new Uint8Array(s),i=0;for(let a of r)o.set(a,i),i+=a.length;return o}po.DEFAULT_REQUEST_TIMEOUT=gS;po.NodeHttp2Handler=Zm;po.NodeHttpHandler=Ym;po.streamCollector=AO});var SS=N(ba=>{"use strict";var yS=be(),PO=Gm(),NO=Ve();function ES(e,r){return new Request(e,r)}function DO(e=0){return new Promise((r,t)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",t(n)},e)})}var Sa={supported:void 0},tp=class e{constructor(r){d(this,"config");d(this,"configProvider");typeof r=="function"?this.configProvider=r().then(t=>t||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),Sa.supported===void 0&&(Sa.supported=typeof Request<"u"&&"keepalive"in ES("https://[::1]"))}static create(r){return typeof r?.handle=="function"?r:new e(r)}destroy(){}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(t?.aborted){let k=new Error("Request aborted");return k.name="AbortError",Promise.reject(k)}let a=r.path,l=PO.buildQueryString(r.query||{});l&&(a+=`?${l}`),r.fragment&&(a+=`#${r.fragment}`);let u="";if(r.username!=null||r.password!=null){let k=r.username??"",F=r.password??"";u=`${k}:${F}@`}let{port:f,method:h}=r,g=`${r.protocol}//${u}${r.hostname}${f?`:${f}`:""}${a}`,y=h==="GET"||h==="HEAD"?void 0:r.body,S={body:y,headers:new Headers(r.headers),method:h,credentials:i};this.config?.cache&&(S.cache=this.config.cache),y&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=t),Sa.supported&&(S.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(r));let I=()=>{},R=ES(g,S),v=[fetch(R).then(k=>{let F=k.headers,Q={};for(let ce of F.entries())Q[ce[0]]=ce[1];return k.body!=null?{response:new yS.HttpResponse({headers:Q,reason:k.statusText,statusCode:k.status,body:k.body})}:k.blob().then(ce=>({response:new yS.HttpResponse({headers:Q,reason:k.statusText,statusCode:k.status,body:ce})}))}),DO(s)];return t&&v.push(new Promise((k,F)=>{let Q=()=>{let $=new Error("Request aborted");$.name="AbortError",F($)};if(typeof t.addEventListener=="function"){let $=t;$.addEventListener("abort",Q,{once:!0}),I=()=>$.removeEventListener("abort",Q)}else t.onabort=Q})),Promise.race(v).finally(I)}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[r]=t,n))}httpHandlerConfigs(){return this.config??{}}},OO=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):kO(e):MO(e);async function kO(e){let r=await LO(e),t=NO.fromBase64(r);return new Uint8Array(t)}async function MO(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=a}let o=new Uint8Array(s),i=0;for(let a of r)o.set(a,i),i+=a.length;return o}function LO(e){return new Promise((r,t)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return t(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;r(s.substring(i))},n.onabort=()=>t(new Error("Read aborted")),n.onerror=()=>t(n.error),n.readAsDataURL(e)})}ba.FetchHttpHandler=tp;ba.keepAliveSupport=Sa;ba.streamCollector=OO});var sp=N(np=>{"use strict";var bS={},rp={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),bS[e]=r,rp[r]=e}function BO(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in rp)r[t/2]=rp[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function UO(e){let r="";for(let t=0;t<e.byteLength;t++)r+=bS[e[t]];return r}np.fromHex=BO;np.toHex=UO});var CS=N(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.sdkStreamMixin=void 0;var FO=SS(),$O=Ve(),jO=sp(),zO=qe(),wS=Lr(),_S="The stream has already been transformed.",HO=e=>{if(!xS(e)&&!(0,wS.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(_S);return r=!0,await(0,FO.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,$O.toBase64)(o);if(s==="hex")return(0,jO.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,zO.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(_S);if(r=!0,xS(e))return n(e);if((0,wS.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};wa.sdkStreamMixin=HO;var xS=e=>typeof Blob=="function"&&e instanceof Blob});var IS=N(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.sdkStreamMixin=void 0;var qO=Tn(),VO=ns(),op=require("stream"),GO=CS(),TS="The stream has already been transformed.",WO=e=>{if(!(e instanceof op.Readable))try{return(0,GO.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(TS);return r=!0,await(0,qO.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async n=>{let s=await t();return n===void 0||Buffer.isEncoding(n)?(0,VO.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(r)throw new Error(TS);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof op.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,op.Readable.toWeb(e)}})};_a.sdkStreamMixin=WO});var AS=N(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.splitStream=KO;async function KO(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var PS=N(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.splitStream=YO;var vS=require("stream"),JO=AS(),RS=Lr();async function YO(e){if((0,RS.isReadableStream)(e)||(0,RS.isBlob)(e))return(0,JO.splitStream)(e);let r=new vS.PassThrough,t=new vS.PassThrough;return e.pipe(r),e.pipe(t),[r,t]}});var xa=N(ze=>{"use strict";var FS=Ve(),$S=qe(),NS=Mm(),DS=YE(),OS=rS(),kS=nS(),MS=oS(),LS=IS(),BS=PS(),US=Lr();function XO(e,r="utf-8"){return r==="base64"?FS.toBase64(e):$S.toUtf8(e)}function QO(e,r){return r==="base64"?fo.mutate(FS.fromBase64(e)):fo.mutate($S.fromUtf8(e))}var fo=class e extends Uint8Array{static fromString(r,t="utf-8"){if(typeof r=="string")return QO(r,t);throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,e.prototype),r}transformToString(r="utf-8"){return XO(this,r)}};ze.Uint8ArrayBlobAdapter=fo;Object.keys(NS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return NS[e]}})});Object.keys(DS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return DS[e]}})});Object.keys(OS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return OS[e]}})});Object.keys(kS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return kS[e]}})});Object.keys(MS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return MS[e]}})});Object.keys(LS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return LS[e]}})});Object.keys(BS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return BS[e]}})});Object.keys(US).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ze,e)&&Object.defineProperty(ze,e,{enumerable:!0,get:function(){return US[e]}})})});var Ca,Dt,Ta=x(()=>{Ca=T(xa()),Dt=async(e=new Uint8Array,r)=>{if(e instanceof Uint8Array)return Ca.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Ca.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=r.streamCollector(e);return Ca.Uint8ArrayBlobAdapter.mutate(await t)}});function jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var Ia=x(()=>{});var _t,cp=x(()=>{_t=e=>typeof e=="function"?e():e});var jS,zS,HS,dp,qS=x(()=>{jS=T(be()),zS=T(nt()),HS=e=>(r,t)=>async n=>{let{response:s}=await r(n),{operationSchema:o}=(0,zS.getSmithyContext)(t);try{let i=await e.protocol.deserializeResponse(o,{...e,...t},s);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(a):t.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(jS.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:dp(/^x-[\w-]+-request-?id$/,u),extendedRequestId:dp(/^x-[\w-]+-id-2$/,u),cfId:dp(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},dp=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1]});var VS,GS,WS=x(()=>{VS=T(nt()),GS=e=>(r,t)=>async n=>{let{operationSchema:s}=(0,VS.getSmithyContext)(t),o=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,i=await e.protocol.serializeRequest(s,n.input,{...e,...t,endpoint:o});return r({...n,request:i})}});function ZO(e){return{applyToStack:r=>{r.add(GS(e),JS),r.add(HS(e),KS),e.protocol.setSerdeContext(e)}}}var KS,JS,YS=x(()=>{qS();WS();KS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},JS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var In,Oe,lp=x(()=>{In=class In{constructor(r,t=new Map,n=new Map){d(this,"namespace");d(this,"schemas");d(this,"exceptions");this.namespace=r,this.schemas=t,this.exceptions=n}static for(r){return In.registries.has(r)||In.registries.set(r,new In(r)),In.registries.get(r)}register(r,t){let n=this.normalizeShapeId(r);this.schemas.set(n,t)}getSchema(r){let t=this.normalizeShapeId(r);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(r,t){this.exceptions.set(r,t)}getErrorCtor(r){return this.exceptions.get(r)}getBaseException(){for(let[r,t]of this.schemas.entries())if(r.startsWith("smithy.ts.sdk.synthetic.")&&r.endsWith("ServiceException"))return t}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}getNamespace(r){return this.normalizeShapeId(r).split("#")[0]}};d(In,"registries",new Map);Oe=In});var Te,ar=x(()=>{lp();Te=class{constructor(){d(this,"name");d(this,"namespace");d(this,"traits")}static assign(r,t){let n=Object.assign(r,t);return Oe.for(n.namespace).register(n.name,n),n}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var Aa,is,ek,up=x(()=>{ar();Aa=class Aa extends Te{constructor(){super(...arguments);d(this,"name");d(this,"traits");d(this,"valueSchema");d(this,"symbol",Aa.symbol)}};d(Aa,"symbol",Symbol.for("@smithy/lis"));is=Aa,ek=(e,r,t,n)=>Te.assign(new is,{name:r,namespace:e,traits:t,valueSchema:n})});var va,as,tk,mp=x(()=>{ar();va=class va extends Te{constructor(){super(...arguments);d(this,"name");d(this,"traits");d(this,"keySchema");d(this,"valueSchema");d(this,"symbol",va.symbol)}};d(va,"symbol",Symbol.for("@smithy/map"));as=va,tk=(e,r,t,n,s)=>Te.assign(new as,{name:r,namespace:e,traits:t,keySchema:n,valueSchema:s})});var Pa,Ra,rk,XS=x(()=>{ar();Pa=class Pa extends Te{constructor(){super(...arguments);d(this,"name");d(this,"traits");d(this,"input");d(this,"output");d(this,"symbol",Pa.symbol)}};d(Pa,"symbol",Symbol.for("@smithy/ope"));Ra=Pa,rk=(e,r,t,n,s)=>Te.assign(new Ra,{name:r,namespace:e,traits:t,input:n,output:s})});var Na,Br,nk,Da=x(()=>{ar();Na=class Na extends Te{constructor(){super(...arguments);d(this,"name");d(this,"traits");d(this,"memberNames");d(this,"memberList");d(this,"symbol",Na.symbol)}};d(Na,"symbol",Symbol.for("@smithy/str"));Br=Na,nk=(e,r,t,n,s)=>Te.assign(new Br,{name:r,namespace:e,traits:t,memberNames:n,memberList:s})});var ka,Oa,sk,QS=x(()=>{ar();Da();ka=class ka extends Br{constructor(){super(...arguments);d(this,"ctor");d(this,"symbol",ka.symbol)}};d(ka,"symbol",Symbol.for("@smithy/err"));Oa=ka,sk=(e,r,t,n,s,o)=>Te.assign(new Oa,{name:r,namespace:e,traits:t,memberNames:n,memberList:s,ctor:null})});function Ur(e){if(typeof e=="object")return e;e=e|0;let r={},t=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(r[n]=1);return r}var pp=x(()=>{});function ho(e,r){if(e instanceof H)return Object.assign(e,{memberName:r,_isMemberSchema:!0});let t=H;return new t(e,r)}var Fr,H,ZS=x(()=>{cp();up();mp();ar();Da();pp();Fr=class Fr{constructor(r,t){d(this,"ref");d(this,"memberName");d(this,"symbol",Fr.symbol);d(this,"name");d(this,"schema");d(this,"_isMemberSchema");d(this,"traits");d(this,"memberTraits");d(this,"normalizedTraits");this.ref=r,this.memberName=t;let n=[],s=r,o=r;for(this._isMemberSchema=!1;Array.isArray(s);)n.push(s[1]),s=s[0],o=_t(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Ur(a))}}else this.memberTraits=0;if(o instanceof Fr){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=_t(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof Te?this.schema.getName?.():void 0)??this.memberName??String(o),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){return Te[Symbol.hasInstance].bind(this)(r)}static of(r){let t=_t(r);if(t instanceof Fr)return t;if(Array.isArray(t)){let[n,s]=t;if(n instanceof Fr)return Object.assign(n.getMergedTraits(),Ur(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new Fr(t)}getSchema(){return _t(this.schema?.schemaRef??this.schema)}getName(r=!1){let{name:t}=this;return!r&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r instanceof is}isMapSchema(){let r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r instanceof as}isStructSchema(){let r=this.getSchema();return r!==null&&typeof r=="object"&&"members"in r||r instanceof Br}isBlobSchema(){let r=this.getSchema();return r===21||r===42}isTimestampSchema(){let r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){let r=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:s}=this;return r(t)||r(n)||r(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Ur(this.memberTraits)}getOwnTraits(){return Ur(this.traits)}getKeySchema(){let[r,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=r?15:n?.keySchema??0;return ho([s,0],"key")}getValueSchema(){let r=this.getSchema(),[t,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof r=="number"?63&r:r&&typeof r=="object"&&(n||s)?r.valueSchema:t?15:void 0;if(o!=null)return ho([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){let t=this.getSchema();if(this.isStructSchema()&&t.memberNames.includes(r)){let n=t.memberNames.indexOf(r),s=t.memberList[n];return ho(Array.isArray(s)?s:[s,0],r)}if(this.isDocumentSchema())return ho([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){let r={};try{for(let[t,n]of this.structIterator())r[t]=n}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(let[r,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let r=this.getSchema();for(let t=0;t<r.memberNames.length;++t)yield[r.memberNames[t],ho([r.memberList[t],0],r.memberNames[t])]}};d(Fr,"symbol",Symbol.for("@smithy/nor"));H=Fr});var La,Ma,ok,eb=x(()=>{ar();La=class La extends Te{constructor(){super(...arguments);d(this,"name");d(this,"schemaRef");d(this,"traits");d(this,"symbol",La.symbol)}};d(La,"symbol",Symbol.for("@smithy/sim"));Ma=La,ok=(e,r,t,n)=>Te.assign(new Ma,{name:r,namespace:e,traits:n,schemaRef:t})});var ik,tb=x(()=>{ik={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var rb={};ft(rb,{ErrorSchema:()=>Oa,ListSchema:()=>is,MapSchema:()=>as,NormalizedSchema:()=>H,OperationSchema:()=>Ra,SCHEMA:()=>ik,Schema:()=>Te,SimpleSchema:()=>Ma,StructureSchema:()=>Br,TypeRegistry:()=>Oe,deref:()=>_t,deserializerMiddlewareOption:()=>KS,error:()=>sk,getSchemaSerdePlugin:()=>ZO,list:()=>ek,map:()=>tk,op:()=>rk,serializerMiddlewareOption:()=>JS,sim:()=>ok,struct:()=>nk,translateTraits:()=>Ur});var ve=x(()=>{cp();YS();up();mp();XS();QS();ZS();ar();eb();Da();tb();pp();lp()});var ak,nb=x(()=>{ak=(e,r,t=n=>n)=>e});var ck,dk,go,lk,Ba,yo,uk,fp,hp,gp,yp,mk,pk,sb,fk,hk,Fa,gk,Ep,yk,cs,Sp,Ek,Sk,bk,ob,ib,wk,_k,An,bp,Ua,Eo,wp=x(()=>{ck=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},dk=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Eo.warn(Ua(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let r=e.toLowerCase();if((r==="false"||r==="true")&&Eo.warn(Ua(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},go=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Eo.warn(Ua(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},lk=Math.ceil(34028234663852886e22),Ba=e=>{let r=go(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>lk)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},yo=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},uk=yo,fp=e=>yp(e,32),hp=e=>yp(e,16),gp=e=>yp(e,8),yp=(e,r)=>{let t=yo(e);if(t!==void 0&&mk(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},mk=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},pk=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},sb=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},fk=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Eo.warn(Ua(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},hk=e=>{if(e==null)return;let r=sb(e),t=Object.entries(r).filter(([,n])=>n!=null).map(([n])=>n);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return r},Fa=e=>go(typeof e=="string"?cs(e):e),gk=Fa,Ep=e=>Ba(typeof e=="string"?cs(e):e),yk=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,cs=e=>{let r=e.match(yk);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Sp=e=>typeof e=="string"?ob(e):go(e),Ek=Sp,Sk=Sp,bk=e=>typeof e=="string"?ob(e):Ba(e),ob=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},ib=e=>yo(typeof e=="string"?cs(e):e),wk=ib,_k=e=>fp(typeof e=="string"?cs(e):e),An=e=>hp(typeof e=="string"?cs(e):e),bp=e=>gp(typeof e=="string"?cs(e):e),Ua=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Eo={warn:console.warn}});function bo(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${xk[n]}, ${l} ${xp[t]} ${r} ${u}:${f}:${h} GMT`}var xk,xp,Ck,Tk,Ik,Cp,Ak,vk,Rk,Tp,Ip,So,Pk,Nk,Dk,_p,Ok,kk,Mk,zt,Lk,Bk,ds,ab=x(()=>{wp();xk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],xp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ck=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Tk=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=Ck.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,i,a,l,u]=r,f=An(ds(n)),h=zt(s,"month",1,12),g=zt(o,"day",1,31);return So(f,h,g,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})},Ik=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Cp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=Ik.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,i,a,l,u,f]=r,h=An(ds(n)),g=zt(s,"month",1,12),y=zt(o,"day",1,31),S=So(h,g,y,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u});return f.toUpperCase()!="Z"&&S.setTime(S.getTime()-Bk(f)),S},Ak=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),vk=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Rk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Tp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=Ak.exec(e);if(r){let[t,n,s,o,i,a,l,u]=r;return So(An(ds(o)),_p(s),zt(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u})}if(r=vk.exec(e),r){let[t,n,s,o,i,a,l,u]=r;return Dk(So(Pk(o),_p(s),zt(n,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:u}))}if(r=Rk.exec(e),r){let[t,n,s,o,i,a,l,u]=r;return So(An(ds(u)),_p(n),zt(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},Ip=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=Fa(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},So=(e,r,t,n)=>{let s=r-1;return kk(e,s,t),new Date(Date.UTC(e,s,t,zt(n.hours,"hour",0,23),zt(n.minutes,"minute",0,59),zt(n.seconds,"seconds",0,60),Lk(n.fractionalMilliseconds)))},Pk=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+An(ds(e));return t<r?t+100:t},Nk=50*365*24*60*60*1e3,Dk=e=>e.getTime()-new Date().getTime()>Nk?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,_p=e=>{let r=xp.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},Ok=[31,28,31,30,31,30,31,31,30,31,30,31],kk=(e,r,t)=>{let n=Ok[r];if(r===1&&Mk(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${xp[r]} in ${e}: ${t}`)},Mk=e=>e%4===0&&(e%100!==0||e%400===0),zt=(e,r,t,n)=>{let s=bp(ds(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},Lk=e=>e==null?0:Ep("0."+e)*1e3,Bk=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},ds=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)}});var wo={};ft(wo,{__addDisposableResource:()=>Db,__assign:()=>$a,__asyncDelegator:()=>Cb,__asyncGenerator:()=>xb,__asyncValues:()=>Tb,__await:()=>ls,__awaiter:()=>yb,__classPrivateFieldGet:()=>Rb,__classPrivateFieldIn:()=>Nb,__classPrivateFieldSet:()=>Pb,__createBinding:()=>za,__decorate:()=>lb,__disposeResources:()=>Ob,__esDecorate:()=>mb,__exportStar:()=>Sb,__extends:()=>cb,__generator:()=>Eb,__importDefault:()=>vb,__importStar:()=>Ab,__makeTemplateObject:()=>Ib,__metadata:()=>gb,__param:()=>ub,__propKey:()=>fb,__read:()=>Rp,__rest:()=>db,__rewriteRelativeImportExtension:()=>kb,__runInitializers:()=>pb,__setFunctionName:()=>hb,__spread:()=>bb,__spreadArray:()=>_b,__spreadArrays:()=>wb,__values:()=>ja,default:()=>$k});function cb(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ap(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function db(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function lb(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(r,t,o):i(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function ub(e,r){return function(t,n){r(t,n,e)}}function mb(e,r,t,n,s,o){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!r&&e?n.static?e:e.prototype:null,f=r||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,g=!1,y=t.length-1;y>=0;y--){var S={};for(var I in n)S[I]=I==="access"?{}:n[I];for(var I in n.access)S.access[I]=n.access[I];S.addInitializer=function(v){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(v||null))};var R=(0,t[y])(a==="accessor"?{get:f.get,set:f.set}:f[l],S);if(a==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(h=i(R.get))&&(f.get=h),(h=i(R.set))&&(f.set=h),(h=i(R.init))&&s.unshift(h)}else(h=i(R))&&(a==="field"?s.unshift(h):f[l]=h)}u&&Object.defineProperty(u,n.name,f),g=!0}function pb(e,r,t){for(var n=arguments.length>2,s=0;s<r.length;s++)t=n?r[s].call(e,t):r[s].call(e);return n?t:void 0}function fb(e){return typeof e=="symbol"?e:"".concat(e)}function hb(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function gb(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function yb(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(h){i(h)}}function l(f){try{u(n.throw(f))}catch(h){i(h)}}function u(f){f.done?o(f.value):s(f.value).then(a,l)}u((n=n.apply(e,r||[])).next())})}function Eb(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(t=0)),t;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,s=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(f){u=[6,f],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Sb(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&za(r,e,t)}function ja(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rp(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],i;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return o}function bb(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Rp(arguments[r]));return e}function wb(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function _b(e,r,t){if(t||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function ls(e){return this instanceof ls?(this.v=e,this):new ls(e)}function xb(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(y){return function(S){return Promise.resolve(S).then(y,h)}}function a(y,S){n[y]&&(s[y]=function(I){return new Promise(function(R,v){o.push([y,I,R,v])>1||l(y,I)})},S&&(s[y]=S(s[y])))}function l(y,S){try{u(n[y](S))}catch(I){g(o[0][3],I)}}function u(y){y.value instanceof ls?Promise.resolve(y.value.v).then(f,h):g(o[0][2],y)}function f(y){l("next",y)}function h(y){l("throw",y)}function g(y,S){y(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Cb(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(i){return(t=!t)?{value:ls(e[s](i)),done:!1}:o?o(i):i}:o}}function Tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof ja=="function"?ja(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(i){return new Promise(function(a,l){i=e[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},i)}}function Ib(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function Ab(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=vp(e),n=0;n<t.length;n++)t[n]!=="default"&&za(r,e,t[n]);return Uk(r,e),r}function vb(e){return e&&e.__esModule?e:{default:e}}function Rb(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function Pb(e,r,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,t):s?s.value=t:r.set(e,t),t}function Nb(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function Db(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}function Ob(e){function r(o){e.error=e.hasError?new Fk(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(s,function(i){return r(i),s()})}else n|=1}catch(i){r(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function kb(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,s,o,i){return n?r?".jsx":".js":s&&(!o||!i)?t:s+o+"."+i.toLowerCase()+"js"}):e}var Ap,$a,za,Uk,vp,Fk,$k,_o=x(()=>{Ap=function(e,r){return Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},Ap(e,r)};$a=function(){return $a=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},$a.apply(this,arguments)};za=Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]});Uk=Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r},vp=function(e){return vp=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},vp(e)};Fk=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};$k={__extends:cb,__assign:$a,__rest:db,__decorate:lb,__param:ub,__esDecorate:mb,__runInitializers:pb,__propKey:fb,__setFunctionName:hb,__metadata:gb,__awaiter:yb,__generator:Eb,__createBinding:za,__exportStar:Sb,__values:ja,__read:Rp,__spread:bb,__spreadArrays:wb,__spreadArray:_b,__await:ls,__asyncGenerator:xb,__asyncDelegator:Cb,__asyncValues:Tb,__makeTemplateObject:Ib,__importStar:Ab,__importDefault:vb,__classPrivateFieldGet:Rb,__classPrivateFieldSet:Pb,__classPrivateFieldIn:Nb,__addDisposableResource:Db,__disposeResources:Ob,__rewriteRelativeImportExtension:kb}});var Lb=N(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.randomUUID=void 0;var jk=(_o(),ue(wo)),Mb=jk.__importDefault(require("crypto"));Ha.randomUUID=Mb.default.randomUUID.bind(Mb.default)});var qa=N(Ub=>{"use strict";var Bb=Lb(),Je=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0")),zk=()=>{if(Bb.randomUUID)return Bb.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Je[e[0]]+Je[e[1]]+Je[e[2]]+Je[e[3]]+"-"+Je[e[4]]+Je[e[5]]+"-"+Je[e[6]]+Je[e[7]]+"-"+Je[e[8]]+Je[e[9]]+"-"+Je[e[10]]+Je[e[11]]+Je[e[12]]+Je[e[13]]+Je[e[14]]+Je[e[15]]};Ub.v4=zk});var Ht,Fb=x(()=>{Ht=T(qa())});var st,$b=x(()=>{st=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};st.from=e=>e&&typeof e=="object"&&(e instanceof st||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?st(String(e)):st(JSON.stringify(e));st.fromObject=st.from});function Pp(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var jb=x(()=>{});function cr(e,r,t){let n=Number(e);if(n<r||n>t)throw new Error(`Value ${n} out of range [${r}, ${t}]`)}var Np,Dp,Op,zb,Hb,Hk,qk,Vk,Gk,Wk,xo,kp,Mp,qb=x(()=>{Np="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Dp="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Op="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",zb="(\\d?\\d)",Hb="(\\d{4})",Hk=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),qk=new RegExp(`^${Np}, ${zb} ${Dp} ${Hb} ${Op} GMT$`),Vk=new RegExp(`^${Np}, ${zb}-${Dp}-(\\d\\d) ${Op} GMT$`),Gk=new RegExp(`^${Np} ${Dp} ( [1-9]|\\d\\d) ${Op} ${Hb}$`),Wk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xo=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},kp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let r=Hk.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,n,s,o,i,a,,l,u]=r;cr(n,1,12),cr(s,1,31),cr(o,0,23),cr(i,0,59),cr(a,0,60);let f=new Date;if(f.setUTCFullYear(Number(t),Number(n)-1,Number(s)),f.setUTCHours(Number(o)),f.setUTCMinutes(Number(i)),f.setUTCSeconds(Number(a)),f.setUTCMilliseconds(Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0),u.toUpperCase()!="Z"){let[,h,g,y]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],S=h==="-"?1:-1;f.setTime(f.getTime()+S*(Number(g)*60*60*1e3+Number(y)*60*1e3))}return f},Mp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,t,n,s,o,i,a,l;if((l=qk.exec(e))?[,r,t,n,s,o,i,a]=l:(l=Vk.exec(e))?([,r,t,n,s,o,i,a]=l,n=(Number(n)+1900).toString()):(l=Gk.exec(e))&&([,t,r,s,o,i,a,n]=l),n&&i){let u=new Date;return u.setUTCFullYear(Number(n)),u.setUTCMonth(Wk.indexOf(t)),cr(r,1,31),u.setUTCDate(Number(r)),cr(s,0,23),u.setUTCHours(Number(s)),cr(o,0,59),u.setUTCMinutes(Number(o)),cr(i,0,60),u.setUTCSeconds(Number(i)),u.setUTCMilliseconds(a?Math.round(parseFloat(`0.${a}`)*1e3):0),u}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Lp(e,r,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let n=e.split(r);if(t===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=r+n[i],(i+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var Vb=x(()=>{});var Co,Gb=x(()=>{Co=e=>{let r=e.length,t=[],n=!1,s,o=0;for(let i=0;i<r;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(t.push(e.slice(o,i)),o=i+1);break;default:}s=a}return t.push(e.slice(o)),t.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Bp(e){return new Ie(String(e),"bigDecimal")}var Wb,Ie,Kb=x(()=>{Wb=/^-?\d*(\.\d+)?$/,Ie=class e{constructor(r,t){d(this,"string");d(this,"type");if(this.string=r,this.type=t,!Wb.test(r))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](r){if(!r||typeof r!="object")return!1;let t=r;return e.prototype.isPrototypeOf(r)||t.type==="bigDecimal"&&Wb.test(t.string)}}});var Jb={};ft(Jb,{LazyJsonString:()=>st,NumericValue:()=>Ie,_parseEpochTimestamp:()=>xo,_parseRfc3339DateTimeWithOffset:()=>kp,_parseRfc7231DateTime:()=>Mp,copyDocumentWithTransform:()=>ak,dateToUtcString:()=>bo,expectBoolean:()=>dk,expectByte:()=>gp,expectFloat32:()=>Ba,expectInt:()=>uk,expectInt32:()=>fp,expectLong:()=>yo,expectNonNull:()=>pk,expectNumber:()=>go,expectObject:()=>sb,expectShort:()=>hp,expectString:()=>fk,expectUnion:()=>hk,generateIdempotencyToken:()=>Ht.v4,handleFloat:()=>Ek,limitedParseDouble:()=>Sp,limitedParseFloat:()=>Sk,limitedParseFloat32:()=>bk,logger:()=>Eo,nv:()=>Bp,parseBoolean:()=>ck,parseEpochTimestamp:()=>Ip,parseRfc3339DateTime:()=>Tk,parseRfc3339DateTimeWithOffset:()=>Cp,parseRfc7231DateTime:()=>Tp,quoteHeader:()=>Pp,splitEvery:()=>Lp,splitHeader:()=>Co,strictParseByte:()=>bp,strictParseDouble:()=>Fa,strictParseFloat:()=>gk,strictParseFloat32:()=>Ep,strictParseInt:()=>wk,strictParseInt32:()=>_k,strictParseLong:()=>ib,strictParseShort:()=>An});var dt=x(()=>{nb();ab();Fb();$b();wp();jb();qb();Vb();Gb();Kb()});var Yb,Up,Xb=x(()=>{Yb=T(qe()),Up=class{constructor({marshaller:r,serializer:t,deserializer:n,serdeContext:s,defaultContentType:o}){d(this,"marshaller");d(this,"serializer");d(this,"deserializer");d(this,"serdeContext");d(this,"defaultContentType");this.marshaller=r,this.serializer=t,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){let s=this.marshaller,o=t.getEventStreamMember(),i=t.getMemberSchema(o),a=i.getMemberSchemas(),l=this.serializer,u=this.defaultContentType,f=Symbol("initialRequestMarker"),h={async*[Symbol.asyncIterator](){if(n){let g={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:u}};l.write(t,n);let y=l.flush();yield{[f]:!0,headers:g,body:y}}for await(let g of r)yield g}};return s.serialize(h,g=>{if(g[f])return{headers:g.headers,body:g.body};let y=Object.keys(g).find(F=>F!=="__type")??"",{additionalHeaders:S,body:I,eventType:R,explicitPayloadContentType:v}=this.writeEventBody(y,i,g);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:v??u},...S},body:I}})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),u=s.deserialize(r.body,async g=>{let y=Object.keys(g).find(S=>S!=="__type")??"";if(y==="initial-response"){let S=await this.deserializer.read(t,g[y].body);return delete S[o],{[l]:!0,...S}}else if(y in a){let S=a[y];return{[y]:await this.deserializer.read(S,g[y].body)}}else return{$unknown:g}}),f=u[Symbol.asyncIterator](),h=await f.next();if(h.done)return u;if(h.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,y]of Object.entries(h.value))n[g]=y}return{async*[Symbol.asyncIterator](){for(h?.value?.[l]||(yield h.value);;){let{done:g,value:y}=await f.next();if(g)break;yield y}}}}writeEventBody(r,t,n){let s=this.serializer,o=r,i=null,a,l=t.getSchema().memberNames.includes(r),u={};if(l){let g=t.getMemberSchema(r);if(g.isStructSchema()){for(let[y,S]of g.structIterator()){let{eventHeader:I,eventPayload:R}=S.getMergedTraits();if(R){i=y;break}else if(I){let v=n[r][y],k="binary";S.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?k="integer":k="long":S.isTimestampSchema()?k="timestamp":S.isStringSchema()?k="string":S.isBooleanSchema()&&(k="boolean"),v!=null&&(u[y]={type:k,value:v},delete n[r][y])}}if(i!==null){let y=g.getMemberSchema(i);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),s.write(y,n[r][i])}else s.write(g,n[r])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,y]=n[r];o=g,s.write(15,y)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??Yb.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:u}}}});var Qb={};ft(Qb,{EventStreamSerde:()=>Up});var Zb=x(()=>{Xb()});var Va,vn,Ga=x(()=>{ve();Va=T(be()),vn=class{constructor(r){d(this,"options");d(this,"serdeContext");this.options=r}getRequestType(){return Va.HttpRequest}getResponseType(){return Va.HttpResponse}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,t){if("url"in t){r.protocol=t.url.protocol,r.hostname=t.url.hostname,r.port=t.url.port?Number(t.url.port):void 0,r.path=t.url.pathname,r.fragment=t.url.hash||void 0,r.username=t.url.username||void 0,r.password=t.url.password||void 0,r.query||(r.query={});for(let[n,s]of t.url.searchParams.entries())r.query[n]=s;return r}else return r.protocol=t.protocol,r.hostname=t.hostname,r.port=t.port?Number(t.port):void 0,r.path=t.path,r.query={...t.query},r}setHostPrefix(r,t,n){let s=H.of(t),o=H.of(t.input);if(s.getMergedTraits().endpoint){let i=s.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}r.hostname=i+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(Zb(),Qb));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,t,n,s,o){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}}});var ew,tw,Rn,rw=x(()=>{ve();dt();ew=T(be()),tw=T(xa());Ta();Ia();Ga();Rn=class extends vn{async serializeRequest(r,t,n){let s={...t??{}},o=this.serializer,i={},a={},l=await n.endpoint(),u=H.of(r?.input),f=u.getSchema(),h=!1,g,y=new ew.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(l){this.updateServiceEndpoint(y,l),this.setHostPrefix(y,r,s);let S=Ur(r.traits);if(S.http){y.method=S.http[0];let[I,R]=S.http[1].split("?");y.path=="/"?y.path=I:y.path+=I;let v=new URLSearchParams(R??"");Object.assign(i,Object.fromEntries(v))}}for(let[S,I]of u.structIterator()){let R=I.getMergedTraits()??{},v=s[S];if(v!=null)if(R.httpPayload)I.isStreaming()?I.isStructSchema()?s[S]&&(g=await this.serializeEventStream({eventStream:s[S],requestSchema:u})):g=v:(o.write(I,v),g=o.flush()),delete s[S];else if(R.httpLabel){o.write(I,v);let k=o.flush();y.path.includes(`{${S}+}`)?y.path=y.path.replace(`{${S}+}`,k.split("/").map(jt).join("/")):y.path.includes(`{${S}}`)&&(y.path=y.path.replace(`{${S}}`,jt(k))),delete s[S]}else if(R.httpHeader)o.write(I,v),a[R.httpHeader.toLowerCase()]=String(o.flush()),delete s[S];else if(typeof R.httpPrefixHeaders=="string"){for(let[k,F]of Object.entries(v)){let Q=R.httpPrefixHeaders+k;o.write([I.getValueSchema(),{httpHeader:Q}],F),a[Q.toLowerCase()]=o.flush()}delete s[S]}else R.httpQuery||R.httpQueryParams?(this.serializeQuery(I,v,i),delete s[S]):h=!0}return h&&s&&(o.write(f,s),g=o.flush()),y.headers=a,y.query=i,y.body=g,y}serializeQuery(r,t,n){let s=this.serializer,o=r.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(t))if(!(i in n)){let l=r.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(l,a,n)}return}if(r.isListSchema()){let i=!!r.getMergedTraits().sparse,a=[];for(let l of t){s.write([r.getValueSchema(),o],l);let u=s.flush();(i||u!==void 0)&&a.push(u)}n[o.httpQuery]=a}else s.write([r,o],t),n[o.httpQuery]=s.flush()}async deserializeResponse(r,t,n){let s=this.deserializer,o=H.of(r.output),i={};if(n.statusCode>=300){let l=await Dt(n.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(r,t,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=await this.deserializeHttpMessage(o,t,n,i);if(a.length){let l=await Dt(n.body,t);if(l.byteLength>0){let u=await s.read(o,l);for(let f of a)i[f]=u[f]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(r,t,n,s,o){let i;s instanceof Set?i=o:i=s;let a=this.deserializer,l=H.of(r),u=[];for(let[f,h]of l.structIterator()){let g=h.getMemberTraits();if(g.httpPayload){if(h.isStreaming())h.isStructSchema()?i[f]=await this.deserializeEventStream({response:n,responseSchema:l}):i[f]=(0,tw.sdkStreamMixin)(n.body);else if(n.body){let S=await Dt(n.body,t);S.byteLength>0&&(i[f]=await a.read(h,S))}}else if(g.httpHeader){let y=String(g.httpHeader).toLowerCase(),S=n.headers[y];if(S!=null)if(h.isListSchema()){let I=h.getValueSchema();I.getMergedTraits().httpHeader=y;let R;I.isTimestampSchema()&&I.getSchema()===4?R=Lp(S,",",2):R=Co(S);let v=[];for(let k of R)v.push(await a.read(I,k.trim()));i[f]=v}else i[f]=await a.read(h,S)}else if(g.httpPrefixHeaders!==void 0){i[f]={};for(let[y,S]of Object.entries(n.headers))if(y.startsWith(g.httpPrefixHeaders)){let I=h.getValueSchema();I.getMergedTraits().httpHeader=y,i[f][y.slice(g.httpPrefixHeaders.length)]=await a.read(I,S)}}else g.httpResponseCode?i[f]=n.statusCode:u.push(f)}return u}}});var nw,dr,sw=x(()=>{ve();nw=T(be());Ta();Ga();dr=class extends vn{async serializeRequest(r,t,n){let s=this.serializer,o={},i={},a=await n.endpoint(),l=H.of(r?.input),u=l.getSchema(),f,h=new nw.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(h,a),this.setHostPrefix(h,r,t));let g={...t};if(t){let y=l.getEventStreamMember();if(y){if(g[y]){let S={};for(let[I,R]of l.structIterator())I!==y&&g[I]&&(s.write(R,g[I]),S[I]=s.flush());f=await this.serializeEventStream({eventStream:g[y],requestSchema:l,initialRequest:S})}}else s.write(u,g),f=s.flush()}return h.headers=i,h.query=o,h.body=f,h.method="POST",h}async deserializeResponse(r,t,n){let s=this.deserializer,o=H.of(r.output),i={};if(n.statusCode>=300){let l=await Dt(n.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(r,t,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let u=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=u}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let l=await Dt(n.body,t);l.byteLength>0&&Object.assign(i,await s.read(o,l))}return i.$metadata=this.deserializeMetadata(n),i}}});var Fp,$p=x(()=>{Ia();Fp=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?i.split("/").map(a=>jt(a)).join("/"):jt(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function To(e,r){return new Wa(e,r)}var ow,Wa,iw=x(()=>{ow=T(be());$p();Wa=class{constructor(r,t){d(this,"input");d(this,"context");d(this,"query",{});d(this,"method","");d(this,"headers",{});d(this,"path","");d(this,"body",null);d(this,"hostname","");d(this,"resolvePathStack",[]);this.input=r,this.context=t}async build(){let{hostname:r,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new ow.HttpRequest({protocol:t,hostname:this.hostname||r,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+r}),this}p(r,t,n,s){return this.resolvePathStack.push(o=>{this.path=Fp(o,this.input,r,t,n,s)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}});function gt(e,r){if(r.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(r.httpBindings?typeof n=="string"||s?6:o||t?5:void 0:void 0)??r.timestampFormat.default}var Ka=x(()=>{});var jp,aw,Pn,zp=x(()=>{ve();dt();jp=T(Ve()),aw=T(qe());Ka();Pn=class{constructor(r){d(this,"settings");d(this,"serdeContext");this.settings=r}setSerdeContext(r){this.serdeContext=r}read(r,t){let n=H.of(r);if(n.isListSchema())return Co(t).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??jp.fromBase64)(t);if(n.isTimestampSchema())switch(gt(n,this.settings)){case 5:return kp(t);case 6:return Mp(t);case 7:return xo(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=t;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=st.from(o)),o}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new Ie(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(r){return(this.serdeContext?.utf8Encoder??aw.toUtf8)((this.serdeContext?.base64Decoder??jp.fromBase64)(r))}}});var Ja,Nn,cw=x(()=>{ve();Ja=T(qe());zp();Nn=class{constructor(r,t){d(this,"codecDeserializer");d(this,"stringDeserializer");d(this,"serdeContext");this.codecDeserializer=r,this.stringDeserializer=new Pn(t)}setSerdeContext(r){this.stringDeserializer.setSerdeContext(r),this.codecDeserializer.setSerdeContext(r),this.serdeContext=r}read(r,t){let n=H.of(r),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Ja.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Ja.fromUtf8;return typeof t=="string"?i(t):t}else if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}}});var Hp,Io,qp=x(()=>{ve();dt();Hp=T(Ve());Ka();Io=class{constructor(r){d(this,"settings");d(this,"stringBuffer","");d(this,"serdeContext");this.settings=r}setSerdeContext(r){this.serdeContext=r}write(r,t){let n=H.of(r);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(gt(n,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=bo(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??Hp.toBase64)(t);return}if(n.isListSchema()&&Array.isArray(t)){let i="";for(let a of t){this.write([n.getValueSchema(),n.getMergedTraits()],a);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:Pp(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=st.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Hp.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let r=this.stringBuffer;return this.stringBuffer="",r}}});var Dn,dw=x(()=>{ve();qp();Dn=class{constructor(r,t,n=new Io(t)){d(this,"codecSerializer");d(this,"stringSerializer");d(this,"buffer");this.codecSerializer=r,this.stringSerializer=n}setSerdeContext(r){this.codecSerializer.setSerdeContext(r),this.stringSerializer.setSerdeContext(r)}write(r,t){let n=H.of(r),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,t)}flush(){if(this.buffer!==void 0){let r=this.buffer;return this.buffer=void 0,r}return this.codecSerializer.flush()}}});var lw={};ft(lw,{FromStringShapeDeserializer:()=>Pn,HttpBindingProtocol:()=>Rn,HttpInterceptingShapeDeserializer:()=>Nn,HttpInterceptingShapeSerializer:()=>Dn,HttpProtocol:()=>vn,RequestBuilder:()=>Wa,RpcProtocol:()=>dr,ToStringShapeSerializer:()=>Io,collectBody:()=>Dt,determineTimestampFormat:()=>gt,extendedEncodeURIComponent:()=>jt,requestBuilder:()=>To,resolvedPath:()=>Fp});var yt=x(()=>{Ta();Ia();rw();Ga();sw();iw();$p();zp();cw();dw();qp();Ka()});var uw=x(()=>{yt()});function Kk(e,r,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[r]=t}var mw=x(()=>{});var On,pw=x(()=>{On=class{constructor(r){d(this,"authSchemes",new Map);for(let[t,n]of Object.entries(r))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(r){return this.authSchemes.get(r)}}});var fw,Vp,Gp,hw=x(()=>{fw=T(be()),Vp=T(Dr()),Gp=class{async sign(r,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=fw.HttpRequest.clone(r);if(n.in===Vp.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=t.apiKey;else if(n.in===Vp.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var gw,Wp,yw=x(()=>{gw=T(be()),Wp=class{async sign(r,t,n){let s=gw.HttpRequest.clone(r);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var lr,Ew=x(()=>{lr=class{async sign(r,t,n){return r}}});var Sw=x(()=>{hw();yw();Ew()});var bw,Jk,Kp,Ya,Jp,ww=x(()=>{bw=e=>function(t){return Ya(t)&&t.expiration.getTime()-Date.now()<e},Jk=3e5,Kp=bw(3e5),Ya=e=>e.expiration!==void 0,Jp=(e,r,t)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,l=async u=>{o||(o=n(u));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return r===void 0?async u=>((!i||u?.forceRefresh)&&(s=await l(u)),s):async u=>((!i||u?.forceRefresh)&&(s=await l(u)),a?s:t(s)?(r(s)&&await l(u),s):(a=!0,s))}});var _w=x(()=>{pw();Sw();ww()});var kn={};ft(kn,{DefaultIdentityProviderConfig:()=>On,EXPIRATION_MS:()=>Jk,HttpApiKeyAuthSigner:()=>Gp,HttpBearerAuthSigner:()=>Wp,NoAuthSigner:()=>lr,createIsIdentityExpiredFunction:()=>bw,createPaginator:()=>FE,doesIdentityRequireRefresh:()=>Ya,getHttpAuthSchemeEndpointRuleSetPlugin:()=>lo,getHttpAuthSchemePlugin:()=>ND,getHttpSigningPlugin:()=>uo,getSmithyContext:()=>AD,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>xE,httpAuthSchemeMiddleware:()=>co,httpAuthSchemeMiddlewareOptions:()=>PE,httpSigningMiddleware:()=>Rm,httpSigningMiddlewareOptions:()=>ME,isIdentityExpired:()=>Kp,memoizeIdentityProvider:()=>Jp,normalizeProvider:()=>Mr,requestBuilder:()=>To,setFeature:()=>Kk});var ot=x(()=>{SE();DE();BE();UE();$E();uw();mw();_w()});var us=N(Mn=>{"use strict";var Xp=Dr(),Qp=class{constructor({size:r,params:t}){d(this,"capacity");d(this,"data",new Map);d(this,"parameters",[]);this.capacity=r??50,t&&(this.parameters=t)}get(r,t){let n=this.hash(r);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(r){let t="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(r[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},Yk=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),xw=e=>Yk.test(e)||e.startsWith("[")&&e.endsWith("]"),Xk=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ef=(e,r=!1)=>{if(!r)return Xk.test(e);let t=e.split(".");for(let n of t)if(!ef(n))return!1;return!0},Zp={},Ao="endpoints";function $r(e){return typeof e!="object"||e==null?e:"ref"in e?`$${$r(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map($r).join(", ")})`:JSON.stringify(e,null,2)}var Ye=class extends Error{constructor(r){super(r),this.name="EndpointError"}},Qk=(e,r)=>e===r,Zk=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ye(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ye(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t},Cw=(e,r)=>Zk(r).reduce((t,n)=>{if(typeof t!="object")throw new Ye(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e),eM=e=>e!=null,tM=e=>!e,Yp={[Xp.EndpointURLScheme.HTTP]:80,[Xp.EndpointURLScheme.HTTPS]:443},rM=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:y,protocol:S="",path:I="",query:R={}}=e,v=new URL(`${S}//${g}${y?`:${y}`:""}${I}`);return v.search=Object.entries(R).map(([k,F])=>`${k}=${F}`).join("&"),v}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=r;if(a)return null;let l=i.slice(0,-1);if(!Object.values(Xp.EndpointURLScheme).includes(l))return null;let u=xw(s),f=t.includes(`${n}:${Yp[l]}`)||typeof e=="string"&&e.includes(`${n}:${Yp[l]}`),h=`${n}${f?`:${Yp[l]}`:""}`;return{scheme:l,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},nM=(e,r)=>e===r,sM=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t),oM=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),iM={booleanEquals:Qk,getAttr:Cw,isSet:eM,isValidHostLabel:ef,not:tM,parseURL:rM,stringEquals:nM,substring:sM,uriEncode:oM},Tw=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[l,u]=a.split("#");t.push(Cw(n[l],u))}else t.push(n[a]);s=i+1}return t.join("")},aM=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e],Xa=(e,r,t)=>{if(typeof e=="string")return Tw(e,t);if(e.fn)return Iw(e,t);if(e.ref)return aM(e,t);throw new Ye(`'${r}': ${String(e)} is not a string, function or reference.`)},Iw=({fn:e,argv:r},t)=>{let n=r.map(o=>["boolean","number"].includes(typeof o)?o:Xa(o,"arg",t)),s=e.split(".");return s[0]in Zp&&s[1]!=null?Zp[s[0]][s[1]](...n):iM[e](...n)},cM=({assign:e,...r},t)=>{if(e&&e in t.referenceRecord)throw new Ye(`'${e}' is already defined in Reference Record.`);let n=Iw(r,t);return t.logger?.debug?.(`${Ao} evaluateCondition: ${$r(r)} = ${$r(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},tf=(e=[],r)=>{let t={};for(let n of e){let{result:s,toAssign:o}=cM(n,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,r.logger?.debug?.(`${Ao} assign: ${o.name} := ${$r(o.value)}`))}return{result:!0,referenceRecord:t}},dM=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let i=Xa(o,"Header value entry",r);if(typeof i!="string")throw new Ye(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Aw=(e,r)=>{if(Array.isArray(e))return e.map(t=>Aw(t,r));switch(typeof e){case"string":return Tw(e,r);case"object":if(e===null)throw new Ye(`Unexpected endpoint property: ${e}`);return vw(e,r);case"boolean":return e;default:throw new Ye(`Unexpected endpoint property type: ${typeof e}`)}},vw=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:Aw(s,r)}),{}),lM=(e,r)=>{let t=Xa(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new Ye(`Endpoint URL must be a string, got ${typeof t}`)},uM=(e,r)=>{let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=tf(t,r);if(!s)return;let i={...r,referenceRecord:{...r.referenceRecord,...o}},{url:a,properties:l,headers:u}=n;return r.logger?.debug?.(`${Ao} Resolving endpoint from template: ${$r(n)}`),{...u!=null&&{headers:dM(u,i)},...l!=null&&{properties:vw(l,i)},url:lM(a,i)}},mM=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=tf(t,r);if(s)throw new Ye(Xa(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))},pM=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=tf(t,r);if(s)return Rw(n,{...r,referenceRecord:{...r.referenceRecord,...o}})},Rw=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=uM(t,r);if(n)return n}else if(t.type==="error")mM(t,r);else if(t.type==="tree"){let n=pM(t,r);if(n)return n}else throw new Ye(`Unknown endpoint rule: ${t}`);throw new Ye("Rules evaluation failed")},fM=(e,r)=>{let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;r.logger?.debug?.(`${Ao} Initial EndpointParams: ${$r(t)}`);let i=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,f])=>[u,f.default]);if(i.length>0)for(let[u,f]of i)t[u]=t[u]??f;let a=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(t[u]==null)throw new Ye(`Missing required parameter: '${u}'`);let l=Rw(o,{endpointParams:t,logger:n,referenceRecord:{}});return r.logger?.debug?.(`${Ao} Resolved endpoint: ${$r(l)}`),l};Mn.EndpointCache=Qp;Mn.EndpointError=Ye;Mn.customEndpointFunctions=Zp;Mn.isIpAddress=xw;Mn.isValidHostLabel=ef;Mn.resolveEndpoint=fM});var Nw=N(Pw=>{"use strict";function hM(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}Pw.parseQueryString=hM});var jr=N(Ow=>{"use strict";var gM=Nw(),Dw=e=>{if(typeof e=="string")return Dw(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,i;return o&&(i=gM.parseQueryString(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:i}};Ow.parseUrl=Dw});var ms=N((_J,qw)=>{"use strict";var Qa=Object.defineProperty,yM=Object.getOwnPropertyDescriptor,EM=Object.getOwnPropertyNames,SM=Object.prototype.hasOwnProperty,zr=(e,r)=>Qa(e,"name",{value:r,configurable:!0}),bM=(e,r)=>{for(var t in r)Qa(e,t,{get:r[t],enumerable:!0})},wM=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of EM(r))!SM.call(e,s)&&s!==t&&Qa(e,s,{get:()=>r[s],enumerable:!(n=yM(r,s))||n.enumerable});return e},_M=e=>wM(Qa({},"__esModule",{value:!0}),e),Mw={};bM(Mw,{ConditionObject:()=>xe.ConditionObject,DeprecatedObject:()=>xe.DeprecatedObject,EndpointError:()=>xe.EndpointError,EndpointObject:()=>xe.EndpointObject,EndpointObjectHeaders:()=>xe.EndpointObjectHeaders,EndpointObjectProperties:()=>xe.EndpointObjectProperties,EndpointParams:()=>xe.EndpointParams,EndpointResolverOptions:()=>xe.EndpointResolverOptions,EndpointRuleObject:()=>xe.EndpointRuleObject,ErrorRuleObject:()=>xe.ErrorRuleObject,EvaluateOptions:()=>xe.EvaluateOptions,Expression:()=>xe.Expression,FunctionArgv:()=>xe.FunctionArgv,FunctionObject:()=>xe.FunctionObject,FunctionReturn:()=>xe.FunctionReturn,ParameterObject:()=>xe.ParameterObject,ReferenceObject:()=>xe.ReferenceObject,ReferenceRecord:()=>xe.ReferenceRecord,RuleSetObject:()=>xe.RuleSetObject,RuleSetRules:()=>xe.RuleSetRules,TreeRuleObject:()=>xe.TreeRuleObject,awsEndpointFunctions:()=>zw,getUserAgentPrefix:()=>IM,isIpAddress:()=>xe.isIpAddress,partition:()=>$w,resolveDefaultAwsRegionalEndpointsConfig:()=>vM,resolveEndpoint:()=>xe.resolveEndpoint,setPartitionInfo:()=>jw,toEndpointV1:()=>Hw,useDefaultPartitionInfo:()=>TM});qw.exports=_M(Mw);var xe=us(),Lw=zr((e,r=!1)=>{if(r){for(let t of e.split("."))if(!Lw(t))return!1;return!0}return!(!(0,xe.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,xe.isIpAddress)(e))},"isVirtualHostableS3Bucket"),kw=":",xM="/",CM=zr(e=>{let r=e.split(kw);if(r.length<6)return null;let[t,n,s,o,i,...a]=r;if(t!=="arn"||n===""||s===""||a.join(kw)==="")return null;let l=a.map(u=>u.split(xM)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:l}},"parseArn"),Bw={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},Uw=Bw,Fw="",$w=zr(e=>{let{partitions:r}=Uw;for(let n of r){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},"partition"),jw=zr((e,r="")=>{Uw=e,Fw=r},"setPartitionInfo"),TM=zr(()=>{jw(Bw,"")},"useDefaultPartitionInfo"),IM=zr(()=>Fw,"getUserAgentPrefix"),zw={isVirtualHostableS3Bucket:Lw,parseArn:CM,partition:$w};xe.customEndpointFunctions.aws=zw;var AM=jr(),vM=zr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>Hw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),Hw=zr(e=>(0,AM.parseUrl)(e.url),"toEndpointV1")});var Za,ps,Vw=x(()=>{Za={warningEmitted:!1},ps=e=>{e&&!Za.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Za.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Hr(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var Gw=x(()=>{});function Ww(e,r,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=t}var Kw=x(()=>{});function Jw(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var Yw=x(()=>{});var qr={};ft(qr,{emitWarningIfUnsupportedVersion:()=>ps,setCredentialFeature:()=>Hr,setFeature:()=>Ww,setTokenFeature:()=>Jw,state:()=>Za});var Ot=x(()=>{Vw();Gw();Kw();Yw()});var Xw,rf,Qw=x(()=>{Xw=T(be()),rf=e=>Xw.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var fs,nf=x(()=>{fs=e=>new Date(Date.now()+e)});var Zw,e_=x(()=>{nf();Zw=(e,r)=>Math.abs(fs(r).getTime()-e)>=3e5});var sf,t_=x(()=>{e_();sf=(e,r)=>{let t=Date.parse(e);return Zw(t,r)?t-Date.now():r}});var of=x(()=>{Qw();nf();t_()});var r_,vo,hs,lt,af,cf=x(()=>{r_=T(be());of();vo=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},hs=async e=>{let r=vo("context",e.context),t=vo("config",e.config),n=r.endpointV2?.properties?.authSchemes?.[0],o=await vo("signer",t.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}},lt=class{async sign(r,t,n){if(!r_.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await hs(n),{config:o,signer:i}=s,{signingRegion:a,signingName:l}=s,u=n.context;if(u?.authSchemes?.length??!1){let[h,g]=u.authSchemes;h?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,l=g?.signingName??l)}return await i.sign(r,{signingDate:fs(o.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(r){return t=>{let n=t.ServerTime??rf(t.$response);if(n){let s=vo("config",r.config),o=s.systemClockOffset;s.systemClockOffset=sf(n,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(r,t){let n=rf(r);if(n){let s=vo("config",t.config);s.systemClockOffset=sf(n,s.systemClockOffset)}}},af=lt});var n_,Ro,s_=x(()=>{n_=T(be());of();cf();Ro=class extends lt{async sign(r,t,n){if(!n_.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}=await hs(n),f=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(r,{signingDate:fs(s.systemClockOffset),signingRegion:f,signingService:l})}}});var df,o_=x(()=>{df=e=>typeof e=="string"&&e.length>0?e.split(",").map(r=>r.trim()):[]});var ec,lf=x(()=>{ec=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var i_,a_,gs,c_=x(()=>{o_();lf();i_="AWS_AUTH_SCHEME_PREFERENCE",a_="auth_scheme_preference",gs={environmentVariableSelector:(e,r)=>{if(r?.signingName&&ec(r.signingName)in e)return["httpBearerAuth"];if(i_ in e)return df(e[i_])},configFileSelector:e=>{if(a_ in e)return df(e[a_])},default:[]}});var it=N(Ln=>{"use strict";var ys=class e extends Error{constructor(t,n=!0){let s,o=!0;typeof n=="boolean"?(s=void 0,o=n):n!=null&&typeof n=="object"&&(s=n.logger,o=n.tryNextLink??!0);super(t);d(this,"name","ProviderError");d(this,"tryNextLink");this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),s?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}},uf=class e extends ys{constructor(t,n=!0){super(t,n);d(this,"name","CredentialsProviderError");Object.setPrototypeOf(this,e.prototype)}},mf=class e extends ys{constructor(t,n=!0){super(t,n);d(this,"name","TokenProviderError");Object.setPrototypeOf(this,e.prototype)}},RM=(...e)=>async()=>{if(e.length===0)throw new ys("No providers in chain");let r;for(let t of e)try{return await t()}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},PM=e=>()=>Promise.resolve(e),NM=(e,r,t)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return r===void 0?async l=>((!o||l?.forceRefresh)&&(n=await a()),n):async l=>((!o||l?.forceRefresh)&&(n=await a()),i?n:t&&!t(n)?(i=!0,n):(r(n)&&await a(),n))};Ln.CredentialsProviderError=uf;Ln.ProviderError=ys;Ln.TokenProviderError=mf;Ln.chain=RM;Ln.fromStatic=PM;Ln.memoize=NM});var pf,d_,l_,u_=x(()=>{ot();pf=T(it()),d_=e=>(e.sigv4aSigningRegionSet=Mr(e.sigv4aSigningRegionSet),e),l_={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(r=>r.trim());throw new pf.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(r=>r.trim());throw new pf.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var M_=N(se=>{"use strict";var Vr=sp(),Bn=qe(),DM=Nm(),h_=be(),m_=nt(),tc=qm(),g_="X-Amz-Algorithm",y_="X-Amz-Credential",Sf="X-Amz-Date",E_="X-Amz-SignedHeaders",S_="X-Amz-Expires",bf="X-Amz-Signature",wf="X-Amz-Security-Token",OM="X-Amz-Region-Set",_f="authorization",xf=Sf.toLowerCase(),b_="date",w_=[_f,xf,b_],__=bf.toLowerCase(),ic="x-amz-content-sha256",x_=wf.toLowerCase(),kM="host",C_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},T_=/^proxy-/,I_=/^sec-/,MM=[/^proxy-/i,/^sec-/i],rc="AWS4-HMAC-SHA256",LM="AWS4-ECDSA-P256-SHA256",A_="AWS4-HMAC-SHA256-PAYLOAD",v_="UNSIGNED-PAYLOAD",R_=50,Cf="aws4_request",P_=3600*24*7,Es={},nc=[],sc=(e,r,t)=>`${e}/${r}/${t}/${Cf}`,N_=async(e,r,t,n,s)=>{let o=await p_(e,r.secretAccessKey,r.accessKeyId),i=`${t}:${n}:${s}:${Vr.toHex(o)}:${r.sessionToken}`;if(i in Es)return Es[i];for(nc.push(i);nc.length>R_;)delete Es[nc.shift()];let a=`AWS4${r.secretAccessKey}`;for(let l of[t,n,s,Cf])a=await p_(e,a,l);return Es[i]=a},BM=()=>{nc.length=0,Object.keys(Es).forEach(e=>{delete Es[e]})},p_=(e,r,t)=>{let n=new e(r);return n.update(Bn.toUint8Array(t)),n.digest()},ff=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in C_||r?.has(o)||T_.test(o)||I_.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},oc=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ic)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||DM.isArrayBuffer(r)){let n=new t;return n.update(Bn.toUint8Array(r)),Vr.toHex(await n.digest())}return v_},hf=class{format(r){let t=[];for(let o of Object.keys(r)){let i=Bn.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(r.value,3),i;case"string":let a=Bn.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);let u=new Uint8Array(l.buffer);return u.set(a,3),u;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(gf.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!UM.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(Vr.fromHex(r.value.replace(/\-/g,"")),1),h}}},UM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,gf=class e{constructor(r){d(this,"bytes");if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&f_(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&f_(r),parseInt(Vr.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function f_(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var D_=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1},O_=(e,r={})=>{let{headers:t,query:n={}}=h_.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(o)||r.hoistableHeaders?.has(o))&&(n[s]=t[s],delete t[s])}return{...e,headers:t,query:n}},yf=e=>{e=h_.HttpRequest.clone(e);for(let r of Object.keys(e.headers))w_.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e},k_=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e)){if(n.toLowerCase()===__)continue;let s=tc.escapeUri(n);r.push(s);let o=e[n];typeof o=="string"?t[s]=`${s}=${tc.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${tc.escapeUri(a)}`]),[]).sort().join("&"))}return r.sort().map(n=>t[n]).filter(n=>n).join("&")},FM=e=>$M(e).toISOString().replace(/\.\d{3}Z$/,"Z"),$M=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,ac=class{constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:i=!0}){d(this,"service");d(this,"regionProvider");d(this,"credentialProvider");d(this,"sha256");d(this,"uriEscapePath");d(this,"applyChecksum");this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=m_.normalizeProvider(n),this.credentialProvider=m_.normalizeProvider(t)}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${k_(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n,s){let o=new this.sha256;o.update(Bn.toUint8Array(n));let i=await o.digest();return`${s}
${r}
${t}
${Vr.toHex(i)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&r?.endsWith("/")?"/":""}`;return tc.escapeUri(n).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){let t=FM(r).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}},Ef=class extends ac{constructor({applyChecksum:t,credentials:n,region:s,service:o,sha256:i,uriEscapePath:a=!0}){super({applyChecksum:t,credentials:n,region:s,service:o,sha256:i,uriEscapePath:a});d(this,"headerFormatter",new hf)}async presign(t,n={}){let{signingDate:s=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:l,hoistableHeaders:u,signingRegion:f,signingService:h}=n,g=await this.credentialProvider();this.validateResolvedCredentials(g);let y=f??await this.regionProvider(),{longDate:S,shortDate:I}=this.formatDate(s);if(o>P_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=sc(I,y,h??this.service),v=O_(yf(t),{unhoistableHeaders:a,hoistableHeaders:u});g.sessionToken&&(v.query[wf]=g.sessionToken),v.query[g_]=rc,v.query[y_]=`${g.accessKeyId}/${R}`,v.query[Sf]=S,v.query[S_]=o.toString(10);let k=ff(v,i,l);return v.query[E_]=this.getCanonicalHeaderList(k),v.query[bf]=await this.getSignature(S,R,this.getSigningKey(g,y,I,h),this.createCanonicalRequest(v,k,await oc(t,this.sha256))),v}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):t.message?this.signMessage(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:s=new Date,priorSignature:o,signingRegion:i,signingService:a}){let l=i??await this.regionProvider(),{shortDate:u,longDate:f}=this.formatDate(s),h=sc(u,l,a??this.service),g=await oc({headers:{},body:n},this.sha256),y=new this.sha256;y.update(t);let S=Vr.toHex(await y.digest()),I=[A_,f,h,o,S,g].join(`
`);return this.signString(I,{signingDate:s,signingRegion:l,signingService:a})}async signMessage(t,{signingDate:n=new Date,signingRegion:s,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:n,signingRegion:s,signingService:o,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:n=new Date,signingRegion:s,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=s??await this.regionProvider(),{shortDate:l}=this.formatDate(n),u=new this.sha256(await this.getSigningKey(i,a,l,o));return u.update(Bn.toUint8Array(t)),Vr.toHex(await u.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:s,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let l=await this.credentialProvider();this.validateResolvedCredentials(l);let u=i??await this.regionProvider(),f=yf(t),{longDate:h,shortDate:g}=this.formatDate(n),y=sc(g,u,a??this.service);f.headers[xf]=h,l.sessionToken&&(f.headers[x_]=l.sessionToken);let S=await oc(f,this.sha256);!D_(ic,f.headers)&&this.applyChecksum&&(f.headers[ic]=S);let I=ff(f,o,s),R=await this.getSignature(h,y,this.getSigningKey(l,u,g,a),this.createCanonicalRequest(f,I,S));return f.headers[_f]=`${rc} Credential=${l.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(I)}, Signature=${R}`,f}async getSignature(t,n,s,o){let i=await this.createStringToSign(t,n,o,rc),a=new this.sha256(await s);return a.update(Bn.toUint8Array(i)),Vr.toHex(await a.digest())}getSigningKey(t,n,s,o){return N_(this.sha256,t,s,n,o||this.service)}},jM={SignatureV4a:null};se.ALGORITHM_IDENTIFIER=rc;se.ALGORITHM_IDENTIFIER_V4A=LM;se.ALGORITHM_QUERY_PARAM=g_;se.ALWAYS_UNSIGNABLE_HEADERS=C_;se.AMZ_DATE_HEADER=xf;se.AMZ_DATE_QUERY_PARAM=Sf;se.AUTH_HEADER=_f;se.CREDENTIAL_QUERY_PARAM=y_;se.DATE_HEADER=b_;se.EVENT_ALGORITHM_IDENTIFIER=A_;se.EXPIRES_QUERY_PARAM=S_;se.GENERATED_HEADERS=w_;se.HOST_HEADER=kM;se.KEY_TYPE_IDENTIFIER=Cf;se.MAX_CACHE_SIZE=R_;se.MAX_PRESIGNED_TTL=P_;se.PROXY_HEADER_PATTERN=T_;se.REGION_SET_PARAM=OM;se.SEC_HEADER_PATTERN=I_;se.SHA256_HEADER=ic;se.SIGNATURE_HEADER=__;se.SIGNATURE_QUERY_PARAM=bf;se.SIGNED_HEADERS_QUERY_PARAM=E_;se.SignatureV4=Ef;se.SignatureV4Base=ac;se.TOKEN_HEADER=x_;se.TOKEN_QUERY_PARAM=wf;se.UNSIGNABLE_PATTERNS=MM;se.UNSIGNED_PAYLOAD=v_;se.clearCredentialCache=BM;se.createScope=sc;se.getCanonicalHeaders=ff;se.getCanonicalQuery=k_;se.getPayloadHash=oc;se.getSigningKey=N_;se.hasHeader=D_;se.moveHeadersToQuery=O_;se.prepareRequest=yf;se.signatureV4aContainer=jM});function zM(e,{credentials:r,credentialDefaultProvider:t}){let n;return r?r?.memoized?n=r:n=Jp(r,Kp,Ya):t?n=Mr(t(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function HM(e,r){if(r.configBound)return r;let t=async n=>r({...n,callerClientConfig:e});return t.memoized=r.memoized,t.configBound=!0,t}var Tf,Un,L_,B_=x(()=>{Ot();ot();Tf=T(M_()),Un=e=>{let r=e.credentials,t=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==r&&u!==n&&(t=!0),r=u;let f=zM(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),h=HM(e,f);t&&!h.attributed?(n=async g=>h(g).then(y=>Hr(y,"CREDENTIALS_CODE","e")),n.memoized=h.memoized,n.configBound=h.configBound,n.attributed=!0):n=h},get(){return n},enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Mr(e.signer):e.regionInfoProvider?a=()=>Mr(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,f])=>{let{signingRegion:h,signingService:g}=u;e.signingRegion=e.signingRegion||h||f,e.signingName=e.signingName||g||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},S=e.signerConstructor||Tf.SignatureV4;return new S(y)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Mr(e.region)(),properties:{}},u);let f=u.signingRegion,h=u.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},y=e.signerConstructor||Tf.SignatureV4;return new y(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},L_=Un});var U_=x(()=>{cf();s_();c_();u_();B_()});var F_={};ft(F_,{AWSSDKSigV4Signer:()=>af,AwsSdkSigV4ASigner:()=>Ro,AwsSdkSigV4Signer:()=>lt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>gs,NODE_SIGV4A_CONFIG_OPTIONS:()=>l_,getBearerTokenEnvKey:()=>ec,resolveAWSSDKSigV4Config:()=>L_,resolveAwsSdkSigV4AConfig:()=>d_,resolveAwsSdkSigV4Config:()=>Un,validateSigningProperties:()=>hs});var If=x(()=>{U_();lf()});function Gr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function cc(e){return e[Af]=!0,e}var Af,dc=x(()=>{Af=Symbol("@smithy/core/cbor::tagSymbol")});function z_(e){we=e,mr=new DataView(we.buffer,we.byteOffset,we.byteLength)}function qt(e,r){if(e>=r)throw new Error("unexpected end of (decode) payload.");let t=(we[e]&224)>>5,n=we[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=q_[n],a=i+1;if(o=a,r-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let l=e+1;i===1?s=we[l]:i===2?s=mr.getUint16(l):i===4?s=mr.getUint32(l):s=mr.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(t===0)return de=o,vf(s);if(t===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,de=o,vf(i)}else if(n===2||n===3){let i=Oo(e+o,r),a=BigInt(0),l=e+o+de;for(let u=l;u<l+i;++u)a=a<<BigInt(8)|BigInt(we[u]);return de=o+de+i,n===3?-a-BigInt(1):a}else if(n===4){let i=qt(e+o,r),[a,l]=i,u=l<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(l)),h,g=l<0?"-":"";return h=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),h=h.replace(/^0+/g,""),h===""&&(h="0"),h[0]==="."&&(h="0"+h),h=g+h,de=o+de,Bp(h)}else{let i=qt(e+o,r);return de=o+de,cc({tag:vf(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(t){case 3:return YM(e,r);case 5:return t1(e,r);case 4:return ZM(e,r);case 2:return XM(e,r)}else switch(t){case 3:return JM(e,r);case 5:return e1(e,r);case 4:return QM(e,r);case 2:return kf(e,r)}default:return r1(e,r)}}function H_(e,r,t){return GM&&e.constructor?.name==="Buffer"?e.toString("utf-8",r,t):$_?$_.decode(e.subarray(r,t)):(0,j_.toUtf8)(e.subarray(r,t))}function WM(e){let r=Number(e);return(r<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<r)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${r} with loss of precision.`)),r}function KM(e,r){let t=e>>7,n=(e&124)>>2,s=(e&3)<<8|r,o=t===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function Oo(e,r){let t=we[e]&31;if(t<24)return de=1,t;if(t===24||t===25||t===26||t===27){let n=q_[t];if(de=n+1,r-e<de)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?we[s]:n===2?mr.getUint16(s):n===4?mr.getUint32(s):WM(mr.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function JM(e,r){let t=Oo(e,r),n=de;if(e+=n,r-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=H_(we,e,e+t);return de=n+t,s}function YM(e,r){e+=1;let t=[];for(let n=e;e<r;){if(we[e]===255){let l=Gr(t.length);return l.set(t,0),de=e-n+2,H_(l,0,l.length)}let s=(we[e]&224)>>5,o=we[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=kf(e,r);e+=de;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function kf(e,r){let t=Oo(e,r),n=de;if(e+=n,r-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=we.subarray(e,e+t);return de=n+t,s}function XM(e,r){e+=1;let t=[];for(let n=e;e<r;){if(we[e]===255){let l=Gr(t.length);return l.set(t,0),de=e-n+2,l}let s=(we[e]&224)>>5,o=we[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=kf(e,r);e+=de;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function QM(e,r){let t=Oo(e,r),n=de;e+=n;let s=e,o=Array(t);for(let i=0;i<t;++i){let a=qt(e,r),l=de;o[i]=a,e+=l}return de=n+(e-s),o}function ZM(e,r){e+=1;let t=[];for(let n=e;e<r;){if(we[e]===255)return de=e-n+2,t;let s=qt(e,r);e+=de,t.push(s)}throw new Error("expected break marker.")}function e1(e,r){let t=Oo(e,r),n=de;e+=n;let s=e,o={};for(let i=0;i<t;++i){if(e>=r)throw new Error("unexpected end of map payload.");let a=(we[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let l=qt(e,r);e+=de;let u=qt(e,r);e+=de,o[l]=u}return de=n+(e-s),o}function t1(e,r){e+=1;let t=e,n={};for(;e<r;){if(e>=r)throw new Error("unexpected end of map payload.");if(we[e]===255)return de=e-t+2,n;let s=(we[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=qt(e,r);e+=de;let i=qt(e,r);e+=de,n[o]=i}throw new Error("expected break marker.")}function r1(e,r){let t=we[e]&31;switch(t){case 21:case 20:return de=1,t===21;case 22:return de=1,null;case 23:return de=1,null;case 25:if(r-e<3)throw new Error("incomplete float16 at end of buf.");return de=3,KM(we[e+1],we[e+2]);case 26:if(r-e<5)throw new Error("incomplete float32 at end of buf.");return de=5,mr.getFloat32(e+1);case 27:if(r-e<9)throw new Error("incomplete float64 at end of buf.");return de=9,mr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function vf(e){if(typeof e=="number")return e;let r=Number(e);return Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:e}var j_,VM,GM,we,mr,$_,de,q_,V_=x(()=>{dt();j_=T(qe());dc();VM=typeof TextDecoder<"u",GM=typeof Buffer<"u",we=Gr(0),mr=new DataView(we.buffer,we.byteOffset,we.byteLength),$_=VM?new TextDecoder:null,de=0;q_={24:1,25:2,26:4,27:8}});function Lf(e){ee.byteLength-Y<e&&(Y<16e6?uc(Math.max(ee.byteLength*4,ee.byteLength+e)):uc(ee.byteLength+e+16e6))}function Bf(){let e=Gr(Y);return e.set(ee.subarray(0,Y),0),Y=0,e}function uc(e){let r=ee;ee=Gr(e),r&&(r.copy?r.copy(ee,0,0,r.byteLength):ee.set(r,0)),hr=new DataView(ee.buffer,ee.byteOffset,ee.byteLength)}function fr(e,r){r<24?ee[Y++]=e<<5|r:r<256?(ee[Y++]=e<<5|24,ee[Y++]=r):r<65536?(ee[Y++]=e<<5|25,hr.setUint16(Y,r),Y+=2):r<2**32?(ee[Y++]=e<<5|26,hr.setUint32(Y,r),Y+=4):(ee[Y++]=e<<5|27,hr.setBigUint64(Y,typeof r=="bigint"?r:BigInt(r)),Y+=8)}function K_(e){let r=[e];for(;r.length;){let t=r.pop();if(Lf(typeof t=="string"?t.length*4:64),typeof t=="string"){if(G_)fr(3,Buffer.byteLength(t)),Y+=ee.write(t,Y);else{let n=(0,W_.fromUtf8)(t);fr(3,n.byteLength),ee.set(n,Y),Y+=n.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let n=t>=0,s=n?0:1,o=n?t:-t-1;o<24?ee[Y++]=s<<5|o:o<256?(ee[Y++]=s<<5|24,ee[Y++]=o):o<65536?(ee[Y++]=s<<5|25,ee[Y++]=o>>8,ee[Y++]=o):o<4294967296?(ee[Y++]=s<<5|26,hr.setUint32(Y,o),Y+=4):(ee[Y++]=s<<5|27,hr.setBigUint64(Y,BigInt(o)),Y+=8);continue}ee[Y++]=251,hr.setFloat64(Y,t),Y+=8;continue}else if(typeof t=="bigint"){let n=t>=0,s=n?0:1,o=n?t:-t-BigInt(1),i=Number(o);if(i<24)ee[Y++]=s<<5|i;else if(i<256)ee[Y++]=s<<5|24,ee[Y++]=i;else if(i<65536)ee[Y++]=s<<5|25,ee[Y++]=i>>8,ee[Y++]=i&255;else if(i<4294967296)ee[Y++]=s<<5|26,hr.setUint32(Y,i),Y+=4;else if(o<BigInt("18446744073709551616"))ee[Y++]=s<<5|27,hr.setBigUint64(Y,o),Y+=8;else{let a=o.toString(2),l=new Uint8Array(Math.ceil(a.length/8)),u=o,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(u&BigInt(255)),u>>=BigInt(8);Lf(l.byteLength*2),ee[Y++]=n?194:195,G_?fr(2,Buffer.byteLength(l)):fr(2,l.byteLength),ee.set(l,Y),Y+=l.byteLength}continue}else if(t===null){ee[Y++]=246;continue}else if(typeof t=="boolean"){ee[Y++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)r.push(t[n]);fr(4,t.length);continue}else if(typeof t.byteLength=="number"){Lf(t.length*2),fr(2,t.length),ee.set(t,Y),Y+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof Ie){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,i=BigInt(t.string.replace(".",""));ee[Y++]=196,r.push(i),r.push(o),fr(4,2);continue}if(t[Af])if("tag"in t&&"value"in t){r.push(t.value),fr(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let n=Object.keys(t);for(let s=n.length-1;s>=0;--s){let o=n[s];r.push(t[o]),r.push(o)}fr(5,n.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var W_,G_,n1,ee,hr,Y,J_=x(()=>{dt();W_=T(qe());dc();G_=typeof Buffer<"u",n1=2048,ee=Gr(n1),hr=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),Y=0});var Uf,Y_=x(()=>{V_();J_();Uf={deserialize(e){return z_(e),qt(0,e.length)},serialize(e){try{return K_(e),Bf()}catch(r){throw Bf(),r}},resizeEncodingBuffer(e){uc(e)}}});var mc,pc,fc=x(()=>{dc();mc=e=>cc({tag:1,value:e.getTime()/1e3}),pc=(e,r)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(r.__type!==void 0)return t(r.__type);let n=Object.keys(r).find(s=>s.toLowerCase()==="code");if(n&&r[n]!==void 0)return t(r[n])}});var jf,hc,Ff,$f,zf=x(()=>{ve();dt();jf=T(Ve());Y_();fc();hc=class{constructor(){d(this,"serdeContext")}createSerializer(){let r=new Ff;return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new $f;return r.setSerdeContext(this.serdeContext),r}setSerdeContext(r){this.serdeContext=r}},Ff=class{constructor(){d(this,"serdeContext");d(this,"value")}setSerdeContext(r){this.serdeContext=r}write(r,t){this.value=this.serialize(r,t)}serialize(r,t){let n=H.of(r);if(t==null)return n.isIdempotencyToken()?(0,Ht.v4)():t;if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??jf.fromBase64)(t):t;if(n.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?mc(new Date(Number(t)/1e3|0)):mc(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,a=[],l=0;for(let u of s){let f=this.serialize(n.getValueSchema(),u);(f!=null||i)&&(a[l++]=f)}return a}if(s instanceof Date)return mc(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[a]);(l!=null||i)&&(o[a]=l)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let l=this.serialize(a,s[i]);l!=null&&(o[i]=l)}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return t}flush(){let r=Uf.serialize(this.value);return this.value=void 0,r}},$f=class{constructor(){d(this,"serdeContext")}setSerdeContext(r){this.serdeContext=r}read(r,t){let n=Uf.deserialize(t);return this.readValue(r,n)}readValue(r,t){let n=H.of(r);if(n.isTimestampSchema()&&typeof t=="number")return xo(t);if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??jf.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||n.isDocumentSchema())return t;if(n.isListSchema()){let o=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let l of t){let u=this.readValue(i,l);(u!=null||a)&&o.push(u)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(t)){let l=this.readValue(i,t[a]);(l!=null||o)&&(s[a]=l)}}else if(n.isStructSchema())for(let[o,i]of n.structIterator())s[o]=this.readValue(i,t[o]);return s}else return t}}});var X_,gc,Q_=x(()=>{yt();ve();X_=T(nt());zf();fc();gc=class extends dr{constructor({defaultNamespace:t}){super({defaultNamespace:t});d(this,"codec",new hc);d(this,"serializer",this.codec.createSerializer());d(this,"deserializer",this.codec.createDeserializer())}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),_t(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:i,operation:a}=(0,X_.getSmithyContext)(s),l=`/service/${i}/operation/${a}`;return o.path.endsWith("/")?o.path+=l.slice(1):o.path+=l,o}async deserializeResponse(t,n,s){return super.deserializeResponse(t,n,s)}async handleError(t,n,s,o,i){let a=pc(s,o)??"Unknown",l=this.options.defaultNamespace;a.includes("#")&&([l]=a.split("#"));let u={$metadata:i,$response:s,$fault:s.statusCode<=500?"client":"server"},f=Oe.for(l),h;try{h=f.getSchema(a)}catch{o.Message&&(o.message=o.Message);let k=Oe.for("smithy.ts.sdk.synthetic."+l),F=k.getBaseException();if(F){let Q=k.getErrorCtor(F);throw Object.assign(new Q({name:a}),u,o)}throw Object.assign(new Error(a),u,o)}let g=H.of(h),y=f.getErrorCtor(h),S=o.message??o.Message??"Unknown",I=new y(S),R={};for(let[v,k]of g.structIterator())R[v]=this.deserializer.readValue(k,o[v]);throw Object.assign(I,u,{$fault:g.getMergedTraits().error,message:S},R)}getDefaultContentType(){return"application/cbor"}}});var Z_=x(()=>{fc();Q_();zf()});var xt,bs=x(()=>{ve();xt=class{resolveRestContentType(r,t){let n=t.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":r)}else if(!t.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:l,httpHeader:u,httpLabel:f,httpPrefixHeaders:h}=i.getMergedTraits();return!a&&!l&&!u&&!f&&h===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,t,n,s,o,i){let a=t,l=r;r.includes("#")&&([a,l]=r.split("#"));let u={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},f=Oe.for(a);try{return{errorSchema:i?.(f,l)??f.getSchema(r),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";let g=Oe.for("smithy.ts.sdk.synthetic."+a),y=g.getBaseException();if(y){let S=g.getErrorCtor(y)??Error;throw Object.assign(new S({name:l}),u,s)}throw Object.assign(new Error(l),u,s)}}setQueryCompatError(r,t){let n=t.headers?.["x-amzn-query-error"];if(r!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(r),a={Code:s,Type:o};Object.assign(r,a);for(let[l,u]of i)a[l]=u;delete a.__type,r.Error=a}}queryCompatOutput(r,t){r.Error&&(t.Error=r.Error),r.Type&&(t.Type=r.Type),r.Code&&(t.Code=r.Code)}}});var Hf,ex=x(()=>{Z_();ve();bs();Hf=class extends gc{constructor({defaultNamespace:t,awsQueryCompatible:n}){super({defaultNamespace:t});d(this,"awsQueryCompatible");d(this,"mixin",new xt);this.awsQueryCompatible=!!n}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,n,s,o,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,s);let a=pc(s,o)??"Unknown",{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,s,o,i),f=H.of(l),h=o.message??o.Message??"Unknown",g=Oe.for(l.namespace).getErrorCtor(l)??Error,y=new g(h),S={};for(let[I,R]of f.structIterator())S[I]=this.deserializer.readValue(R,o[I]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,S),Object.assign(y,u,{$fault:f.getMergedTraits().error,message:h},S)}}});var s1,o1,i1,tx=x(()=>{s1=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let r=new Error(`Received number ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}if(typeof e=="boolean"){let r=new Error(`Received boolean ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}return e},o1=e=>{if(e==null)return e;if(typeof e=="string"){let r=e.toLowerCase();if(e!==""&&r!=="false"&&r!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&r!=="false"}return e},i1=e=>{if(e==null)return e;if(typeof e=="string"){let r=Number(e);if(r.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return r}return e}});var Xe,Yr=x(()=>{Xe=class{constructor(){d(this,"serdeContext")}setSerdeContext(r){this.serdeContext=r}}});function rx(e,r,t){if(t?.source){let n=t.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||n!==String(r)))return n.includes(".")?new Ie(n,"bigDecimal"):BigInt(n)}return r}var nx=x(()=>{dt()});var ax=N(ix=>{"use strict";var Fn=(e,r)=>{let t=[];if(e&&t.push(e),r)for(let n of r)t.push(n);return t},Xr=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,qf=()=>{let e=[],r=[],t=!1,n=new Set,s=h=>h.sort((g,y)=>sx[y.step]-sx[g.step]||ox[y.priority||"normal"]-ox[g.priority||"normal"]),o=h=>{let g=!1,y=S=>{let I=Fn(S.name,S.aliases);if(I.includes(h)){g=!0;for(let R of I)n.delete(R);return!1}return!0};return e=e.filter(y),r=r.filter(y),g},i=h=>{let g=!1,y=S=>{if(S.middleware===h){g=!0;for(let I of Fn(S.name,S.aliases))n.delete(I);return!1}return!0};return e=e.filter(y),r=r.filter(y),g},a=h=>(e.forEach(g=>{h.add(g.middleware,{...g})}),r.forEach(g=>{h.addRelativeTo(g.middleware,{...g})}),h.identifyOnResolve?.(f.identifyOnResolve()),h),l=h=>{let g=[];return h.before.forEach(y=>{y.before.length===0&&y.after.length===0?g.push(y):g.push(...l(y))}),g.push(h),h.after.reverse().forEach(y=>{y.before.length===0&&y.after.length===0?g.push(y):g.push(...l(y))}),g},u=(h=!1)=>{let g=[],y=[],S={};return e.forEach(R=>{let v={...R,before:[],after:[]};for(let k of Fn(v.name,v.aliases))S[k]=v;g.push(v)}),r.forEach(R=>{let v={...R,before:[],after:[]};for(let k of Fn(v.name,v.aliases))S[k]=v;y.push(v)}),y.forEach(R=>{if(R.toMiddleware){let v=S[R.toMiddleware];if(v===void 0){if(h)return;throw new Error(`${R.toMiddleware} is not found when adding ${Xr(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&v.after.push(R),R.relation==="before"&&v.before.push(R)}}),s(g).map(l).reduce((R,v)=>(R.push(...v),R),[])},f={add:(h,g={})=>{let{name:y,override:S,aliases:I}=g,R={step:"initialize",priority:"normal",middleware:h,...g},v=Fn(y,I);if(v.length>0){if(v.some(k=>n.has(k))){if(!S)throw new Error(`Duplicate middleware name '${Xr(y,I)}'`);for(let k of v){let F=e.findIndex($=>$.name===k||$.aliases?.some(ce=>ce===k));if(F===-1)continue;let Q=e[F];if(Q.step!==R.step||R.priority!==Q.priority)throw new Error(`"${Xr(Q.name,Q.aliases)}" middleware with ${Q.priority} priority in ${Q.step} step cannot be overridden by "${Xr(y,I)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(F,1)}}for(let k of v)n.add(k)}e.push(R)},addRelativeTo:(h,g)=>{let{name:y,override:S,aliases:I}=g,R={middleware:h,...g},v=Fn(y,I);if(v.length>0){if(v.some(k=>n.has(k))){if(!S)throw new Error(`Duplicate middleware name '${Xr(y,I)}'`);for(let k of v){let F=r.findIndex($=>$.name===k||$.aliases?.some(ce=>ce===k));if(F===-1)continue;let Q=r[F];if(Q.toMiddleware!==R.toMiddleware||Q.relation!==R.relation)throw new Error(`"${Xr(Q.name,Q.aliases)}" middleware ${Q.relation} "${Q.toMiddleware}" middleware cannot be overridden by "${Xr(y,I)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);r.splice(F,1)}}for(let k of v)n.add(k)}r.push(R)},clone:()=>a(qf()),use:h=>{h.applyToStack(f)},remove:h=>typeof h=="string"?o(h):i(h),removeByTag:h=>{let g=!1,y=S=>{let{tags:I,name:R,aliases:v}=S;if(I&&I.includes(h)){let k=Fn(R,v);for(let F of k)n.delete(F);return g=!0,!1}return!0};return e=e.filter(y),r=r.filter(y),g},concat:h=>{let g=a(qf());return g.use(h),g.identifyOnResolve(t||g.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>u(!0).map(h=>{let g=h.step??h.relation+" "+h.toMiddleware;return Xr(h.name,h.aliases)+" - "+g}),identifyOnResolve(h){return typeof h=="boolean"&&(t=h),t},resolve:(h,g)=>{for(let y of u().map(S=>S.middleware).reverse())h=y(h,g);return t&&console.log(f.identify()),h}};return f},sx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ox={high:3,normal:2,low:1};ix.constructStack=qf});var oe=N(ye=>{"use strict";var lx=ax(),Zf=(yt(),ue(lw)),Gf=Dr(),a1=(ve(),ue(rb)),cx=(dt(),ue(Jb)),Wf=class{constructor(r){d(this,"config");d(this,"middlewareStack",lx.constructStack());d(this,"initConfig");d(this,"handlers");this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(r.constructor)?a=l.get(r.constructor):(a=r.resolveMiddleware(this.middlewareStack,this.config,s),l.set(r.constructor,a))}else delete this.handlers,a=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(r).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return a(r).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Vf="***SensitiveInformation***";function Kf(e,r){if(r==null)return r;let t=a1.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return Vf;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return Vf}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return Vf}else if(t.isStructSchema()&&typeof r=="object"){let n=r,s={};for(let[o,i]of t.structIterator())n[o]!=null&&(s[o]=Kf(i,n[o]));return s}return r}var yc=class{constructor(){d(this,"middlewareStack",lx.constructStack());d(this,"schema")}static classBuilder(){return new Jf}resolveMiddlewareWithContext(r,t,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:u,additionalContext:f,CommandCtor:h}){for(let R of s.bind(this)(h,r,t,n))this.middlewareStack.use(R);let g=r.concat(this.middlewareStack),{logger:y}=t,S={logger:y,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[Gf.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...f},{requestHandler:I}=t;return g.resolve(R=>I.handle(R.request,n||{}),S)}},Jf=class{constructor(){d(this,"_init",()=>{});d(this,"_ep",{});d(this,"_middlewareFn",()=>[]);d(this,"_commandName","");d(this,"_clientName","");d(this,"_additionalContext",{});d(this,"_smithyContext",{});d(this,"_inputFilterSensitiveLog");d(this,"_outputFilterSensitiveLog");d(this,"_serializer",null);d(this,"_deserializer",null);d(this,"_operationSchema")}init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,t,n={}){return this._smithyContext={service:r,operation:t,...n},this}c(r={}){return this._additionalContext=r,this}n(r,t){return this._clientName=r,this._commandName=t,this}f(r=n=>n,t=n=>n){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=t,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){let r=this,t;return t=class extends yc{constructor(...[s]){super();d(this,"input");d(this,"serialize",r._serializer);d(this,"deserialize",r._deserializer);this.input=s??{},r._init(this),this.schema=r._operationSchema}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(s,o,i){return this.resolveMiddlewareWithContext(s,o,i,{CommandCtor:t,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(r._operationSchema?Kf.bind(null,r._operationSchema.input):a=>a),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(r._operationSchema?Kf.bind(null,r._operationSchema.output):a=>a),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}}}},c1="***SensitiveInformation***",d1=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(i,a,l){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},l)}else return this.send(u,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}},Yf=class e extends Error{constructor(t){super(t.message);d(this,"$fault");d(this,"$response");d(this,"$retryable");d(this,"$metadata");Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let n=t;return e.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let n=t;return this===e?e.isInstance(t):e.isInstance(t)?n.name&&this.name?this.prototype.isPrototypeOf(t)||n.name===this.name:this.prototype.isPrototypeOf(t):!1}},ux=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},mx=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=u1(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new t({name:r?.code||r?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw ux(i,r)},l1=e=>({output:r,parsedBody:t,errorCode:n})=>{mx({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},u1=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),m1=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},dx=!1,p1=e=>{e&&!dx&&parseInt(e.substring(1,e.indexOf(".")))<16&&(dx=!0)},f1=e=>{let r=[];for(let t in Gf.AlgorithmId){let n=Gf.AlgorithmId[t];e[n]!==void 0&&r.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},h1=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},g1=e=>({setRetryStrategy(r){e.retryStrategy=r},retryStrategy(){return e.retryStrategy}}),y1=e=>{let r={};return r.retryStrategy=e.retryStrategy(),r},px=e=>Object.assign(f1(e),g1(e)),E1=px,S1=e=>Object.assign(h1(e),y1(e)),b1=e=>Array.isArray(e)?e:[e],fx=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=fx(e[t]));return e},w1=e=>e!=null,Xf=class{trace(){}debug(){}info(){}warn(){}error(){}};function hx(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,C1(n,s,o);o=r}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}gx(n,null,o,i)}return n}var _1=e=>{let r={};for(let[t,n]of Object.entries(e||{}))r[t]=[,n];return r},x1=(e,r)=>{let t={};for(let n in r)gx(t,e,r,n);return t},C1=(e,r,t)=>hx(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),gx=(e,r,t,n)=>{if(r!==null){let i=t[n];typeof i=="function"&&(i=[,i]);let[a=T1,l=I1,u=n]=i;(typeof a=="function"&&a(r[u])||typeof a!="function"&&a)&&(e[n]=l(r[u]));return}let[s,o]=t[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:l&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},T1=e=>e!=null,I1=e=>e,A1=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},v1=e=>e.toISOString().replace(".000Z","Z"),Qf=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(Qf);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=Qf(e[t]));return r}return e};Object.defineProperty(ye,"collectBody",{enumerable:!0,get:function(){return Zf.collectBody}});Object.defineProperty(ye,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Zf.extendedEncodeURIComponent}});Object.defineProperty(ye,"resolvedPath",{enumerable:!0,get:function(){return Zf.resolvedPath}});ye.Client=Wf;ye.Command=yc;ye.NoOpLogger=Xf;ye.SENSITIVE_STRING=c1;ye.ServiceException=Yf;ye._json=Qf;ye.convertMap=_1;ye.createAggregatedClient=d1;ye.decorateServiceException=ux;ye.emitWarningIfUnsupportedVersion=p1;ye.getArrayIfSingleItem=b1;ye.getDefaultClientConfiguration=E1;ye.getDefaultExtensionConfiguration=px;ye.getValueFromTextNode=fx;ye.isSerializableHeaderValue=w1;ye.loadConfigsForDefaultMode=m1;ye.map=hx;ye.resolveDefaultRuntimeConfig=S1;ye.serializeDateTime=v1;ye.serializeFloat=A1;ye.take=x1;ye.throwDefaultError=mx;ye.withBaseException=l1;Object.keys(cx).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ye,e)&&Object.defineProperty(ye,e,{enumerable:!0,get:function(){return cx[e]}})})});var yx,Ex,Ec,eh=x(()=>{yx=T(oe()),Ex=T(qe()),Ec=(e,r)=>(0,yx.collectBody)(e,r).then(t=>(r?.utf8Encoder??Ex.toUtf8)(t))});var ws,th,$n,ko=x(()=>{eh();ws=(e,r)=>Ec(e,r).then(t=>{if(t.length)try{return JSON.parse(t)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:t}),n}return{}}),th=async(e,r)=>{let t=await ws(e,r);return t.message=t.message??t.Message,t},$n=(e,r)=>{let t=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r&&typeof r=="object"){let o=t(r,"code");if(o&&r[o]!==void 0)return n(r[o]);if(r.__type!==void 0)return n(r.__type)}}});var Sx,Mo,rh=x(()=>{yt();ve();dt();Sx=T(Ve());Yr();nx();ko();Mo=class extends Xe{constructor(t){super();d(this,"settings");this.settings=t}async read(t,n){return this._read(t,typeof n=="string"?JSON.parse(n,rx):await ws(n,this.serdeContext))}readObject(t,n){return this._read(t,n)}_read(t,n){let s=n!==null&&typeof n=="object",o=H.of(t);if(o.isListSchema()&&Array.isArray(n)){let a=o.getValueSchema(),l=[],u=!!o.getMergedTraits().sparse;for(let f of n)(u||f!=null)&&l.push(this._read(a,f));return l}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),l={},u=!!o.getMergedTraits().sparse;for(let[f,h]of Object.entries(n))(u||h!=null)&&(l[f]=this._read(a,h));return l}else if(o.isStructSchema()&&s){let a={};for(let[l,u]of o.structIterator()){let f=this.settings.jsonName?u.getMergedTraits().jsonName??l:l,h=this._read(u,n[f]);h!=null&&(a[l]=h)}return a}if(o.isBlobSchema()&&typeof n=="string")return(0,Sx.fromBase64)(n);let i=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof n=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return st.from(n);if(o.isTimestampSchema()&&n!=null)switch(gt(o,this.settings)){case 5:return Cp(n);case 6:return Tp(n);case 7:return Ip(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(o.isBigIntegerSchema()&&(typeof n=="number"||typeof n=="string"))return BigInt(n);if(o.isBigDecimalSchema()&&n!=null){if(n instanceof Ie)return n;let a=n;return a.type==="bigDecimal"&&"string"in a?new Ie(a.string,a.type):new Ie(String(n),"bigDecimal")}if(o.isNumericSchema()&&typeof n=="string")switch(n){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(o.isDocumentSchema())if(s){let a=Array.isArray(n)?[]:{};for(let[l,u]of Object.entries(n))u instanceof Ie?a[l]=u:a[l]=this._read(o,u);return a}else return structuredClone(n);return n}}});var bx,Sc,wx=x(()=>{dt();bx="\u039D",Sc=class{constructor(){d(this,"values",new Map);d(this,"counter",0);d(this,"stage",0)}createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,t)=>{if(t instanceof Ie){let n=`${bx+"nv"+this.counter++}_`+t.string;return this.values.set(`"${n}"`,t.string),n}if(typeof t=="bigint"){let n=t.toString(),s=`${bx+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return t}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(let[t,n]of this.values)r=r.replace(t,n);return r}}});var _x,Lo,nh=x(()=>{yt();ve();dt();_x=T(Ve());Yr();wx();Lo=class extends Xe{constructor(t){super();d(this,"settings");d(this,"buffer");d(this,"rootSchema");this.settings=t}write(t,n){this.rootSchema=H.of(t),this.buffer=this._write(this.rootSchema,n)}writeDiscriminatedDocument(t,n){this.write(t,n),typeof this.buffer=="object"&&(this.buffer.__type=H.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let n=new Sc;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,n,s){let o=n!==null&&typeof n=="object",i=H.of(t);if(i.isListSchema()&&Array.isArray(n)){let a=i.getValueSchema(),l=[],u=!!i.getMergedTraits().sparse;for(let f of n)(u||f!=null)&&l.push(this._write(a,f));return l}else if(i.isMapSchema()&&o){let a=i.getValueSchema(),l={},u=!!i.getMergedTraits().sparse;for(let[f,h]of Object.entries(n))(u||h!=null)&&(l[f]=this._write(a,h));return l}else if(i.isStructSchema()&&o){let a={};for(let[l,u]of i.structIterator()){let f=this.settings.jsonName?u.getMergedTraits().jsonName??l:l,h=this._write(u,n[l],i);h!==void 0&&(a[f]=h)}return a}if(!(n===null&&s?.isStructSchema())){if(i.isBlobSchema()&&(n instanceof Uint8Array||typeof n=="string")||i.isDocumentSchema()&&n instanceof Uint8Array)return i===this.rootSchema?n:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(n):(0,_x.toBase64)(n);if((i.isTimestampSchema()||i.isDocumentSchema())&&n instanceof Date)switch(gt(i,this.settings)){case 5:return n.toISOString().replace(".000Z","Z");case 6:return bo(n);case 7:return n.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",n),n.getTime()/1e3}if(i.isNumericSchema()&&typeof n=="number"&&(Math.abs(n)===1/0||isNaN(n)))return String(n);if(i.isStringSchema()){if(typeof n>"u"&&i.isIdempotencyToken())return(0,Ht.v4)();let a=i.getMergedTraits().mediaType;if(n!=null&&a&&(a==="application/json"||a.endsWith("+json")))return st.from(n)}if(i.isDocumentSchema())if(o){let a=Array.isArray(n)?[]:{};for(let[l,u]of Object.entries(n))u instanceof Ie?a[l]=u:a[l]=this._write(i,u);return a}else return structuredClone(n);return n}}}});var jn,bc=x(()=>{Yr();rh();nh();jn=class extends Xe{constructor(t){super();d(this,"settings");this.settings=t}createSerializer(){let t=new Lo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Mo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var zn,wc=x(()=>{yt();ve();bs();bc();ko();zn=class extends dr{constructor({defaultNamespace:t,serviceTarget:n,awsQueryCompatible:s}){super({defaultNamespace:t});d(this,"serializer");d(this,"deserializer");d(this,"serviceTarget");d(this,"codec");d(this,"mixin",new xt);d(this,"awsQueryCompatible");this.serviceTarget=n,this.codec=new jn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!s}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${H.of(t).getName()}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(_t(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,n,s,o,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,s);let a=$n(s,o)??"Unknown",{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,s,o,i),f=H.of(l),h=o.message??o.Message??"Unknown",g=Oe.for(l.namespace).getErrorCtor(l)??Error,y=new g(h),S={};for(let[I,R]of f.structIterator()){let v=R.getMergedTraits().jsonName??I;S[I]=this.codec.createDeserializer().readObject(R,o[v])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,S),Object.assign(y,u,{$fault:f.getMergedTraits().error,message:h},S)}}});var sh,xx=x(()=>{wc();sh=class extends zn{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var oh,Cx=x(()=>{wc();oh=class extends zn{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ih,Tx=x(()=>{yt();ve();bs();bc();ko();ih=class extends Rn{constructor({defaultNamespace:t}){super({defaultNamespace:t});d(this,"serializer");d(this,"deserializer");d(this,"codec");d(this,"mixin",new xt);let n={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new jn(n),this.serializer=new Dn(this.codec.createSerializer(),n),this.deserializer=new Nn(this.codec.createDeserializer(),n)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s),i=H.of(t.input);if(!o.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);a&&(o.headers["content-type"]=a)}return o.headers["content-type"]&&!o.body&&(o.body="{}"),o}async handleError(t,n,s,o,i){let a=$n(s,o)??"Unknown",{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,s,o,i),f=H.of(l),h=o.message??o.Message??"Unknown",g=Oe.for(l.namespace).getErrorCtor(l)??Error,y=new g(h);await this.deserializeHttpMessage(l,n,s,o);let S={};for(let[I,R]of f.structIterator()){let v=R.getMergedTraits().jsonName??I;S[I]=this.codec.createDeserializer().readObject(R,o[v])}throw Object.assign(y,u,{$fault:f.getMergedTraits().error,message:h},S)}getDefaultContentType(){return"application/json"}}});var Ix,R1,Ax=x(()=>{Ix=T(oe()),R1=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Ix.expectUnion)(e)}});var Rx=N((JY,vx)=>{(()=>{"use strict";var e={d:(m,p)=>{for(var E in p)e.o(p,E)&&!e.o(m,E)&&Object.defineProperty(m,E,{enumerable:!0,get:p[E]})},o:(m,p)=>Object.prototype.hasOwnProperty.call(m,p),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{XMLBuilder:()=>Pr,XMLParser:()=>LN,XMLValidator:()=>qN});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(m,p){let E=[],_=p.exec(m);for(;_;){let b=[];b.startIndex=p.lastIndex-_[0].length;let w=_.length;for(let P=0;P<w;P++)b.push(_[P]);E.push(b),_=p.exec(m)}return E}let o=function(m){return n.exec(m)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(m,p){p=Object.assign({},i,p);let E=[],_=!1,b=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let w=0;w<m.length;w++)if(m[w]==="<"&&m[w+1]==="?"){if(w+=2,w=u(m,w),w.err)return w}else{if(m[w]!=="<"){if(l(m[w]))continue;return v("InvalidChar","char '"+m[w]+"' is not expected.",F(m,w))}{let P=w;if(w++,m[w]==="!"){w=f(m,w);continue}{let A=!1;m[w]==="/"&&(A=!0,w++);let D="";for(;w<m.length&&m[w]!==">"&&m[w]!==" "&&m[w]!=="	"&&m[w]!==`
`&&m[w]!=="\r";w++)D+=m[w];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),w--),!o(D)){let X;return X=D.trim().length===0?"Invalid space after '<'.":"Tag '"+D+"' is an invalid name.",v("InvalidTag",X,F(m,w))}let L=y(m,w);if(L===!1)return v("InvalidAttr","Attributes for '"+D+"' have open quote.",F(m,w));let re=L.value;if(w=L.index,re[re.length-1]==="/"){let X=w-re.length;re=re.substring(0,re.length-1);let me=I(re,p);if(me!==!0)return v(me.err.code,me.err.msg,F(m,X+me.err.line));_=!0}else if(A){if(!L.tagClosed)return v("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",F(m,w));if(re.trim().length>0)return v("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",F(m,P));if(E.length===0)return v("InvalidTag","Closing tag '"+D+"' has not been opened.",F(m,P));{let X=E.pop();if(D!==X.tagName){let me=F(m,X.tagStartPos);return v("InvalidTag","Expected closing tag '"+X.tagName+"' (opened in line "+me.line+", col "+me.col+") instead of closing tag '"+D+"'.",F(m,P))}E.length==0&&(b=!0)}}else{let X=I(re,p);if(X!==!0)return v(X.err.code,X.err.msg,F(m,w-re.length+X.err.line));if(b===!0)return v("InvalidXml","Multiple possible root nodes found.",F(m,w));p.unpairedTags.indexOf(D)!==-1||E.push({tagName:D,tagStartPos:P}),_=!0}for(w++;w<m.length;w++)if(m[w]==="<"){if(m[w+1]==="!"){w++,w=f(m,w);continue}if(m[w+1]!=="?")break;if(w=u(m,++w),w.err)return w}else if(m[w]==="&"){let X=R(m,w);if(X==-1)return v("InvalidChar","char '&' is not expected.",F(m,w));w=X}else if(b===!0&&!l(m[w]))return v("InvalidXml","Extra text at the end",F(m,w));m[w]==="<"&&w--}}}return _?E.length==1?v("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",F(m,E[0].tagStartPos)):!(E.length>0)||v("InvalidXml","Invalid '"+JSON.stringify(E.map((w=>w.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):v("InvalidXml","Start tag expected.",1)}function l(m){return m===" "||m==="	"||m===`
`||m==="\r"}function u(m,p){let E=p;for(;p<m.length;p++)if(!(m[p]!="?"&&m[p]!=" ")){let _=m.substr(E,p-E);if(p>5&&_==="xml")return v("InvalidXml","XML declaration allowed only at the start of the document.",F(m,p));if(m[p]=="?"&&m[p+1]==">"){p++;break}}return p}function f(m,p){if(m.length>p+5&&m[p+1]==="-"&&m[p+2]==="-"){for(p+=3;p<m.length;p++)if(m[p]==="-"&&m[p+1]==="-"&&m[p+2]===">"){p+=2;break}}else if(m.length>p+8&&m[p+1]==="D"&&m[p+2]==="O"&&m[p+3]==="C"&&m[p+4]==="T"&&m[p+5]==="Y"&&m[p+6]==="P"&&m[p+7]==="E"){let E=1;for(p+=8;p<m.length;p++)if(m[p]==="<")E++;else if(m[p]===">"&&(E--,E===0))break}else if(m.length>p+9&&m[p+1]==="["&&m[p+2]==="C"&&m[p+3]==="D"&&m[p+4]==="A"&&m[p+5]==="T"&&m[p+6]==="A"&&m[p+7]==="["){for(p+=8;p<m.length;p++)if(m[p]==="]"&&m[p+1]==="]"&&m[p+2]===">"){p+=2;break}}return p}let h='"',g="'";function y(m,p){let E="",_="",b=!1;for(;p<m.length;p++){if(m[p]===h||m[p]===g)_===""?_=m[p]:_!==m[p]||(_="");else if(m[p]===">"&&_===""){b=!0;break}E+=m[p]}return _===""&&{value:E,index:p,tagClosed:b}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function I(m,p){let E=s(m,S),_={};for(let b=0;b<E.length;b++){if(E[b][1].length===0)return v("InvalidAttr","Attribute '"+E[b][2]+"' has no space in starting.",Q(E[b]));if(E[b][3]!==void 0&&E[b][4]===void 0)return v("InvalidAttr","Attribute '"+E[b][2]+"' is without value.",Q(E[b]));if(E[b][3]===void 0&&!p.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+E[b][2]+"' is not allowed.",Q(E[b]));let w=E[b][2];if(!k(w))return v("InvalidAttr","Attribute '"+w+"' is an invalid name.",Q(E[b]));if(_.hasOwnProperty(w))return v("InvalidAttr","Attribute '"+w+"' is repeated.",Q(E[b]));_[w]=1}return!0}function R(m,p){if(m[++p]===";")return-1;if(m[p]==="#")return(function(_,b){let w=/\d/;for(_[b]==="x"&&(b++,w=/[\da-fA-F]/);b<_.length;b++){if(_[b]===";")return b;if(!_[b].match(w))break}return-1})(m,++p);let E=0;for(;p<m.length;p++,E++)if(!(m[p].match(/\w/)&&E<20)){if(m[p]===";")break;return-1}return p}function v(m,p,E){return{err:{code:m,msg:p,line:E.line||E,col:E.col}}}function k(m){return o(m)}function F(m,p){let E=m.substring(0,p).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function Q(m){return m.startIndex+m[1].length}let $={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,p){return p},attributeValueProcessor:function(m,p){return p},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,p,E){return m},captureMetaData:!1},ce;ce=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class rt{constructor(p){this.tagname=p,this.child=[],this[":@"]={}}add(p,E){p==="__proto__"&&(p="#__proto__"),this.child.push({[p]:E})}addChild(p,E){p.tagname==="__proto__"&&(p.tagname="#__proto__"),p[":@"]&&Object.keys(p[":@"]).length>0?this.child.push({[p.tagname]:p.child,":@":p[":@"]}):this.child.push({[p.tagname]:p.child}),E!==void 0&&(this.child[this.child.length-1][ce]={startIndex:E})}static getMetaDataSymbol(){return ce}}function Nt(m,p){let E={};if(m[p+3]!=="O"||m[p+4]!=="C"||m[p+5]!=="T"||m[p+6]!=="Y"||m[p+7]!=="P"||m[p+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let _=1,b=!1,w=!1,P="";for(;p<m.length;p++)if(m[p]!=="<"||w)if(m[p]===">"){if(w?m[p-1]==="-"&&m[p-2]==="-"&&(w=!1,_--):_--,_===0)break}else m[p]==="["?b=!0:P+=m[p];else{if(b&&xn(m,"!ENTITY",p)){let A,D;p+=7,[A,D,p]=Se(m,p+1),D.indexOf("&")===-1&&(E[A]={regx:RegExp(`&${A};`,"g"),val:D})}else if(b&&xn(m,"!ELEMENT",p)){p+=8;let{index:A}=hN(m,p+1);p=A}else if(b&&xn(m,"!ATTLIST",p))p+=8;else if(b&&xn(m,"!NOTATION",p)){p+=9;let{index:A}=De(m,p+1);p=A}else{if(!xn(m,"!--",p))throw new Error("Invalid DOCTYPE");w=!0}_++,P=""}if(_!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:p}}let he=(m,p)=>{for(;p<m.length&&/\s/.test(m[p]);)p++;return p};function Se(m,p){p=he(m,p);let E="";for(;p<m.length&&!/\s/.test(m[p])&&m[p]!=='"'&&m[p]!=="'";)E+=m[p],p++;if(Qu(E),p=he(m,p),m.substring(p,p+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(m[p]==="%")throw new Error("Parameter entities are not supported");let _="";return[p,_]=Qn(m,p,"entity"),[E,_,--p]}function De(m,p){p=he(m,p);let E="";for(;p<m.length&&!/\s/.test(m[p]);)E+=m[p],p++;Qu(E),p=he(m,p);let _=m.substring(p,p+6).toUpperCase();if(_!=="SYSTEM"&&_!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${_}"`);p+=_.length,p=he(m,p);let b=null,w=null;if(_==="PUBLIC")[p,b]=Qn(m,p,"publicIdentifier"),m[p=he(m,p)]!=='"'&&m[p]!=="'"||([p,w]=Qn(m,p,"systemIdentifier"));else if(_==="SYSTEM"&&([p,w]=Qn(m,p,"systemIdentifier"),!w))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:b,systemIdentifier:w,index:--p}}function Qn(m,p,E){let _="",b=m[p];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(p++;p<m.length&&m[p]!==b;)_+=m[p],p++;if(m[p]!==b)throw new Error(`Unterminated ${E} value`);return[++p,_]}function hN(m,p){p=he(m,p);let E="";for(;p<m.length&&!/\s/.test(m[p]);)E+=m[p],p++;if(!Qu(E))throw new Error(`Invalid element name: "${E}"`);let _="";if(m[p=he(m,p)]==="E"&&xn(m,"MPTY",p))p+=4;else if(m[p]==="A"&&xn(m,"NY",p))p+=2;else{if(m[p]!=="(")throw new Error(`Invalid Element Expression, found "${m[p]}"`);for(p++;p<m.length&&m[p]!==")";)_+=m[p],p++;if(m[p]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:_.trim(),index:p}}function xn(m,p,E){for(let _=0;_<p.length;_++)if(p[_]!==m[E+_+1])return!1;return!0}function Qu(m){if(o(m))return m;throw new Error(`Invalid entity name ${m}`)}let gN=/^[-+]?0x[a-fA-F0-9]+$/,yN=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,EN={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},SN=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function _y(m){return typeof m=="function"?m:Array.isArray(m)?p=>{for(let E of m)if(typeof E=="string"&&p===E||E instanceof RegExp&&E.test(p))return!0}:()=>!1}class bN{constructor(p){this.options=p,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,_)=>String.fromCodePoint(Number.parseInt(_,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,_)=>String.fromCodePoint(Number.parseInt(_,16))}},this.addExternalEntities=wN,this.parseXml=IN,this.parseTextData=_N,this.resolveNameSpace=xN,this.buildAttributesMap=TN,this.isItStopNode=PN,this.replaceEntitiesValue=vN,this.readStopNodeData=NN,this.saveTextToParentTag=RN,this.addChild=AN,this.ignoreAttributesFn=_y(this.options.ignoreAttributes)}}function wN(m){let p=Object.keys(m);for(let E=0;E<p.length;E++){let _=p[E];this.lastEntities[_]={regex:new RegExp("&"+_+";","g"),val:m[_]}}}function _N(m,p,E,_,b,w,P){if(m!==void 0&&(this.options.trimValues&&!_&&(m=m.trim()),m.length>0)){P||(m=this.replaceEntitiesValue(m));let A=this.options.tagValueProcessor(p,m,E,b,w);return A==null?m:typeof A!=typeof m||A!==m?A:this.options.trimValues||m.trim()===m?xy(m,this.options.parseTagValue,this.options.numberParseOptions):m}}function xN(m){if(this.options.removeNSPrefix){let p=m.split(":"),E=m.charAt(0)==="/"?"/":"";if(p[0]==="xmlns")return"";p.length===2&&(m=E+p[1])}return m}let CN=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function TN(m,p,E){if(this.options.ignoreAttributes!==!0&&typeof m=="string"){let _=s(m,CN),b=_.length,w={};for(let P=0;P<b;P++){let A=this.resolveNameSpace(_[P][1]);if(this.ignoreAttributesFn(A,p))continue;let D=_[P][4],L=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(L=this.options.transformAttributeName(L)),L==="__proto__"&&(L="#__proto__"),D!==void 0){this.options.trimValues&&(D=D.trim()),D=this.replaceEntitiesValue(D);let re=this.options.attributeValueProcessor(A,D,p);w[L]=re==null?D:typeof re!=typeof D||re!==D?re:xy(D,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(w[L]=!0)}if(!Object.keys(w).length)return;if(this.options.attributesGroupName){let P={};return P[this.options.attributesGroupName]=w,P}return w}}let IN=function(m){m=m.replace(/\r\n?/g,`
`);let p=new rt("!xml"),E=p,_="",b="";for(let w=0;w<m.length;w++)if(m[w]==="<")if(m[w+1]==="/"){let P=Cn(m,">",w,"Closing Tag is not closed."),A=m.substring(w+2,P).trim();if(this.options.removeNSPrefix){let re=A.indexOf(":");re!==-1&&(A=A.substr(re+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),E&&(_=this.saveTextToParentTag(_,E,b));let D=b.substring(b.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let L=0;D&&this.options.unpairedTags.indexOf(D)!==-1?(L=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=b.lastIndexOf("."),b=b.substring(0,L),E=this.tagsNodeStack.pop(),_="",w=P}else if(m[w+1]==="?"){let P=Zu(m,w,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(_=this.saveTextToParentTag(_,E,b),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){let A=new rt(P.tagName);A.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&(A[":@"]=this.buildAttributesMap(P.tagExp,b,P.tagName)),this.addChild(E,A,b,w)}w=P.closeIndex+1}else if(m.substr(w+1,3)==="!--"){let P=Cn(m,"-->",w+4,"Comment is not closed.");if(this.options.commentPropName){let A=m.substring(w+4,P-2);_=this.saveTextToParentTag(_,E,b),E.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}w=P}else if(m.substr(w+1,2)==="!D"){let P=Nt(m,w);this.docTypeEntities=P.entities,w=P.i}else if(m.substr(w+1,2)==="!["){let P=Cn(m,"]]>",w,"CDATA is not closed.")-2,A=m.substring(w+9,P);_=this.saveTextToParentTag(_,E,b);let D=this.parseTextData(A,E.tagname,b,!0,!1,!0,!0);D==null&&(D=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):E.add(this.options.textNodeName,D),w=P+2}else{let P=Zu(m,w,this.options.removeNSPrefix),A=P.tagName,D=P.rawTagName,L=P.tagExp,re=P.attrExpPresent,X=P.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),E&&_&&E.tagname!=="!xml"&&(_=this.saveTextToParentTag(_,E,b,!1));let me=E;me&&this.options.unpairedTags.indexOf(me.tagname)!==-1&&(E=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),A!==p.tagname&&(b+=b?"."+A:A);let ge=w;if(this.isItStopNode(this.options.stopNodes,b,A)){let pe="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),b=b.substr(0,b.length-1),L=A):L=L.substr(0,L.length-1),w=P.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)w=P.closeIndex;else{let Ft=this.readStopNodeData(m,D,X+1);if(!Ft)throw new Error(`Unexpected end of ${D}`);w=Ft.i,pe=Ft.tagContent}let Be=new rt(A);A!==L&&re&&(Be[":@"]=this.buildAttributesMap(L,b,A)),pe&&(pe=this.parseTextData(pe,A,b,!0,re,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Be.add(this.options.textNodeName,pe),this.addChild(E,Be,b,ge)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),b=b.substr(0,b.length-1),L=A):L=L.substr(0,L.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));let pe=new rt(A);A!==L&&re&&(pe[":@"]=this.buildAttributesMap(L,b,A)),this.addChild(E,pe,b,ge),b=b.substr(0,b.lastIndexOf("."))}else{let pe=new rt(A);this.tagsNodeStack.push(E),A!==L&&re&&(pe[":@"]=this.buildAttributesMap(L,b,A)),this.addChild(E,pe,b,ge),E=pe}_="",w=X}}else _+=m[w];return p.child};function AN(m,p,E,_){this.options.captureMetaData||(_=void 0);let b=this.options.updateTag(p.tagname,E,p[":@"]);b===!1||(typeof b=="string"&&(p.tagname=b),m.addChild(p,_))}let vN=function(m){if(this.options.processEntities){for(let p in this.docTypeEntities){let E=this.docTypeEntities[p];m=m.replace(E.regx,E.val)}for(let p in this.lastEntities){let E=this.lastEntities[p];m=m.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let p in this.htmlEntities){let E=this.htmlEntities[p];m=m.replace(E.regex,E.val)}m=m.replace(this.ampEntity.regex,this.ampEntity.val)}return m};function RN(m,p,E,_){return m&&(_===void 0&&(_=p.child.length===0),(m=this.parseTextData(m,p.tagname,E,!1,!!p[":@"]&&Object.keys(p[":@"]).length!==0,_))!==void 0&&m!==""&&p.add(this.options.textNodeName,m),m=""),m}function PN(m,p,E){let _="*."+E;for(let b in m){let w=m[b];if(_===w||p===w)return!0}return!1}function Cn(m,p,E,_){let b=m.indexOf(p,E);if(b===-1)throw new Error(_);return b+p.length-1}function Zu(m,p,E,_=">"){let b=(function(X,me,ge=">"){let pe,Be="";for(let Ft=me;Ft<X.length;Ft++){let Nr=X[Ft];if(pe)Nr===pe&&(pe="");else if(Nr==='"'||Nr==="'")pe=Nr;else if(Nr===ge[0]){if(!ge[1])return{data:Be,index:Ft};if(X[Ft+1]===ge[1])return{data:Be,index:Ft}}else Nr==="	"&&(Nr=" ");Be+=Nr}})(m,p+1,_);if(!b)return;let w=b.data,P=b.index,A=w.search(/\s/),D=w,L=!0;A!==-1&&(D=w.substring(0,A),w=w.substring(A+1).trimStart());let re=D;if(E){let X=D.indexOf(":");X!==-1&&(D=D.substr(X+1),L=D!==b.data.substr(X+1))}return{tagName:D,tagExp:w,closeIndex:P,attrExpPresent:L,rawTagName:re}}function NN(m,p,E){let _=E,b=1;for(;E<m.length;E++)if(m[E]==="<")if(m[E+1]==="/"){let w=Cn(m,">",E,`${p} is not closed`);if(m.substring(E+2,w).trim()===p&&(b--,b===0))return{tagContent:m.substring(_,E),i:w};E=w}else if(m[E+1]==="?")E=Cn(m,"?>",E+1,"StopNode is not closed.");else if(m.substr(E+1,3)==="!--")E=Cn(m,"-->",E+3,"StopNode is not closed.");else if(m.substr(E+1,2)==="![")E=Cn(m,"]]>",E,"StopNode is not closed.")-2;else{let w=Zu(m,E,">");w&&((w&&w.tagName)===p&&w.tagExp[w.tagExp.length-1]!=="/"&&b++,E=w.closeIndex)}}function xy(m,p,E){if(p&&typeof m=="string"){let _=m.trim();return _==="true"||_!=="false"&&(function(b,w={}){if(w=Object.assign({},EN,w),!b||typeof b!="string")return b;let P=b.trim();if(w.skipLike!==void 0&&w.skipLike.test(P))return b;if(b==="0")return 0;if(w.hex&&gN.test(P))return(function(D){if(parseInt)return parseInt(D,16);if(Number.parseInt)return Number.parseInt(D,16);if(window&&window.parseInt)return window.parseInt(D,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(P);if(P.search(/.+[eE].+/)!==-1)return(function(D,L,re){if(!re.eNotation)return D;let X=L.match(SN);if(X){let me=X[1]||"",ge=X[3].indexOf("e")===-1?"E":"e",pe=X[2],Be=me?D[pe.length+1]===ge:D[pe.length]===ge;return pe.length>1&&Be?D:pe.length!==1||!X[3].startsWith(`.${ge}`)&&X[3][0]!==ge?re.leadingZeros&&!Be?(L=(X[1]||"")+X[3],Number(L)):D:Number(L)}return D})(b,P,w);{let D=yN.exec(P);if(D){let L=D[1]||"",re=D[2],X=((A=D[3])&&A.indexOf(".")!==-1&&((A=A.replace(/0+$/,""))==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substring(0,A.length-1))),A),me=L?b[re.length+1]===".":b[re.length]===".";if(!w.leadingZeros&&(re.length>1||re.length===1&&!me))return b;{let ge=Number(P),pe=String(ge);if(ge===0||ge===-0)return ge;if(pe.search(/[eE]/)!==-1)return w.eNotation?ge:b;if(P.indexOf(".")!==-1)return pe==="0"||pe===X||pe===`${L}${X}`?ge:b;let Be=re?X:P;return re?Be===pe||L+Be===pe?ge:b:Be===pe||Be===L+pe?ge:b}}return b}var A})(m,E)}return m!==void 0?m:""}let em=rt.getMetaDataSymbol();function DN(m,p){return Cy(m,p)}function Cy(m,p,E){let _,b={};for(let w=0;w<m.length;w++){let P=m[w],A=ON(P),D="";if(D=E===void 0?A:E+"."+A,A===p.textNodeName)_===void 0?_=P[A]:_+=""+P[A];else{if(A===void 0)continue;if(P[A]){let L=Cy(P[A],p,D),re=MN(L,p);P[em]!==void 0&&(L[em]=P[em]),P[":@"]?kN(L,P[":@"],D,p):Object.keys(L).length!==1||L[p.textNodeName]===void 0||p.alwaysCreateTextNode?Object.keys(L).length===0&&(p.alwaysCreateTextNode?L[p.textNodeName]="":L=""):L=L[p.textNodeName],b[A]!==void 0&&b.hasOwnProperty(A)?(Array.isArray(b[A])||(b[A]=[b[A]]),b[A].push(L)):p.isArray(A,D,re)?b[A]=[L]:b[A]=L}}}return typeof _=="string"?_.length>0&&(b[p.textNodeName]=_):_!==void 0&&(b[p.textNodeName]=_),b}function ON(m){let p=Object.keys(m);for(let E=0;E<p.length;E++){let _=p[E];if(_!==":@")return _}}function kN(m,p,E,_){if(p){let b=Object.keys(p),w=b.length;for(let P=0;P<w;P++){let A=b[P];_.isArray(A,E+"."+A,!0,!0)?m[A]=[p[A]]:m[A]=p[A]}}}function MN(m,p){let{textNodeName:E}=p,_=Object.keys(m).length;return _===0||!(_!==1||!m[E]&&typeof m[E]!="boolean"&&m[E]!==0)}class LN{constructor(p){this.externalEntities={},this.options=(function(E){return Object.assign({},$,E)})(p)}parse(p,E){if(typeof p!="string"){if(!p.toString)throw new Error("XML data is accepted in String or Bytes[] form.");p=p.toString()}if(E){E===!0&&(E={});let w=a(p,E);if(w!==!0)throw Error(`${w.err.msg}:${w.err.line}:${w.err.col}`)}let _=new bN(this.options);_.addExternalEntities(this.externalEntities);let b=_.parseXml(p);return this.options.preserveOrder||b===void 0?b:DN(b,this.options)}addEntity(p,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(p.indexOf("&")!==-1||p.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[p]=E}static getMetaDataSymbol(){return rt.getMetaDataSymbol()}}function BN(m,p){let E="";return p.format&&p.indentBy.length>0&&(E=`
`),Ty(m,p,"",E)}function Ty(m,p,E,_){let b="",w=!1;for(let P=0;P<m.length;P++){let A=m[P],D=UN(A);if(D===void 0)continue;let L="";if(L=E.length===0?D:`${E}.${D}`,D===p.textNodeName){let ge=A[D];FN(L,p)||(ge=p.tagValueProcessor(D,ge),ge=Ay(ge,p)),w&&(b+=_),b+=ge,w=!1;continue}if(D===p.cdataPropName){w&&(b+=_),b+=`<![CDATA[${A[D][0][p.textNodeName]}]]>`,w=!1;continue}if(D===p.commentPropName){b+=_+`<!--${A[D][0][p.textNodeName]}-->`,w=!0;continue}if(D[0]==="?"){let ge=Iy(A[":@"],p),pe=D==="?xml"?"":_,Be=A[D][0][p.textNodeName];Be=Be.length!==0?" "+Be:"",b+=pe+`<${D}${Be}${ge}?>`,w=!0;continue}let re=_;re!==""&&(re+=p.indentBy);let X=_+`<${D}${Iy(A[":@"],p)}`,me=Ty(A[D],p,L,re);p.unpairedTags.indexOf(D)!==-1?p.suppressUnpairedNode?b+=X+">":b+=X+"/>":me&&me.length!==0||!p.suppressEmptyNode?me&&me.endsWith(">")?b+=X+`>${me}${_}</${D}>`:(b+=X+">",me&&_!==""&&(me.includes("/>")||me.includes("</"))?b+=_+p.indentBy+me+_:b+=me,b+=`</${D}>`):b+=X+"/>",w=!0}return b}function UN(m){let p=Object.keys(m);for(let E=0;E<p.length;E++){let _=p[E];if(m.hasOwnProperty(_)&&_!==":@")return _}}function Iy(m,p){let E="";if(m&&!p.ignoreAttributes)for(let _ in m){if(!m.hasOwnProperty(_))continue;let b=p.attributeValueProcessor(_,m[_]);b=Ay(b,p),b===!0&&p.suppressBooleanAttributes?E+=` ${_.substr(p.attributeNamePrefix.length)}`:E+=` ${_.substr(p.attributeNamePrefix.length)}="${b}"`}return E}function FN(m,p){let E=(m=m.substr(0,m.length-p.textNodeName.length-1)).substr(m.lastIndexOf(".")+1);for(let _ in p.stopNodes)if(p.stopNodes[_]===m||p.stopNodes[_]==="*."+E)return!0;return!1}function Ay(m,p){if(m&&m.length>0&&p.processEntities)for(let E=0;E<p.entities.length;E++){let _=p.entities[E];m=m.replace(_.regex,_.val)}return m}let $N={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(m,p){return p},attributeValueProcessor:function(m,p){return p},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Pr(m){this.options=Object.assign({},$N,m),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=_y(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=HN),this.processTextOrObjNode=jN,this.options.format?(this.indentate=zN,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function jN(m,p,E,_){let b=this.j2x(m,E+1,_.concat(p));return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextValNode(m[this.options.textNodeName],p,b.attrStr,E):this.buildObjectNode(b.val,p,b.attrStr,E)}function zN(m){return this.options.indentBy.repeat(m)}function HN(m){return!(!m.startsWith(this.options.attributeNamePrefix)||m===this.options.textNodeName)&&m.substr(this.attrPrefixLen)}Pr.prototype.build=function(m){return this.options.preserveOrder?BN(m,this.options):(Array.isArray(m)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(m={[this.options.arrayNodeName]:m}),this.j2x(m,0,[]).val)},Pr.prototype.j2x=function(m,p,E){let _="",b="",w=E.join(".");for(let P in m)if(Object.prototype.hasOwnProperty.call(m,P))if(m[P]===void 0)this.isAttribute(P)&&(b+="");else if(m[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?b+="":P[0]==="?"?b+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:b+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(m[P]instanceof Date)b+=this.buildTextValNode(m[P],P,"",p);else if(typeof m[P]!="object"){let A=this.isAttribute(P);if(A&&!this.ignoreAttributesFn(A,w))_+=this.buildAttrPairStr(A,""+m[P]);else if(!A)if(P===this.options.textNodeName){let D=this.options.tagValueProcessor(P,""+m[P]);b+=this.replaceEntitiesValue(D)}else b+=this.buildTextValNode(m[P],P,"",p)}else if(Array.isArray(m[P])){let A=m[P].length,D="",L="";for(let re=0;re<A;re++){let X=m[P][re];if(X!==void 0)if(X===null)P[0]==="?"?b+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:b+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(typeof X=="object")if(this.options.oneListGroup){let me=this.j2x(X,p+1,E.concat(P));D+=me.val,this.options.attributesGroupName&&X.hasOwnProperty(this.options.attributesGroupName)&&(L+=me.attrStr)}else D+=this.processTextOrObjNode(X,P,p,E);else if(this.options.oneListGroup){let me=this.options.tagValueProcessor(P,X);me=this.replaceEntitiesValue(me),D+=me}else D+=this.buildTextValNode(X,P,"",p)}this.options.oneListGroup&&(D=this.buildObjectNode(D,P,L,p)),b+=D}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let A=Object.keys(m[P]),D=A.length;for(let L=0;L<D;L++)_+=this.buildAttrPairStr(A[L],""+m[P][A[L]])}else b+=this.processTextOrObjNode(m[P],P,p,E);return{attrStr:_,val:b}},Pr.prototype.buildAttrPairStr=function(m,p){return p=this.options.attributeValueProcessor(m,""+p),p=this.replaceEntitiesValue(p),this.options.suppressBooleanAttributes&&p==="true"?" "+m:" "+m+'="'+p+'"'},Pr.prototype.buildObjectNode=function(m,p,E,_){if(m==="")return p[0]==="?"?this.indentate(_)+"<"+p+E+"?"+this.tagEndChar:this.indentate(_)+"<"+p+E+this.closeTag(p)+this.tagEndChar;{let b="</"+p+this.tagEndChar,w="";return p[0]==="?"&&(w="?",b=""),!E&&E!==""||m.indexOf("<")!==-1?this.options.commentPropName!==!1&&p===this.options.commentPropName&&w.length===0?this.indentate(_)+`<!--${m}-->`+this.newLine:this.indentate(_)+"<"+p+E+w+this.tagEndChar+m+this.indentate(_)+b:this.indentate(_)+"<"+p+E+w+">"+m+b}},Pr.prototype.closeTag=function(m){let p="";return this.options.unpairedTags.indexOf(m)!==-1?this.options.suppressUnpairedNode||(p="/"):p=this.options.suppressEmptyNode?"/":`></${m}`,p},Pr.prototype.buildTextValNode=function(m,p,E,_){if(this.options.cdataPropName!==!1&&p===this.options.cdataPropName)return this.indentate(_)+`<![CDATA[${m}]]>`+this.newLine;if(this.options.commentPropName!==!1&&p===this.options.commentPropName)return this.indentate(_)+`<!--${m}-->`+this.newLine;if(p[0]==="?")return this.indentate(_)+"<"+p+E+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(p,m);return b=this.replaceEntitiesValue(b),b===""?this.indentate(_)+"<"+p+E+this.closeTag(p)+this.tagEndChar:this.indentate(_)+"<"+p+E+">"+b+"</"+p+this.tagEndChar}},Pr.prototype.replaceEntitiesValue=function(m){if(m&&m.length>0&&this.options.processEntities)for(let p=0;p<this.options.entities.length;p++){let E=this.options.entities[p];m=m.replace(E.regex,E.val)}return m};let qN={validate:a};vx.exports=r})()});var Px=N(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.parseXML=N1;var P1=Rx(),ah=new P1.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,r)=>r.trim()===""&&r.includes(`
`)?"":void 0});ah.addEntity("#xD","\r");ah.addEntity("#10",`
`);function N1(e){return ah.parse(e,!0)}});var Cc=N((XY,Mx)=>{"use strict";var _c=Object.defineProperty,D1=Object.getOwnPropertyDescriptor,O1=Object.getOwnPropertyNames,k1=Object.prototype.hasOwnProperty,xc=(e,r)=>_c(e,"name",{value:r,configurable:!0}),M1=(e,r)=>{for(var t in r)_c(e,t,{get:r[t],enumerable:!0})},L1=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of O1(r))!k1.call(e,s)&&s!==t&&_c(e,s,{get:()=>r[s],enumerable:!(n=D1(r,s))||n.enumerable});return e},B1=e=>L1(_c({},"__esModule",{value:!0}),e),Nx={};M1(Nx,{XmlNode:()=>U1,XmlText:()=>kx,parseXML:()=>F1.parseXML});Mx.exports=B1(Nx);function Dx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}xc(Dx,"escapeAttribute");function Ox(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}xc(Ox,"escapeElement");var _s,kx=(_s=class{constructor(r){this.value=r}toString(){return Ox(""+this.value)}},xc(_s,"XmlText"),_s),gr,U1=(gr=class{constructor(r,t=[]){d(this,"attributes",{});this.name=r,this.children=t}static of(r,t,n){let s=new gr(r);return t!==void 0&&s.addChildNode(new kx(t)),n!==void 0&&s.withName(n),s}withName(r){return this.name=r,this}addAttribute(r,t){return this.attributes[r]=t,this}addChildNode(r){return this.children.push(r),this}removeAttribute(r){return delete this.attributes[r],this}n(r){return this.name=r,this}c(r){return this.children.push(r),this}a(r,t){return t!=null&&(this.attributes[r]=t),this}cc(r,t,n=t){if(r[t]!=null){let s=gr.of(t,r[t]).withName(n);this.c(s)}}l(r,t,n,s){r[t]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(r,t,n,s){if(r[t]!=null){let o=s(),i=new gr(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let r=!!this.children.length,t=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(t+=` ${s}="${Dx(""+o)}"`)}return t+=r?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}},xc(gr,"XmlNode"),gr),F1=Px()});var Lx,Bx,Ux,Hn,Tc=x(()=>{Lx=T(Cc());yt();ve();Bx=T(oe()),Ux=T(qe());Yr();Hn=class extends Xe{constructor(t){super();d(this,"settings");d(this,"stringDeserializer");this.settings=t,this.stringDeserializer=new Pn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,n,s){let o=H.of(t),i=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(i).find(f=>!!f.getMemberTraits().eventPayload)){let f={},h=Object.keys(i)[0];return i[h].isBlobSchema()?f[h]=n:f[h]=this.read(i[h],n),f}let l=(this.serdeContext?.utf8Encoder??Ux.toUtf8)(n),u=this.parseXml(l);return this.readSchema(t,s?u[s]:u)}readSchema(t,n){let s=H.of(t);if(s.isUnitSchema())return;let o=s.getMergedTraits();if(s.isListSchema()&&!Array.isArray(n))return this.readSchema(s,[n]);if(n==null)return n;if(typeof n=="object"){let i=!!o.sparse,a=!!o.xmlFlattened;if(s.isListSchema()){let u=s.getValueSchema(),f=[],h=u.getMergedTraits().xmlName??"member",g=a?n:(n[0]??n)[h],y=Array.isArray(g)?g:[g];for(let S of y)(S!=null||i)&&f.push(this.readSchema(u,S));return f}let l={};if(s.isMapSchema()){let u=s.getKeySchema(),f=s.getValueSchema(),h;a?h=Array.isArray(n)?n:[n]:h=Array.isArray(n.entry)?n.entry:[n.entry];let g=u.getMergedTraits().xmlName??"key",y=f.getMergedTraits().xmlName??"value";for(let S of h){let I=S[g],R=S[y];(R!=null||i)&&(l[I]=this.readSchema(f,R))}return l}if(s.isStructSchema()){for(let[u,f]of s.structIterator()){let h=f.getMergedTraits(),g=h.httpPayload?h.xmlName??f.getName():f.getMemberTraits().xmlName??u;n[g]!=null&&(l[u]=this.readSchema(f,n[g]))}return l}if(s.isDocumentSchema())return n;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${s.getName(!0)}`)}return s.isListSchema()?[]:s.isMapSchema()||s.isStructSchema()?{}:this.stringDeserializer.read(s,n)}parseXml(t){if(t.length){let n;try{n=(0,Lx.parseXML)(t)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Bx.getValueFromTextNode)(i)}return{}}}});var Fx,$x,Ic,jx=x(()=>{yt();ve();dt();Fx=T(oe()),$x=T(Ve());Yr();Ic=class extends Xe{constructor(t){super();d(this,"settings");d(this,"buffer");this.settings=t}write(t,n,s=""){this.buffer===void 0&&(this.buffer="");let o=H.of(t);if(s&&!s.endsWith(".")&&(s+="."),o.isBlobSchema())(typeof n=="string"||n instanceof Uint8Array)&&(this.writeKey(s),this.writeValue((this.serdeContext?.base64Encoder??$x.toBase64)(n)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())n!=null?(this.writeKey(s),this.writeValue(String(n))):o.isIdempotencyToken()&&(this.writeKey(s),this.writeValue((0,Ht.v4)()));else if(o.isBigIntegerSchema())n!=null&&(this.writeKey(s),this.writeValue(String(n)));else if(o.isBigDecimalSchema())n!=null&&(this.writeKey(s),this.writeValue(n instanceof Ie?n.string:String(n)));else if(o.isTimestampSchema()){if(n instanceof Date)switch(this.writeKey(s),gt(o,this.settings)){case 5:this.writeValue(n.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,Fx.dateToUtcString)(n));break;case 7:this.writeValue(String(n.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(n))if(n.length===0)this.settings.serializeEmptyLists&&(this.writeKey(s),this.writeValue(""));else{let i=o.getValueSchema(),a=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,l=1;for(let u of n){if(u==null)continue;let f=this.getKey("member",i.getMergedTraits().xmlName),h=a?`${s}${l}`:`${s}${f}.${l}`;this.write(i,u,h),++l}}}else if(o.isMapSchema()){if(n&&typeof n=="object"){let i=o.getKeySchema(),a=o.getValueSchema(),l=o.getMergedTraits().xmlFlattened,u=1;for(let[f,h]of Object.entries(n)){if(h==null)continue;let g=this.getKey("key",i.getMergedTraits().xmlName),y=l?`${s}${u}.${g}`:`${s}entry.${u}.${g}`,S=this.getKey("value",a.getMergedTraits().xmlName),I=l?`${s}${u}.${S}`:`${s}entry.${u}.${S}`;this.write(i,f,y),this.write(a,h,I),++u}}}else if(o.isStructSchema()){if(n&&typeof n=="object")for(let[i,a]of o.structIterator()){if(n[i]==null&&!a.isIdempotencyToken())continue;let l=this.getKey(i,a.getMergedTraits().xmlName),u=`${s}${l}`;this.write(a,n[i],u)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,n){let s=n??t;return this.settings.capitalizeKeys?s[0].toUpperCase()+s.slice(1):s}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${jt(t)}=`}writeValue(t){this.buffer+=jt(t)}}});var Bo,dh=x(()=>{yt();ve();bs();Tc();jx();Bo=class extends dr{constructor(t){super({defaultNamespace:t.defaultNamespace});d(this,"options");d(this,"serializer");d(this,"deserializer");d(this,"mixin",new xt);this.options=t;let n={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Ic(n),this.deserializer=new Hn(n)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(_t(t.input)==="unit"||!o.body)&&(o.body="");let i=t.name.split("#")[1]??t.name;return o.body=`Action=${i}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,n,s){let o=this.deserializer,i=H.of(t.output),a={};if(s.statusCode>=300){let g=await Dt(s.body,n);g.byteLength>0&&Object.assign(a,await o.read(15,g)),await this.handleError(t,n,s,a,this.deserializeMetadata(s))}for(let g in s.headers){let y=s.headers[g];delete s.headers[g],s.headers[g.toLowerCase()]=y}let l=t.name.split("#")[1]??t.name,u=i.isStructSchema()&&this.useNestedResult()?l+"Result":void 0,f=await Dt(s.body,n);return f.byteLength>0&&Object.assign(a,await o.read(i,f,u)),{$metadata:this.deserializeMetadata(s),...a}}useNestedResult(){return!0}async handleError(t,n,s,o,i){let a=this.loadQueryErrorCode(s,o)??"Unknown",l=this.loadQueryError(o),u=this.loadQueryErrorMessage(o);l.message=u,l.Error={Type:l.Type,Code:l.Code,Message:u};let{errorSchema:f,errorMetadata:h}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,s,l,i,(R,v)=>R.find(k=>H.of(k).getMergedTraits().awsQueryError?.[0]===v)),g=H.of(f),y=Oe.for(f.namespace).getErrorCtor(f)??Error,S=new y(u),I={Error:l.Error};for(let[R,v]of g.structIterator()){let k=v.getMergedTraits().xmlName??R,F=l[k]??o[k];I[R]=this.deserializer.readSchema(v,F)}throw Object.assign(S,h,{$fault:g.getMergedTraits().error,message:u},I)}loadQueryErrorCode(t,n){let s=(n.Errors?.[0]?.Error??n.Errors?.Error??n.Error)?.Code;if(s!==void 0)return s;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let n=this.loadQueryError(t);return n?.message??n?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var lh,zx=x(()=>{dh();lh=class extends Bo{constructor(t){super(t);d(this,"options");this.options=t;let n={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,n)}useNestedResult(){return!1}}});var Hx,qx,Uo,uh,mh,ph=x(()=>{Hx=T(Cc()),qx=T(oe());eh();Uo=(e,r)=>Ec(e,r).then(t=>{if(t.length){let n;try{n=(0,Hx.parseXML)(t)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,qx.getValueFromTextNode)(i)}return{}}),uh=async(e,r)=>{let t=await Uo(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},mh=(e,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(e.statusCode==404)return"NotFound"}});var Ct,fh,Ac,Fo,hh=x(()=>{Ct=T(Cc());yt();ve();dt();fh=T(oe()),Ac=T(Ve());Yr();Fo=class extends Xe{constructor(t){super();d(this,"settings");d(this,"stringBuffer");d(this,"byteBuffer");d(this,"buffer");this.settings=t}write(t,n){let s=H.of(t);if(s.isStringSchema()&&typeof n=="string")this.stringBuffer=n;else if(s.isBlobSchema())this.byteBuffer="byteLength"in n?n:(this.serdeContext?.base64Decoder??Ac.fromBase64)(n);else{this.buffer=this.writeStruct(s,n,void 0);let o=s.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(s.getName())}}flush(){if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,n,s){let o=t.getMergedTraits(),i=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let a=Ct.XmlNode.of(i),[l,u]=this.getXmlnsAttribute(t,s);for(let[f,h]of t.structIterator()){let g=n[f];if(g!=null||h.isIdempotencyToken()){if(h.getMergedTraits().xmlAttribute){a.addAttribute(h.getMergedTraits().xmlName??f,this.writeSimple(h,g));continue}if(h.isListSchema())this.writeList(h,g,a,u);else if(h.isMapSchema())this.writeMap(h,g,a,u);else if(h.isStructSchema())a.addChildNode(this.writeStruct(h,g,u));else{let y=Ct.XmlNode.of(h.getMergedTraits().xmlName??h.getMemberName());this.writeSimpleInto(h,g,y,u),a.addChildNode(y)}}}return u&&a.addAttribute(l,u),a}writeList(t,n,s,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getValueSchema(),l=a.getMergedTraits(),u=!!l.sparse,f=!!i.xmlFlattened,[h,g]=this.getXmlnsAttribute(t,o),y=(S,I)=>{if(a.isListSchema())this.writeList(a,Array.isArray(I)?I:[I],S,g);else if(a.isMapSchema())this.writeMap(a,I,S,g);else if(a.isStructSchema()){let R=this.writeStruct(a,I,g);S.addChildNode(R.withName(f?i.xmlName??t.getMemberName():l.xmlName??"member"))}else{let R=Ct.XmlNode.of(f?i.xmlName??t.getMemberName():l.xmlName??"member");this.writeSimpleInto(a,I,R,g),S.addChildNode(R)}};if(f)for(let S of n)(u||S!=null)&&y(s,S);else{let S=Ct.XmlNode.of(i.xmlName??t.getMemberName());g&&S.addAttribute(h,g);for(let I of n)(u||I!=null)&&y(S,I);s.addChildNode(S)}}writeMap(t,n,s,o,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let a=t.getMergedTraits(),l=t.getKeySchema(),f=l.getMergedTraits().xmlName??"key",h=t.getValueSchema(),g=h.getMergedTraits(),y=g.xmlName??"value",S=!!g.sparse,I=!!a.xmlFlattened,[R,v]=this.getXmlnsAttribute(t,o),k=(F,Q,$)=>{let ce=Ct.XmlNode.of(f,Q),[rt,Nt]=this.getXmlnsAttribute(l,v);Nt&&ce.addAttribute(rt,Nt),F.addChildNode(ce);let he=Ct.XmlNode.of(y);h.isListSchema()?this.writeList(h,$,he,v):h.isMapSchema()?this.writeMap(h,$,he,v,!0):h.isStructSchema()?he=this.writeStruct(h,$,v):this.writeSimpleInto(h,$,he,v),F.addChildNode(he)};if(I){for(let[F,Q]of Object.entries(n))if(S||Q!=null){let $=Ct.XmlNode.of(a.xmlName??t.getMemberName());k($,F,Q),s.addChildNode($)}}else{let F;i||(F=Ct.XmlNode.of(a.xmlName??t.getMemberName()),v&&F.addAttribute(R,v),s.addChildNode(F));for(let[Q,$]of Object.entries(n))if(S||$!=null){let ce=Ct.XmlNode.of("entry");k(ce,Q,$),(i?s:F).addChildNode(ce)}}}writeSimple(t,n){if(n===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let s=H.of(t),o=null;if(n&&typeof n=="object")if(s.isBlobSchema())o=(this.serdeContext?.base64Encoder??Ac.toBase64)(n);else if(s.isTimestampSchema()&&n instanceof Date)switch(gt(s,this.settings)){case 5:o=n.toISOString().replace(".000Z","Z");break;case 6:o=(0,fh.dateToUtcString)(n);break;case 7:o=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",n),o=(0,fh.dateToUtcString)(n);break}else{if(s.isBigDecimalSchema()&&n)return n instanceof Ie?n.string:String(n);throw s.isMapSchema()||s.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${s.getName(!0)}`)}if((s.isBooleanSchema()||s.isNumericSchema()||s.isBigIntegerSchema()||s.isBigDecimalSchema())&&(o=String(n)),s.isStringSchema()&&(n===void 0&&s.isIdempotencyToken()?o=(0,Ht.v4)():o=String(n)),o===null)throw new Error(`Unhandled schema-value pair ${s.getName(!0)}=${n}`);return o}writeSimpleInto(t,n,s,o){let i=this.writeSimple(t,n),a=H.of(t),l=new Ct.XmlText(i),[u,f]=this.getXmlnsAttribute(a,o);f&&s.addAttribute(u,f),s.addChildNode(l)}getXmlnsAttribute(t,n){let s=t.getMergedTraits(),[o,i]=s.xmlNamespace??[];return i&&i!==n?[o?`xmlns:${o}`:"xmlns",i]:[void 0,void 0]}}});var $o,gh=x(()=>{Yr();Tc();hh();$o=class extends Xe{constructor(t){super();d(this,"settings");this.settings=t}createSerializer(){let t=new Fo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Hn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var yh,Vx=x(()=>{yt();ve();bs();ph();gh();yh=class extends Rn{constructor(t){super(t);d(this,"codec");d(this,"serializer");d(this,"deserializer");d(this,"mixin",new xt);let n={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new $o(n),this.serializer=new Dn(this.codec.createSerializer(),n),this.deserializer=new Nn(this.codec.createDeserializer(),n)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,n,s){let o=await super.serializeRequest(t,n,s),i=H.of(t.input);if(!o.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);a&&(o.headers["content-type"]=a)}return o.headers["content-type"]===this.getDefaultContentType()&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,n,s){return super.deserializeResponse(t,n,s)}async handleError(t,n,s,o,i){let a=mh(s,o)??"Unknown",{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,s,o,i),f=H.of(l),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=Oe.for(l.namespace).getErrorCtor(l)??Error,y=new g(h);await this.deserializeHttpMessage(l,n,s,o);let S={};for(let[I,R]of f.structIterator()){let v=R.getMergedTraits().xmlName??I,k=o.Error?.[v]??o[v];S[I]=this.codec.createDeserializer().readSchema(R,k)}throw Object.assign(y,u,{$fault:f.getMergedTraits().error,message:h},S)}getDefaultContentType(){return"application/xml"}}});var Gx=x(()=>{ex();tx();xx();Cx();wc();Tx();bc();rh();nh();Ax();ko();zx();dh();Vx();gh();Tc();hh();ph()});var kt={};ft(kt,{AWSSDKSigV4Signer:()=>af,AwsEc2QueryProtocol:()=>lh,AwsJson1_0Protocol:()=>sh,AwsJson1_1Protocol:()=>oh,AwsJsonRpcProtocol:()=>zn,AwsQueryProtocol:()=>Bo,AwsRestJsonProtocol:()=>ih,AwsRestXmlProtocol:()=>yh,AwsSdkSigV4ASigner:()=>Ro,AwsSdkSigV4Signer:()=>lt,AwsSmithyRpcV2CborProtocol:()=>Hf,JsonCodec:()=>jn,JsonShapeDeserializer:()=>Mo,JsonShapeSerializer:()=>Lo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>gs,NODE_SIGV4A_CONFIG_OPTIONS:()=>l_,XmlCodec:()=>$o,XmlShapeDeserializer:()=>Hn,XmlShapeSerializer:()=>Fo,_toBool:()=>o1,_toNum:()=>i1,_toStr:()=>s1,awsExpectUnion:()=>R1,emitWarningIfUnsupportedVersion:()=>ps,getBearerTokenEnvKey:()=>ec,loadRestJsonErrorCode:()=>$n,loadRestXmlErrorCode:()=>mh,parseJsonBody:()=>ws,parseJsonErrorBody:()=>th,parseXmlBody:()=>Uo,parseXmlErrorBody:()=>uh,resolveAWSSDKSigV4Config:()=>L_,resolveAwsSdkSigV4AConfig:()=>d_,resolveAwsSdkSigV4Config:()=>Un,setCredentialFeature:()=>Hr,setFeature:()=>Ww,setTokenFeature:()=>Jw,state:()=>Za,validateSigningProperties:()=>hs});var $e=x(()=>{Ot();If();Gx()});var Cs=N(xs=>{"use strict";var $1=(ot(),ue(kn)),j1=ms(),z1=be(),Vt=($e(),ue(kt)),Yx=void 0;function H1(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function q1(e){let r=$1.normalizeProvider(e.userAgentAppId??Yx),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let n=await r();if(!H1(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var V1=/\d{12}\.ddb/;async function G1(e,r,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Vt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){let o=await r.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Vt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Vt.setFeature(e,"RETRY_MODE_STANDARD","E"):Vt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(V1)&&Vt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":Vt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Vt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Vt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Vt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))Vt.setFeature(e,i,a)}}var Wx="user-agent",Eh="x-amz-user-agent",Kx=" ",Sh="/",W1=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,K1=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Jx="-",J1=1024;function Y1(e){let r="";for(let t in e){let n=e[t];if(r.length+n.length+1<=J1){r.length?r+=","+n:r+=n;continue}break}return r}var Xx=e=>(r,t)=>async n=>{let{request:s}=n;if(!z1.HttpRequest.isInstance(s))return r(n);let{headers:o}=s,i=t?.userAgent?.map(vc)||[],a=(await e.defaultUserAgentProvider()).map(vc);await G1(t,e,n);let l=t;a.push(`m/${Y1(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(vc)||[],f=await e.userAgentAppId();f&&a.push(vc([`app/${f}`]));let h=j1.getUserAgentPrefix(),g=(h?[h]:[]).concat([...a,...i,...u]).join(Kx),y=[...a.filter(S=>S.startsWith("aws-sdk-")),...u].join(Kx);return e.runtime!=="browser"?(y&&(o[Eh]=o[Eh]?`${o[Wx]} ${y}`:y),o[Wx]=g):o[Eh]=g,r({...n,request:s})},vc=e=>{let r=e[0].split(Sh).map(i=>i.replace(W1,Jx)).join(Sh),t=e[1]?.replace(K1,Jx),n=r.indexOf(Sh),s=r.substring(0,n),o=r.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},Qx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},X1=e=>({applyToStack:r=>{r.add(Xx(e),Qx)}});xs.DEFAULT_UA_APP_ID=Yx;xs.getUserAgentMiddlewareOptions=Qx;xs.getUserAgentPlugin=X1;xs.resolveUserAgentConfig=q1;xs.userAgentMiddleware=Xx});var Zx=N(Ts=>{"use strict";var Q1=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}},Z1=(e,r,t)=>{if(!(r in e))return;let n=parseInt(e[r],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${t} '${r}'. Expected number, got '${e[r]}'.`);return n};Ts.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ts.SelectorType||(Ts.SelectorType={}));Ts.booleanSelector=Q1;Ts.numberSelector=Z1});var Gt=N(Ge=>{"use strict";var Qr=Zx(),Rc=nt(),rC="AWS_USE_DUALSTACK_ENDPOINT",nC="use_dualstack_endpoint",eL=!1,tL={environmentVariableSelector:e=>Qr.booleanSelector(e,rC,Qr.SelectorType.ENV),configFileSelector:e=>Qr.booleanSelector(e,nC,Qr.SelectorType.CONFIG),default:!1},sC="AWS_USE_FIPS_ENDPOINT",oC="use_fips_endpoint",rL=!1,nL={environmentVariableSelector:e=>Qr.booleanSelector(e,sC,Qr.SelectorType.ENV),configFileSelector:e=>Qr.booleanSelector(e,oC,Qr.SelectorType.CONFIG),default:!1},sL=e=>{let{tls:r,endpoint:t,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:r??!0,endpoint:Rc.normalizeProvider(typeof t=="string"?n(t):t),isCustomEndpoint:!0,useDualstackEndpoint:Rc.normalizeProvider(s??!1)})},oL=async e=>{let{tls:r=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${i}`)},iL=e=>{let r=Rc.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?Rc.normalizeProvider(typeof t=="string"?s(t):t):()=>oL({...e,useDualstackEndpoint:r,useFipsEndpoint:n}),isCustomEndpoint:!!t,useDualstackEndpoint:r})},iC="AWS_REGION",aC="region",aL={environmentVariableSelector:e=>e[iC],configFileSelector:e=>e[aC],default:()=>{throw new Error("Region is missing")}},cL={preferredFile:"credentials"},cC=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),eC=e=>cC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,dL=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof r=="string")return eC(r);let n=await r();return eC(n)},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return cC(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},tC=(e=[],{useFipsEndpoint:r,useDualstackEndpoint:t})=>e.find(({tags:n})=>r===n.includes("fips")&&t===n.includes("dualstack"))?.hostname,lL=(e,{regionHostname:r,partitionHostname:t})=>r||(t?t.replace("{region}",e):void 0),uL=(e,{partitionHash:r})=>Object.keys(r||{}).find(t=>r[t].regions.includes(e))??"aws",mL=(e,{signingRegion:r,regionRegex:t,useFipsEndpoint:n})=>{if(r)return r;if(n){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},pL=(e,{useFipsEndpoint:r=!1,useDualstackEndpoint:t=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=uL(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,l={useFipsEndpoint:r,useDualstackEndpoint:t},u=tC(s[a]?.variants,l),f=tC(o[i]?.variants,l),h=lL(a,{regionHostname:u,partitionHostname:f});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:r,useDualstackEndpoint:t}}`);let g=mL(h,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:r});return{partition:i,signingService:n,hostname:h,...g&&{signingRegion:g},...s[a]?.signingService&&{signingService:s[a].signingService}}};Ge.CONFIG_USE_DUALSTACK_ENDPOINT=nC;Ge.CONFIG_USE_FIPS_ENDPOINT=oC;Ge.DEFAULT_USE_DUALSTACK_ENDPOINT=eL;Ge.DEFAULT_USE_FIPS_ENDPOINT=rL;Ge.ENV_USE_DUALSTACK_ENDPOINT=rC;Ge.ENV_USE_FIPS_ENDPOINT=sC;Ge.NODE_REGION_CONFIG_FILE_OPTIONS=cL;Ge.NODE_REGION_CONFIG_OPTIONS=aL;Ge.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=tL;Ge.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=nL;Ge.REGION_ENV_NAME=iC;Ge.REGION_INI_NAME=aC;Ge.getRegionInfo=pL;Ge.resolveCustomEndpointsConfig=sL;Ge.resolveEndpointsConfig=iL;Ge.resolveRegionConfig=dL});var jo=N(Pc=>{"use strict";var fL=be(),dC="content-length";function lC(e){return r=>async t=>{let n=t.request;if(fL.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(dC)===-1)try{let i=e(s);n.headers={...n.headers,[dC]:String(i)}}catch{}}return r({...t,request:n})}}var uC={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},hL=e=>({applyToStack:r=>{r.add(lC(e.bodyLengthChecker),uC)}});Pc.contentLengthMiddleware=lC;Pc.contentLengthMiddlewareOptions=uC;Pc.getContentLengthPlugin=hL});var wh=N(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getHomeDir=void 0;var gL=require("os"),yL=require("path"),bh={},EL=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",SL=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${yL.sep}`}=process.env;if(e)return e;if(r)return r;if(t)return`${n}${t}`;let s=EL();return bh[s]||(bh[s]=(0,gL.homedir)()),bh[s]};Nc.getHomeDir=SL});var _h=N(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getSSOTokenFilepath=void 0;var bL=require("crypto"),wL=require("path"),_L=wh(),xL=e=>{let t=(0,bL.createHash)("sha1").update(e).digest("hex");return(0,wL.join)((0,_L.getHomeDir)(),".aws","sso","cache",`${t}.json`)};Dc.getSSOTokenFilepath=xL});var mC=N(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.getSSOTokenFromFile=Zr.tokenIntercept=void 0;var CL=require("fs"),TL=_h(),{readFile:IL}=CL.promises;Zr.tokenIntercept={};var AL=async e=>{if(Zr.tokenIntercept[e])return Zr.tokenIntercept[e];let r=(0,TL.getSSOTokenFilepath)(e),t=await IL(r,"utf8");return JSON.parse(t)};Zr.getSSOTokenFromFile=AL});var pC=N(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.slurpFile=Et.fileIntercept=Et.filePromisesHash=void 0;var vL=require("fs"),{readFile:RL}=vL.promises;Et.filePromisesHash={};Et.fileIntercept={};var PL=(e,r)=>Et.fileIntercept[e]!==void 0?Et.fileIntercept[e]:((!Et.filePromisesHash[e]||r?.ignoreCache)&&(Et.filePromisesHash[e]=RL(e,"utf8")),Et.filePromisesHash[e]);Et.slurpFile=PL});var yr=N(ut=>{"use strict";var zo=wh(),fC=_h(),xh=mC(),Oc=require("path"),kc=Dr(),Ho=pC(),gC="AWS_PROFILE",yC="default",NL=e=>e.profile||process.env[gC]||yC,DL=e=>Object.entries(e).filter(([r])=>{let t=r.indexOf(qn);return t===-1?!1:Object.values(kc.IniSectionType).includes(r.substring(0,t))}).reduce((r,[t,n])=>{let s=t.indexOf(qn),o=t.substring(0,s)===kc.IniSectionType.PROFILE?t.substring(s+1):t;return r[o]=n,r},{...e.default&&{default:e.default}}),OL="AWS_CONFIG_FILE",EC=()=>process.env[OL]||Oc.join(zo.getHomeDir(),".aws","config"),kL="AWS_SHARED_CREDENTIALS_FILE",ML=()=>process.env[kL]||Oc.join(zo.getHomeDir(),".aws","credentials"),LL=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,BL=["__proto__","profile __proto__"],Ch=e=>{let r={},t,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,n=void 0;let a=o.substring(1,o.length-1),l=LL.exec(a);if(l){let[,u,,f]=l;Object.values(kc.IniSectionType).includes(u)&&(t=[u,f].join(qn))}else t=a;if(BL.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(t){let a=o.indexOf("=");if(![0,-1].includes(a)){let[l,u]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(u==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),r[t]=r[t]||{};let f=n?[n,l].join(qn):l;r[t][f]=u}}}}return r},hC=()=>({}),qn=".",SC=async(e={})=>{let{filepath:r=ML(),configFilepath:t=EC()}=e,n=zo.getHomeDir(),s="~/",o=r;r.startsWith(s)&&(o=Oc.join(n,r.slice(2)));let i=t;t.startsWith(s)&&(i=Oc.join(n,t.slice(2)));let a=await Promise.all([Ho.slurpFile(i,{ignoreCache:e.ignoreCache}).then(Ch).then(DL).catch(hC),Ho.slurpFile(o,{ignoreCache:e.ignoreCache}).then(Ch).catch(hC)]);return{configFile:a[0],credentialsFile:a[1]}},UL=e=>Object.entries(e).filter(([r])=>r.startsWith(kc.IniSectionType.SSO_SESSION+qn)).reduce((r,[t,n])=>({...r,[t.substring(t.indexOf(qn)+1)]:n}),{}),FL=()=>({}),$L=async(e={})=>Ho.slurpFile(e.configFilepath??EC()).then(Ch).then(UL).catch(FL),jL=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r},zL=async e=>{let r=await SC(e);return jL(r.configFile,r.credentialsFile)},HL={getFileRecord(){return Ho.fileIntercept},interceptFile(e,r){Ho.fileIntercept[e]=Promise.resolve(r)},getTokenRecord(){return xh.tokenIntercept},interceptToken(e,r){xh.tokenIntercept[e]=r}};Object.defineProperty(ut,"getSSOTokenFromFile",{enumerable:!0,get:function(){return xh.getSSOTokenFromFile}});ut.CONFIG_PREFIX_SEPARATOR=qn;ut.DEFAULT_PROFILE=yC;ut.ENV_PROFILE=gC;ut.externalDataInterceptor=HL;ut.getProfileName=NL;ut.loadSharedConfigFiles=SC;ut.loadSsoSessionData=$L;ut.parseKnownFiles=zL;Object.keys(zo).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ut,e)&&Object.defineProperty(ut,e,{enumerable:!0,get:function(){return zo[e]}})});Object.keys(fC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ut,e)&&Object.defineProperty(ut,e,{enumerable:!0,get:function(){return fC[e]}})})});var en=N(_C=>{"use strict";var qo=it(),bC=yr();function wC(e){try{let r=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return e}}var qL=(e,r)=>async()=>{try{let t=e(process.env,r);if(t===void 0)throw new Error;return t}catch(t){throw new qo.CredentialsProviderError(t.message||`Not found in ENV: ${wC(e.toString())}`,{logger:r?.logger})}},VL=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=bC.getProfileName(t),{configFile:s,credentialsFile:o}=await bC.loadSharedConfigFiles(t),i=o[n]||{},a=s[n]||{},l=r==="config"?{...i,...a}:{...a,...i};try{let f=e(l,r==="config"?s:o);if(f===void 0)throw new Error;return f}catch(u){throw new qo.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${wC(e.toString())}`,{logger:t.logger})}},GL=e=>typeof e=="function",WL=e=>GL(e)?async()=>await e():qo.fromStatic(e),KL=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return qo.memoize(qo.chain(qL(e,i),VL(r,n),WL(t)))};_C.loadConfig=KL});var IC=N(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.getEndpointUrlConfig=void 0;var xC=yr(),CC="AWS_ENDPOINT_URL",TC="endpoint_url",JL=e=>({environmentVariableSelector:r=>{let t=e.split(" ").map(o=>o.toUpperCase()),n=r[[CC,...t].join("_")];if(n)return n;let s=r[CC];if(s)return s},configFileSelector:(r,t)=>{if(t&&r.services){let s=t[["services",r.services].join(xC.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),TC].join(xC.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=r[TC];if(n)return n},default:void 0});Mc.getEndpointUrlConfig=JL});var AC=N(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getEndpointFromConfig=void 0;var YL=en(),XL=IC(),QL=async e=>(0,YL.loadConfig)((0,XL.getEndpointUrlConfig)(e??""))();Lc.getEndpointFromConfig=QL});var tn=N(Er=>{"use strict";var RC=AC(),vC=jr(),ZL=(ot(),ue(kn)),Bc=nt(),eB=kr(),tB=async e=>{let r=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),iB(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!oB(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},rB=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,nB=/(\d+\.){3}\d+/,sB=/\.\./,oB=e=>rB.test(e)&&!nB.test(e)&&!sB.test(e),iB=e=>{let[r,t,n,,,s]=e.split(":"),o=r==="arn"&&e.split(":").length>=6,i=!!(o&&t&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},aB=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="credentialScope"||r==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||r==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||r==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:l}=s;return`${o}//${i}${a?":"+a:""}${l}`}}return s}:n},Th=e=>typeof e=="object"?"url"in e?vC.parseUrl(e.url):e:vC.parseUrl(e),PC=async(e,r,t,n)=>{if(!t.isCustomEndpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await RC.getEndpointFromConfig(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(Th(i)),t.isCustomEndpoint=!0)}let s=await NC(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},NC=async(e,r,t)=>{let n={},s=r?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await aB(i.name,o,t)();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await tB(n),n},DC=({config:e,instructions:r})=>(t,n)=>async s=>{e.isCustomEndpoint&&ZL.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await PC(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=Bc.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...s})},OC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:eB.serializerMiddlewareOption.name},cB=(e,r)=>({applyToStack:t=>{t.addRelativeTo(DC({config:e,instructions:r}),OC)}}),dB=e=>{let r=e.tls??!0,{endpoint:t,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=t!=null?async()=>Th(await Bc.normalizeProvider(t)()):void 0,a=Object.assign(e,{endpoint:o,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:Bc.normalizeProvider(n??!1),useFipsEndpoint:Bc.normalizeProvider(s??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=RC.getEndpointFromConfig(e.serviceId)),l),a},lB=e=>{let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Er.endpointMiddleware=DC;Er.endpointMiddlewareOptions=OC;Er.getEndpointFromInstructions=PC;Er.getEndpointPlugin=cB;Er.resolveEndpointConfig=dB;Er.resolveEndpointRequiredConfig=lB;Er.resolveParams=NC;Er.toEndpointV1=Th});var Ah=N(rn=>{"use strict";var uB=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],mB=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],pB=["TimeoutError","RequestTimeout","RequestTimeoutException"],fB=[500,502,503,504],hB=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],gB=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],kC=e=>e?.$retryable!==void 0,yB=e=>uB.includes(e.name),MC=e=>e.$metadata?.clockSkewCorrected,LC=e=>{let r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?r.has(e.message):!1},EB=e=>e.$metadata?.httpStatusCode===429||mB.includes(e.name)||e.$retryable?.throttling==!0,Ih=(e,r=0)=>kC(e)||MC(e)||pB.includes(e.name)||hB.includes(e?.code||"")||gB.includes(e?.code||"")||fB.includes(e.$metadata?.httpStatusCode||0)||LC(e)||e.cause!==void 0&&r<=10&&Ih(e.cause,r+1),SB=e=>{if(e.$metadata?.httpStatusCode!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Ih(e)}return!1};rn.isBrowserNetworkError=LC;rn.isClockSkewCorrectedError=MC;rn.isClockSkewError=yB;rn.isRetryableByTrait=kC;rn.isServerError=SB;rn.isThrottlingError=EB;rn.isTransientError=Ih});var Is=N(Re=>{"use strict";var bB=Ah();Re.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Re.RETRY_MODES||(Re.RETRY_MODES={}));var vh=3,wB=Re.RETRY_MODES.STANDARD,Fc=class Fc{constructor(r){d(this,"beta");d(this,"minCapacity");d(this,"minFillRate");d(this,"scaleConstant");d(this,"smooth");d(this,"currentCapacity",0);d(this,"enabled",!1);d(this,"lastMaxRate",0);d(this,"measuredTxRate",0);d(this,"requestCount",0);d(this,"fillRate");d(this,"lastThrottleTime");d(this,"lastTimestamp",0);d(this,"lastTxRateBucket");d(this,"maxCapacity");d(this,"timeWindow",0);this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Fc.setTimeoutFn(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),bB.isThrottlingError(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}};d(Fc,"setTimeoutFn",setTimeout);var Uc=Fc,Vo=100,Dh=20*1e3,UC=500,Rh=500,FC=5,$C=10,jC=1,_B="amz-sdk-invocation-id",xB="amz-sdk-request",CB=()=>{let e=Vo;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Dh,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},BC=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(Dh,e),getRetryCost:()=>t}),Go=class{constructor(r){d(this,"maxAttempts");d(this,"mode",Re.RETRY_MODES.STANDARD);d(this,"capacity",Rh);d(this,"retryBackoffStrategy",CB());d(this,"maxAttemptsProvider");this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return BC({retryDelay:Vo,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?UC:Vo);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,BC({retryDelay:i,retryCount:r.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(Rh,this.capacity+(r.getRetryCost()??jC))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${vh}`),vh}}shouldRetry(r,t,n){return r.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?$C:FC}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}},Ph=class{constructor(r,t){d(this,"maxAttemptsProvider");d(this,"rateLimiter");d(this,"standardRetryStrategy");d(this,"mode",Re.RETRY_MODES.ADAPTIVE);this.maxAttemptsProvider=r;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Uc,this.standardRetryStrategy=new Go(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}},Nh=class extends Go{constructor(t,n=Vo){super(typeof t=="function"?t:async()=>t);d(this,"computeNextBackoffDelay");typeof n=="number"?this.computeNextBackoffDelay=()=>n:this.computeNextBackoffDelay=n}async refreshRetryTokenForRetry(t,n){let s=await super.refreshRetryTokenForRetry(t,n);return s.getRetryDelay=()=>this.computeNextBackoffDelay(s.getRetryCount()),s}};Re.AdaptiveRetryStrategy=Ph;Re.ConfiguredRetryStrategy=Nh;Re.DEFAULT_MAX_ATTEMPTS=vh;Re.DEFAULT_RETRY_DELAY_BASE=Vo;Re.DEFAULT_RETRY_MODE=wB;Re.DefaultRateLimiter=Uc;Re.INITIAL_RETRY_TOKENS=Rh;Re.INVOCATION_ID_HEADER=_B;Re.MAXIMUM_RETRY_DELAY=Dh;Re.NO_RETRY_INCREMENT=jC;Re.REQUEST_HEADER=xB;Re.RETRY_COST=FC;Re.StandardRetryStrategy=Go;Re.THROTTLING_RETRY_DELAY_BASE=UC;Re.TIMEOUT_RETRY_COST=$C});var zC=N($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.isStreamingPayload=void 0;var TB=require("stream"),IB=e=>e?.body instanceof TB.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;$c.isStreamingPayload=IB});var Sr=N(je=>{"use strict";var Ae=Is(),As=be(),nn=Ah(),qC=qa(),HC=nt(),AB=oe(),vB=zC(),RB=(e,r)=>{let t=e,n=Ae.NO_RETRY_INCREMENT,s=Ae.RETRY_COST,o=Ae.TIMEOUT_RETRY_COST,i=e,a=h=>h.name==="TimeoutError"?o:s,l=h=>a(h)<=i;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:h=>{if(!l(h))throw new Error("No retry token available");let g=a(h);return i-=g,g},releaseRetryTokens:h=>{i+=h??n,i=Math.min(i,t)}})},VC=(e,r)=>Math.floor(Math.min(Ae.MAXIMUM_RETRY_DELAY,Math.random()*2**r*e)),GC=e=>e?nn.isRetryableByTrait(e)||nn.isClockSkewError(e)||nn.isThrottlingError(e)||nn.isTransientError(e):!1,WC=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),jc=class{constructor(r,t){d(this,"maxAttemptsProvider");d(this,"retryDecider");d(this,"delayDecider");d(this,"retryQuota");d(this,"mode",Ae.RETRY_MODES.STANDARD);this.maxAttemptsProvider=r,this.retryDecider=t?.retryDecider??GC,this.delayDecider=t?.delayDecider??VC,this.retryQuota=t?.retryQuota??RB(Ae.INITIAL_RETRY_TOKENS)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=Ae.DEFAULT_MAX_ATTEMPTS}return r}async retry(r,t,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:l}=t;for(As.HttpRequest.isInstance(l)&&(l.headers[Ae.INVOCATION_ID_HEADER]=qC.v4());;)try{As.HttpRequest.isInstance(l)&&(l.headers[Ae.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:f}=await r(t);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:u,output:f}}catch(u){let f=WC(u);if(o++,this.shouldRetry(f,o,a)){s=this.retryQuota.retrieveRetryTokens(f);let h=this.delayDecider(nn.isThrottlingError(f)?Ae.THROTTLING_RETRY_DELAY_BASE:Ae.DEFAULT_RETRY_DELAY_BASE,o),g=PB(f.$response),y=Math.max(g||0,h);i+=y,await new Promise(S=>setTimeout(S,y));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},PB=e=>{if(!As.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3},Oh=class extends jc{constructor(t,n){let{rateLimiter:s,...o}=n??{};super(t,o);d(this,"rateLimiter");this.rateLimiter=s??new Ae.DefaultRateLimiter,this.mode=Ae.RETRY_MODES.ADAPTIVE}async retry(t,n){return super.retry(t,n,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:s=>{this.rateLimiter.updateClientSendingRate(s)}})}},kh="AWS_MAX_ATTEMPTS",Mh="max_attempts",NB={environmentVariableSelector:e=>{let r=e[kh];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${kh} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[Mh];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${Mh} mast be a number, got "${r}"`);return t},default:Ae.DEFAULT_MAX_ATTEMPTS},DB=e=>{let{retryStrategy:r,retryMode:t,maxAttempts:n}=e,s=HC.normalizeProvider(n??Ae.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>r||(await HC.normalizeProvider(t)()===Ae.RETRY_MODES.ADAPTIVE?new Ae.AdaptiveRetryStrategy(s):new Ae.StandardRetryStrategy(s))})},KC="AWS_RETRY_MODE",JC="retry_mode",OB={environmentVariableSelector:e=>e[KC],configFileSelector:e=>e[JC],default:Ae.DEFAULT_RETRY_MODE},YC=()=>e=>async r=>{let{request:t}=r;return As.HttpRequest.isInstance(t)&&(delete t.headers[Ae.INVOCATION_ID_HEADER],delete t.headers[Ae.REQUEST_HEADER]),e(r)},XC={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},kB=e=>({applyToStack:r=>{r.addRelativeTo(YC(),XC)}}),QC=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(MB(s)){s=s;let i=await s.acquireInitialRetryToken(t.partition_id),a=new Error,l=0,u=0,{request:f}=n,h=As.HttpRequest.isInstance(f);for(h&&(f.headers[Ae.INVOCATION_ID_HEADER]=qC.v4());;)try{h&&(f.headers[Ae.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:g,output:y}=await r(n);return s.recordSuccess(i),y.$metadata.attempts=l+1,y.$metadata.totalRetryDelay=u,{response:g,output:y}}catch(g){let y=LB(g);if(a=WC(g),h&&vB.isStreamingPayload(f))throw(t.logger instanceof AB.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,y)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=u,a}l=i.getRetryCount();let S=i.getRetryDelay();u+=S,await new Promise(I=>setTimeout(I,S))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},MB=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",LB=e=>{let r={error:e,errorType:BB(e)},t=eT(e.$response);return t&&(r.retryAfterHint=t),r},BB=e=>nn.isThrottlingError(e)?"THROTTLING":nn.isTransientError(e)?"TRANSIENT":nn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",ZC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},UB=e=>({applyToStack:r=>{r.add(QC(e),ZC)}}),eT=e=>{if(!As.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};je.AdaptiveRetryStrategy=Oh;je.CONFIG_MAX_ATTEMPTS=Mh;je.CONFIG_RETRY_MODE=JC;je.ENV_MAX_ATTEMPTS=kh;je.ENV_RETRY_MODE=KC;je.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=NB;je.NODE_RETRY_MODE_CONFIG_OPTIONS=OB;je.StandardRetryStrategy=jc;je.defaultDelayDecider=VC;je.defaultRetryDecider=GC;je.getOmitRetryHeadersPlugin=kB;je.getRetryAfterHint=eT;je.getRetryPlugin=UB;je.omitRetryHeadersMiddleware=YC;je.omitRetryHeadersMiddlewareOptions=XC;je.resolveRetryConfig=DB;je.retryMiddleware=QC;je.retryMiddlewareOptions=ZC});var Bh=N(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.resolveHttpAuthSchemeConfig=sn.defaultDynamoDBHttpAuthSchemeProvider=sn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var FB=($e(),ue(kt)),Lh=nt(),$B=async(e,r,t)=>({operation:(0,Lh.getSmithyContext)(r).operation,region:await(0,Lh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});sn.defaultDynamoDBHttpAuthSchemeParametersProvider=$B;function jB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}var zB=e=>{let r=[];switch(e.operation){default:r.push(jB(e))}return r};sn.defaultDynamoDBHttpAuthSchemeProvider=zB;var HB=e=>{let r=(0,FB.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,Lh.normalizeProvider)(e.authSchemePreference??[])})};sn.resolveHttpAuthSchemeConfig=HB});var tT=N((v9,qB)=>{qB.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.907.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.907.0","@aws-sdk/credential-provider-node":"3.907.0","@aws-sdk/middleware-endpoint-discovery":"3.901.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.907.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.907.0","@aws-sdk/util-user-agent-node":"3.907.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.0","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Uh=N(on=>{"use strict";var VB=(Ot(),ue(qr)),GB=it(),rT="AWS_ACCESS_KEY_ID",nT="AWS_SECRET_ACCESS_KEY",sT="AWS_SESSION_TOKEN",oT="AWS_CREDENTIAL_EXPIRATION",iT="AWS_CREDENTIAL_SCOPE",aT="AWS_ACCOUNT_ID",WB=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[rT],t=process.env[nT],n=process.env[sT],s=process.env[oT],o=process.env[iT],i=process.env[aT];if(r&&t){let a={accessKeyId:r,secretAccessKey:t,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return VB.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new GB.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};on.ENV_ACCOUNT_ID=aT;on.ENV_CREDENTIAL_SCOPE=iT;on.ENV_EXPIRATION=oT;on.ENV_KEY=rT;on.ENV_SECRET=nT;on.ENV_SESSION=sT;on.fromEnv=WB});var Ko=N(Qe=>{"use strict";var Wt=it(),KB=require("url"),JB=require("buffer"),YB=require("http"),Hh=en(),XB=jr();function Wo(e){return new Promise((r,t)=>{let n=YB.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{t(Object.assign(new Wt.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{t(new Wt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new Wt.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{r(JB.Buffer.concat(i)),n.destroy()})}),n.end()})}var uT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",mT=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),pT=1e3,fT=0,qh=({maxRetries:e=fT,timeout:r=pT})=>({maxRetries:e,timeout:r}),$h=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t},zc="AWS_CONTAINER_CREDENTIALS_FULL_URI",Hc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",jh="AWS_CONTAINER_AUTHORIZATION_TOKEN",QB=(e={})=>{let{timeout:r,maxRetries:t}=qh(e);return()=>$h(async()=>{let n=await nU({logger:e.logger}),s=JSON.parse(await ZB(r,n));if(!uT(s))throw new Wt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return mT(s)},t)},ZB=async(e,r)=>(process.env[jh]&&(r.headers={...r.headers,Authorization:process.env[jh]}),(await Wo({...r,timeout:e})).toString()),eU="169.254.170.2",tU={localhost:!0,"127.0.0.1":!0},rU={"http:":!0,"https:":!0},nU=async({logger:e})=>{if(process.env[Hc])return{hostname:eU,path:process.env[Hc]};if(process.env[zc]){let r=KB.parse(process.env[zc]);if(!r.hostname||!(r.hostname in tU))throw new Wt.CredentialsProviderError(`${r.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!r.protocol||!(r.protocol in rU))throw new Wt.CredentialsProviderError(`${r.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...r,port:r.port?parseInt(r.port,10):void 0}}throw new Wt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Hc} or ${zc} environment variable is set`,{tryNextLink:!1,logger:e})},zh=class e extends Wt.CredentialsProviderError{constructor(t,n=!0){super(t,n);d(this,"tryNextLink");d(this,"name","InstanceMetadataV1FallbackError");this.tryNextLink=n,Object.setPrototypeOf(this,e.prototype)}};Qe.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Qe.Endpoint||(Qe.Endpoint={}));var sU="AWS_EC2_METADATA_SERVICE_ENDPOINT",oU="ec2_metadata_service_endpoint",iU={environmentVariableSelector:e=>e[sU],configFileSelector:e=>e[oU],default:void 0},vs;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(vs||(vs={}));var aU="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",cU="ec2_metadata_service_endpoint_mode",dU={environmentVariableSelector:e=>e[aU],configFileSelector:e=>e[cU],default:vs.IPv4},hT=async()=>XB.parseUrl(await lU()||await uU()),lU=async()=>Hh.loadConfig(iU)(),uU=async()=>{let e=await Hh.loadConfig(dU)();switch(e){case vs.IPv4:return Qe.Endpoint.IPv4;case vs.IPv6:return Qe.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(vs)}`)}},mU=300,pU=300,fU="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",cT=(e,r)=>{let t=mU+Math.floor(Math.random()*pU),n=new Date(Date.now()+t*1e3);r.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+fU);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},hU=(e,r={})=>{let t=r?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=cT(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=cT(n,t);else throw o}return n=s,s}},gT="/latest/meta-data/iam/security-credentials/",gU="/latest/api/token",Fh="AWS_EC2_METADATA_V1_DISABLED",dT="ec2_metadata_v1_disabled",lT="x-aws-ec2-metadata-token",yU=(e={})=>hU(EU(e),{logger:e.logger}),EU=(e={})=>{let r=!1,{logger:t,profile:n}=e,{timeout:s,maxRetries:o}=qh(e),i=async(a,l)=>{if(r||l.headers?.[lT]==null){let h=!1,g=!1,y=await Hh.loadConfig({environmentVariableSelector:S=>{let I=S[Fh];if(g=!!I&&I!=="false",I===void 0)throw new Wt.CredentialsProviderError(`${Fh} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:S=>{let I=S[dT];return h=!!I&&I!=="false",h},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&S.push(`config file profile (${dT})`),g&&S.push(`process environment variable (${Fh})`),new zh(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let f=(await $h(async()=>{let h;try{h=await bU(l)}catch(g){throw g.statusCode===401&&(r=!1),g}return h},a)).trim();return $h(async()=>{let h;try{h=await wU(f,l,e)}catch(g){throw g.statusCode===401&&(r=!1),g}return h},a)};return async()=>{let a=await hT();if(r)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let l;try{l=(await SU({...a,timeout:s})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(r=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[lT]:l},timeout:s})}}},SU=async e=>Wo({...e,path:gU,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),bU=async e=>(await Wo({...e,path:gT})).toString(),wU=async(e,r,t)=>{let n=JSON.parse((await Wo({...r,path:gT+e})).toString());if(!uT(n))throw new Wt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return mT(n)};Qe.DEFAULT_MAX_RETRIES=fT;Qe.DEFAULT_TIMEOUT=pT;Qe.ENV_CMDS_AUTH_TOKEN=jh;Qe.ENV_CMDS_FULL_URI=zc;Qe.ENV_CMDS_RELATIVE_URI=Hc;Qe.fromContainerMetadata=QB;Qe.fromInstanceMetadata=yU;Qe.getInstanceMetadataEndpoint=hT;Qe.httpRequest=Wo;Qe.providerConfigFromInit=qh});var yT=N(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.checkUrl=void 0;var _U=it(),xU="169.254.170.2",CU="169.254.170.23",TU="[fd00:ec2::23]",IU=(e,r)=>{if(e.protocol!=="https:"&&!(e.hostname===xU||e.hostname===CU||e.hostname===TU)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&n(t[1])&&n(t[2])&&n(t[3])&&t.length===4)return}throw new _U.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}};qc.checkUrl=IU});var ET=N(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.createGetRequest=PU;Vc.getCredentials=NU;var Vh=it(),AU=be(),vU=oe(),RU=xa();function PU(e){return new AU.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((r,[t,n])=>(r[t]=n,r),{}),fragment:e.hash})}async function NU(e,r){let n=await(0,RU.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Vh.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,vU.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Vh.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:s.Code,Message:s.Message})}throw new Vh.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}});var ST=N(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.retryWrapper=void 0;var DU=(e,r,t)=>async()=>{for(let n=0;n<r;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};Gc.retryWrapper=DU});var _T=N(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.fromHttp=void 0;var OU=(_o(),ue(wo)),kU=(Ot(),ue(qr)),MU=Tn(),bT=it(),LU=OU.__importDefault(require("fs/promises")),BU=yT(),wT=ET(),UU=ST(),FU="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",$U="http://169.254.170.2",jU="AWS_CONTAINER_CREDENTIALS_FULL_URI",zU="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",HU="AWS_CONTAINER_AUTHORIZATION_TOKEN",qU=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r,t=e.awsContainerCredentialsRelativeUri??process.env[FU],n=e.awsContainerCredentialsFullUri??process.env[jU],s=e.awsContainerAuthorizationToken??process.env[HU],o=e.awsContainerAuthorizationTokenFile??process.env[zU],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)r=n;else if(t)r=`${$U}${t}`;else throw new bT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(r);(0,BU.checkUrl)(a,e.logger);let l=MU.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,UU.retryWrapper)(async()=>{let u=(0,wT.createGetRequest)(a);s?u.headers.Authorization=s:o&&(u.headers.Authorization=(await LU.default.readFile(o)).toString());try{let f=await l.handle(u);return(0,wT.getCredentials)(f.response).then(h=>(0,kU.setCredentialFeature)(h,"CREDENTIALS_HTTP","z"))}catch(f){throw new bT.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Wc.fromHttp=qU});var Gh=N(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.fromHttp=void 0;var VU=_T();Object.defineProperty(Kc,"fromHttp",{enumerable:!0,get:function(){return VU.fromHttp}})});function GU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function WU(e){return{schemeId:"smithy.api#noAuth"}}var Jo,xT,CT,TT,Wh=x(()=>{$e();Jo=T(nt()),xT=async(e,r,t)=>({operation:(0,Jo.getSmithyContext)(r).operation,region:await(0,Jo.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});CT=e=>{let r=[];switch(e.operation){case"CreateToken":{r.push(WU(e));break}default:r.push(GU(e))}return r},TT=e=>{let r=Un(e);return Object.assign(r,{authSchemePreference:(0,Jo.normalizeProvider)(e.authSchemePreference??[])})}});var IT,AT,Kh=x(()=>{IT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),AT={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Jc,Jh=x(()=>{Jc={name:"@aws-sdk/nested-clients",version:"3.907.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.907.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.907.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.907.0","@aws-sdk/util-user-agent-node":"3.907.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Yo=N(Vn=>{"use strict";var vT=require("os"),Yh=require("process"),JU=Cs(),RT={isCrtAvailable:!1},YU=()=>RT.isCrtAvailable?["md/crt-avail"]:null,PT=({serviceId:e,clientVersion:r})=>async t=>{let n=[["aws-sdk-js",r],["ua","2.1"],[`os/${vT.platform()}`,vT.release()],["lang/js"],["md/nodejs",`${Yh.versions.node}`]],s=YU();s&&n.push(s),e&&n.push([`api/${e}`,r]),Yh.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Yh.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},XU=PT,NT="AWS_SDK_UA_APP_ID",DT="sdk_ua_app_id",QU="sdk-ua-app-id",ZU={environmentVariableSelector:e=>e[NT],configFileSelector:e=>e[DT]??e[QU],default:JU.DEFAULT_UA_APP_ID};Vn.NODE_APP_ID_CONFIG_OPTIONS=ZU;Vn.UA_APP_ID_ENV_NAME=NT;Vn.UA_APP_ID_INI_NAME=DT;Vn.createDefaultUserAgentProvider=PT;Vn.crtAvailability=RT;Vn.defaultUserAgent=XU});var Xo=N(MT=>{"use strict";var Xh=ns(),eF=qe(),tF=require("buffer"),OT=require("crypto"),Qh=class{constructor(r,t){d(this,"algorithmIdentifier");d(this,"secret");d(this,"hash");this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(eF.toUint8Array(kT(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?OT.createHmac(this.algorithmIdentifier,kT(this.secret)):OT.createHash(this.algorithmIdentifier)}};function kT(e,r){return tF.Buffer.isBuffer(e)?e:typeof e=="string"?Xh.fromString(e,r):ArrayBuffer.isView(e)?Xh.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Xh.fromArrayBuffer(e)}MT.Hash=Qh});var Qo=N(LT=>{"use strict";var Zh=require("node:fs"),rF=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Zh.ReadStream){if(e.path!=null)return Zh.lstatSync(e.path).size;if(typeof e.fd=="number")return Zh.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};LT.calculateBodyLength=rF});var GT,It,BT,Zo,Rs,Ps,br,eg,tg,UT,FT,$T,WT,KT,Tt,jT,JT,zT,HT,qT,VT,nF,YT,XT=x(()=>{GT="required",It="argv",BT="isSet",Zo="booleanEquals",Rs="error",Ps="endpoint",br="tree",eg="PartitionResult",tg="getAttr",UT={[GT]:!1,type:"String"},FT={[GT]:!0,default:!1,type:"Boolean"},$T={ref:"Endpoint"},WT={fn:Zo,[It]:[{ref:"UseFIPS"},!0]},KT={fn:Zo,[It]:[{ref:"UseDualStack"},!0]},Tt={},jT={fn:tg,[It]:[{ref:eg},"supportsFIPS"]},JT={ref:eg},zT={fn:Zo,[It]:[!0,{fn:tg,[It]:[JT,"supportsDualStack"]}]},HT=[WT],qT=[KT],VT=[{ref:"Region"}],nF={version:"1.0",parameters:{Region:UT,UseDualStack:FT,UseFIPS:FT,Endpoint:UT},rules:[{conditions:[{fn:BT,[It]:[$T]}],rules:[{conditions:HT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Rs},{conditions:qT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Rs},{endpoint:{url:$T,properties:Tt,headers:Tt},type:Ps}],type:br},{conditions:[{fn:BT,[It]:VT}],rules:[{conditions:[{fn:"aws.partition",[It]:VT,assign:eg}],rules:[{conditions:[WT,KT],rules:[{conditions:[{fn:Zo,[It]:[!0,jT]},zT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Ps}],type:br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Rs}],type:br},{conditions:HT,rules:[{conditions:[{fn:Zo,[It]:[jT,!0]}],rules:[{conditions:[{fn:"stringEquals",[It]:[{fn:tg,[It]:[JT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Tt,headers:Tt},type:Ps},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Ps}],type:br},{error:"FIPS is enabled but this partition does not support FIPS",type:Rs}],type:br},{conditions:qT,rules:[{conditions:[zT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Ps}],type:br},{error:"DualStack is enabled but this partition does not support DualStack",type:Rs}],type:br},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Ps}],type:br}],type:br},{error:"Invalid Configuration: Missing Region",type:Rs}]},YT=nF});var QT,Ns,sF,ZT,eI=x(()=>{QT=T(ms()),Ns=T(us());XT();sF=new Ns.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ZT=(e,r={})=>sF.get(e,()=>(0,Ns.resolveEndpoint)(YT,{endpointParams:e,logger:r.logger}));Ns.customEndpointFunctions.aws=QT.awsEndpointFunctions});var tI,rI,Yc,Xc,nI,sI=x(()=>{$e();ot();tI=T(oe()),rI=T(jr()),Yc=T(Ve()),Xc=T(qe());Wh();eI();nI=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Yc.fromBase64,base64Encoder:e?.base64Encoder??Yc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ZT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??CT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new lt},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lr}],logger:e?.logger??new tI.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??rI.parseUrl,utf8Decoder:e?.utf8Decoder??Xc.fromUtf8,utf8Encoder:e?.utf8Encoder??Xc.toUtf8})});var ei=N(cI=>{"use strict";var oF=Gt(),oI=en(),iF=it(),aF="AWS_EXECUTION_ENV",iI="AWS_REGION",aI="AWS_DEFAULT_REGION",cF="AWS_EC2_METADATA_DISABLED",dF=["in-region","cross-region","mobile","standard","legacy"],lF="/latest/meta-data/placement/region",uF="AWS_DEFAULTS_MODE",mF="defaults_mode",pF={environmentVariableSelector:e=>e[uF],configFileSelector:e=>e[mF],default:"legacy"},fF=({region:e=oI.loadConfig(oF.NODE_REGION_CONFIG_OPTIONS),defaultsMode:r=oI.loadConfig(pF)}={})=>iF.memoize(async()=>{let t=typeof r=="function"?await r():r;switch(t?.toLowerCase()){case"auto":return hF(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${dF.join(", ")}, got ${t}`)}}),hF=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await gF();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},gF=async()=>{if(process.env[aF]&&(process.env[iI]||process.env[aI]))return process.env[iI]??process.env[aI];if(!process.env[cF])try{let{getInstanceMetadataEndpoint:e,httpRequest:r}=await Promise.resolve().then(()=>T(Ko())),t=await e();return(await r({...t,path:lF})).toString()}catch{}};cI.resolveDefaultsModeConfig=fF});var Qc,cn,dI,Zc,an,ed,lI,uI,mI,pI,fI,hI,gI=x(()=>{Jh();$e();Qc=T(Yo()),cn=T(Gt()),dI=T(Xo()),Zc=T(Sr()),an=T(en()),ed=T(Tn()),lI=T(Qo()),uI=T(Is());sI();mI=T(oe()),pI=T(ei()),fI=T(oe()),hI=e=>{(0,fI.emitWarningIfUnsupportedVersion)(process.version);let r=(0,pI.resolveDefaultsModeConfig)(e),t=()=>r().then(mI.loadConfigsForDefaultMode),n=nI(e);ps(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(gs,s),bodyLengthChecker:e?.bodyLengthChecker??lI.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Qc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Jc.version}),maxAttempts:e?.maxAttempts??(0,an.loadConfig)(Zc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(cn.NODE_REGION_CONFIG_OPTIONS,{...cn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:ed.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,an.loadConfig)({...Zc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||uI.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ed.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(cn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(cn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(Qc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var ti=N((sQ,_I)=>{"use strict";var td=Object.defineProperty,yF=Object.getOwnPropertyDescriptor,EF=Object.getOwnPropertyNames,SF=Object.prototype.hasOwnProperty,Kt=(e,r)=>td(e,"name",{value:r,configurable:!0}),bF=(e,r)=>{for(var t in r)td(e,t,{get:r[t],enumerable:!0})},wF=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of EF(r))!SF.call(e,s)&&s!==t&&td(e,s,{get:()=>r[s],enumerable:!(n=yF(r,s))||n.enumerable});return e},_F=e=>wF(td({},"__esModule",{value:!0}),e),EI={};bF(EI,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>IF,NODE_REGION_CONFIG_OPTIONS:()=>TF,REGION_ENV_NAME:()=>SI,REGION_INI_NAME:()=>bI,getAwsRegionExtensionConfiguration:()=>xF,resolveAwsRegionExtensionConfiguration:()=>CF,resolveRegionConfig:()=>AF});_I.exports=_F(EI);var xF=Kt(e=>({setRegion(r){e.region=r},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),CF=Kt(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),SI="AWS_REGION",bI="region",TF={environmentVariableSelector:Kt(e=>e[SI],"environmentVariableSelector"),configFileSelector:Kt(e=>e[bI],"configFileSelector"),default:Kt(()=>{throw new Error("Region is missing")},"default")},IF={preferredFile:"credentials"},wI=Kt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),yI=Kt(e=>wI(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),AF=Kt(e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:Kt(async()=>{if(typeof r=="string")return yI(r);let n=await r();return yI(n)},"region"),useFipsEndpoint:Kt(async()=>{let n=typeof r=="string"?r:await r();return wI(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()},"useFipsEndpoint")})},"resolveRegionConfig")});var xI,CI,TI=x(()=>{xI=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},CI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var rd,nd,sd,II,AI=x(()=>{rd=T(ti()),nd=T(be()),sd=T(oe());TI();II=(e,r)=>{let t=Object.assign((0,rd.getAwsRegionExtensionConfiguration)(e),(0,sd.getDefaultExtensionConfiguration)(e),(0,nd.getHttpHandlerExtensionConfiguration)(e),xI(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,rd.resolveAwsRegionExtensionConfiguration)(t),(0,sd.resolveDefaultRuntimeConfig)(t),(0,nd.resolveHttpHandlerRuntimeConfig)(t),CI(t))}});var od,vI,RI,id,PI,NI,DI,ad,rg,ri,ng=x(()=>{od=T(so()),vI=T(oo()),RI=T(ao()),id=T(Cs()),PI=T(Gt());ot();NI=T(jo()),DI=T(tn()),ad=T(Sr()),rg=T(oe());Wh();Kh();gI();AI();ri=class extends rg.Client{constructor(...[t]){let n=hI(t||{});super(n);d(this,"config");this.initConfig=n;let s=IT(n),o=(0,id.resolveUserAgentConfig)(s),i=(0,ad.resolveRetryConfig)(o),a=(0,PI.resolveRegionConfig)(i),l=(0,od.resolveHostHeaderConfig)(a),u=(0,DI.resolveEndpointConfig)(l),f=TT(u),h=II(f,t?.extensions||[]);this.config=h,this.middlewareStack.use((0,id.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ad.getRetryPlugin)(this.config)),this.middlewareStack.use((0,NI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,od.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,vI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,RI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(lo(this.config,{httpAuthSchemeParametersProvider:xT,identityProviderConfigProvider:async g=>new On({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(uo(this.config))}destroy(){super.destroy()}}});var OI,He,cd=x(()=>{OI=T(oe()),He=class e extends OI.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var Gn,vF,ni,si,sg,og,oi,ii,ai,ci,RF,di,li,ui,mi,pi,dd=x(()=>{Gn=T(oe());cd();vF={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},ni=class e extends He{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});d(this,"name","AccessDeniedException");d(this,"$fault","client");d(this,"error");d(this,"reason");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},si=class e extends He{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});d(this,"name","AuthorizationPendingException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},sg=e=>({...e,...e.clientSecret&&{clientSecret:Gn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Gn.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Gn.SENSITIVE_STRING}}),og=e=>({...e,...e.accessToken&&{accessToken:Gn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Gn.SENSITIVE_STRING},...e.idToken&&{idToken:Gn.SENSITIVE_STRING}}),oi=class e extends He{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});d(this,"name","ExpiredTokenException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ii=class e extends He{constructor(t){super({name:"InternalServerException",$fault:"server",...t});d(this,"name","InternalServerException");d(this,"$fault","server");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ai=class e extends He{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});d(this,"name","InvalidClientException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ci=class e extends He{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});d(this,"name","InvalidGrantException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},RF={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},di=class e extends He{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});d(this,"name","InvalidRequestException");d(this,"$fault","client");d(this,"error");d(this,"reason");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},li=class e extends He{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});d(this,"name","InvalidScopeException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ui=class e extends He{constructor(t){super({name:"SlowDownException",$fault:"client",...t});d(this,"name","SlowDownException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},mi=class e extends He{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});d(this,"name","UnauthorizedClientException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},pi=class e extends He{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});d(this,"name","UnsupportedGrantTypeException");d(this,"$fault","client");d(this,"error");d(this,"error_description");Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var M,kI,MI,PF,NF,DF,OF,kF,MF,LF,BF,UF,FF,$F,jF,zF,At,LI=x(()=>{$e();ot();M=T(oe());dd();cd();kI=async(e,r)=>{let t=To(e,r),n={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,M.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,M._json)(o)})),t.m("POST").h(n).b(s),t.build()},MI=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return PF(e,r);let t=(0,M.map)({$metadata:At(e)}),n=(0,M.expectNonNull)((0,M.expectObject)(await ws(e.body,r)),"body"),s=(0,M.take)(n,{accessToken:M.expectString,expiresIn:M.expectInt32,idToken:M.expectString,refreshToken:M.expectString,tokenType:M.expectString});return Object.assign(t,s),t},PF=async(e,r)=>{let t={...e,body:await th(e.body,r)},n=$n(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await DF(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await OF(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await kF(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await MF(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await LF(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await BF(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await UF(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await FF(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await $F(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await jF(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await zF(t,r);default:let s=t.body;return NF({output:e,parsedBody:s,errorCode:n})}},NF=(0,M.withBaseException)(He),DF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString,reason:M.expectString});Object.assign(t,s);let o=new ni({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},OF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new si({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},kF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new oi({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},MF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new ii({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},LF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new ai({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},BF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new ci({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},UF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString,reason:M.expectString});Object.assign(t,s);let o=new di({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},FF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new li({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},$F=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new ui({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},jF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new mi({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},zF=async(e,r)=>{let t=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(t,s);let o=new pi({$metadata:At(e),...t});return(0,M.decorateServiceException)(o,e.body)},At=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var BI,UI,ig,fi,ag=x(()=>{BI=T(tn()),UI=T(kr()),ig=T(oe());Kh();dd();LI();fi=class extends ig.Command.classBuilder().ep(AT).m(function(r,t,n,s){return[(0,UI.getSerdePlugin)(n,this.serialize,this.deserialize),(0,BI.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(sg,og).ser(kI).de(MI).build(){}});var FI,HF,ld,$I=x(()=>{FI=T(oe());ag();ng();HF={CreateTokenCommand:fi},ld=class extends ri{};(0,FI.createAggregatedClient)(HF,ld)});var jI=x(()=>{ag()});var zI=x(()=>{dd()});var cg={};ft(cg,{$Command:()=>ig.Command,AccessDeniedException:()=>ni,AccessDeniedExceptionReason:()=>vF,AuthorizationPendingException:()=>si,CreateTokenCommand:()=>fi,CreateTokenRequestFilterSensitiveLog:()=>sg,CreateTokenResponseFilterSensitiveLog:()=>og,ExpiredTokenException:()=>oi,InternalServerException:()=>ii,InvalidClientException:()=>ai,InvalidGrantException:()=>ci,InvalidRequestException:()=>di,InvalidRequestExceptionReason:()=>RF,InvalidScopeException:()=>li,SSOOIDC:()=>ld,SSOOIDCClient:()=>ri,SSOOIDCServiceException:()=>He,SlowDownException:()=>ui,UnauthorizedClientException:()=>mi,UnsupportedGrantTypeException:()=>pi,__Client:()=>rg.Client});var dg=x(()=>{ng();$I();jI();zI();cd()});var GI=N(gi=>{"use strict";var qF=(Ot(),ue(qr)),VF=(If(),ue(F_)),St=it(),hi=yr(),GF=require("fs"),WF=({logger:e,signingName:r}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!r)throw new St.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=VF.getBearerTokenEnvKey(r);if(!(t in process.env))throw new St.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let n={token:process.env[t]};return qF.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},KF=300*1e3,lg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",JF=async(e,r={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(dg(),cg));return new t(Object.assign({},r.clientConfig??{},{region:e??r.clientConfig?.region,logger:r.clientConfig?.logger??r.parentClientConfig?.logger}))},YF=async(e,r,t={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(dg(),cg));return(await JF(r,t)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},HI=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new St.TokenProviderError(`Token is expired. ${lg}`,!1)},Wn=(e,r,t=!1)=>{if(typeof r>"u")throw new St.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${lg}`,!1)},{writeFile:XF}=GF.promises,QF=(e,r)=>{let t=hi.getSSOTokenFilepath(e),n=JSON.stringify(r,null,2);return XF(t,n)},qI=new Date(0),VI=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await hi.parseKnownFiles(t),s=hi.getProfileName({profile:t.profile??r?.profile}),o=n[s];if(o){if(!o.sso_session)throw new St.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new St.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,l=(await hi.loadSsoSessionData(t))[i];if(!l)throw new St.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!l[S])throw new St.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);l.sso_start_url;let u=l.sso_region,f;try{f=await hi.getSSOTokenFromFile(i)}catch{throw new St.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${lg}`,!1)}Wn("accessToken",f.accessToken),Wn("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:g}=f,y={token:h,expiration:new Date(g)};if(y.expiration.getTime()-Date.now()>KF)return y;if(Date.now()-qI.getTime()<30*1e3)return HI(y),y;Wn("clientId",f.clientId,!0),Wn("clientSecret",f.clientSecret,!0),Wn("refreshToken",f.refreshToken,!0);try{qI.setTime(Date.now());let S=await YF(f,u,t);Wn("accessToken",S.accessToken),Wn("expiresIn",S.expiresIn);let I=new Date(Date.now()+S.expiresIn*1e3);try{await QF(i,{...f,accessToken:S.accessToken,expiresAt:I.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:I}}catch{return HI(y),y}},ZF=({token:e,logger:r})=>async()=>{if(r?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new St.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},e$=(e={})=>St.memoize(St.chain(VI(e),async()=>{throw new St.TokenProviderError("Could not load token from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);gi.fromEnvSigningName=WF;gi.fromSso=VI;gi.fromStatic=ZF;gi.nodeProvider=e$});var mg=N(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveHttpAuthSchemeConfig=dn.defaultSSOHttpAuthSchemeProvider=dn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var t$=($e(),ue(kt)),ug=nt(),r$=async(e,r,t)=>({operation:(0,ug.getSmithyContext)(r).operation,region:await(0,ug.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dn.defaultSSOHttpAuthSchemeParametersProvider=r$;function n$(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function ud(e){return{schemeId:"smithy.api#noAuth"}}var s$=e=>{let r=[];switch(e.operation){case"GetRoleCredentials":{r.push(ud(e));break}case"ListAccountRoles":{r.push(ud(e));break}case"ListAccounts":{r.push(ud(e));break}case"Logout":{r.push(ud(e));break}default:r.push(n$(e))}return r};dn.defaultSSOHttpAuthSchemeProvider=s$;var o$=e=>{let r=(0,t$.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,ug.normalizeProvider)(e.authSchemePreference??[])})};dn.resolveHttpAuthSchemeConfig=o$});var WI=N((zQ,i$)=>{i$.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.907.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.907.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.907.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.907.0","@aws-sdk/util-user-agent-node":"3.907.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var cA=N(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.ruleSet=void 0;var sA="required",Rt="fn",Pt="argv",ks="ref",KI=!0,JI="isSet",yi="booleanEquals",Ds="error",Os="endpoint",wr="tree",pg="PartitionResult",fg="getAttr",YI={[sA]:!1,type:"String"},XI={[sA]:!0,default:!1,type:"Boolean"},QI={[ks]:"Endpoint"},oA={[Rt]:yi,[Pt]:[{[ks]:"UseFIPS"},!0]},iA={[Rt]:yi,[Pt]:[{[ks]:"UseDualStack"},!0]},vt={},ZI={[Rt]:fg,[Pt]:[{[ks]:pg},"supportsFIPS"]},aA={[ks]:pg},eA={[Rt]:yi,[Pt]:[!0,{[Rt]:fg,[Pt]:[aA,"supportsDualStack"]}]},tA=[oA],rA=[iA],nA=[{[ks]:"Region"}],a$={version:"1.0",parameters:{Region:YI,UseDualStack:XI,UseFIPS:XI,Endpoint:YI},rules:[{conditions:[{[Rt]:JI,[Pt]:[QI]}],rules:[{conditions:tA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ds},{conditions:rA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ds},{endpoint:{url:QI,properties:vt,headers:vt},type:Os}],type:wr},{conditions:[{[Rt]:JI,[Pt]:nA}],rules:[{conditions:[{[Rt]:"aws.partition",[Pt]:nA,assign:pg}],rules:[{conditions:[oA,iA],rules:[{conditions:[{[Rt]:yi,[Pt]:[KI,ZI]},eA],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},type:Os}],type:wr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ds}],type:wr},{conditions:tA,rules:[{conditions:[{[Rt]:yi,[Pt]:[ZI,KI]}],rules:[{conditions:[{[Rt]:"stringEquals",[Pt]:[{[Rt]:fg,[Pt]:[aA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:vt,headers:vt},type:Os},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},type:Os}],type:wr},{error:"FIPS is enabled but this partition does not support FIPS",type:Ds}],type:wr},{conditions:rA,rules:[{conditions:[eA],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vt,headers:vt},type:Os}],type:wr},{error:"DualStack is enabled but this partition does not support DualStack",type:Ds}],type:wr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:vt,headers:vt},type:Os}],type:wr}],type:wr},{error:"Invalid Configuration: Missing Region",type:Ds}]};md.ruleSet=a$});var dA=N(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.defaultEndpointResolver=void 0;var c$=ms(),hg=us(),d$=cA(),l$=new hg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),u$=(e,r={})=>l$.get(e,()=>(0,hg.resolveEndpoint)(d$.ruleSet,{endpointParams:e,logger:r.logger}));pd.defaultEndpointResolver=u$;hg.customEndpointFunctions.aws=c$.awsEndpointFunctions});var mA=N(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.getRuntimeConfig=void 0;var m$=($e(),ue(kt)),p$=(ot(),ue(kn)),f$=oe(),h$=jr(),lA=Ve(),uA=qe(),g$=mg(),y$=dA(),E$=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??lA.fromBase64,base64Encoder:e?.base64Encoder??lA.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??y$.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??g$.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new m$.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new p$.NoAuthSigner}],logger:e?.logger??new f$.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??h$.parseUrl,utf8Decoder:e?.utf8Decoder??uA.fromUtf8,utf8Encoder:e?.utf8Encoder??uA.toUtf8});fd.getRuntimeConfig=E$});var yA=N(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.getRuntimeConfig=void 0;var S$=(_o(),ue(wo)),b$=S$.__importDefault(WI()),pA=($e(),ue(kt)),fA=Yo(),hd=Gt(),w$=Xo(),hA=Sr(),Kn=en(),gA=Tn(),_$=Qo(),x$=Is(),C$=mA(),T$=oe(),I$=ei(),A$=oe(),v$=e=>{(0,A$.emitWarningIfUnsupportedVersion)(process.version);let r=(0,I$.resolveDefaultsModeConfig)(e),t=()=>r().then(T$.loadConfigsForDefaultMode),n=(0,C$.getRuntimeConfig)(e);(0,pA.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Kn.loadConfig)(pA.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??_$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,fA.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:b$.default.version}),maxAttempts:e?.maxAttempts??(0,Kn.loadConfig)(hA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Kn.loadConfig)(hd.NODE_REGION_CONFIG_OPTIONS,{...hd.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:gA.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Kn.loadConfig)({...hA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||x$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??w$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??gA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Kn.loadConfig)(hd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Kn.loadConfig)(hd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Kn.loadConfig)(fA.NODE_APP_ID_CONFIG_OPTIONS,s)}};gd.getRuntimeConfig=v$});var LA=N(Pe=>{"use strict";var EA=so(),R$=oo(),P$=ao(),SA=Cs(),N$=Gt(),_r=(ot(),ue(kn)),D$=jo(),wi=tn(),bA=Sr(),B=oe(),wA=mg(),O$=yA(),_A=ti(),xA=be(),Cd=kr(),Ei=($e(),ue(kt)),k$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Td={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},M$=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},L$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),B$=(e,r)=>{let t=Object.assign(_A.getAwsRegionExtensionConfiguration(e),B.getDefaultExtensionConfiguration(e),xA.getHttpHandlerExtensionConfiguration(e),M$(e));return r.forEach(n=>n.configure(t)),Object.assign(e,_A.resolveAwsRegionExtensionConfiguration(t),B.resolveDefaultRuntimeConfig(t),xA.resolveHttpHandlerRuntimeConfig(t),L$(t))},Ms=class extends B.Client{constructor(...[t]){let n=O$.getRuntimeConfig(t||{});super(n);d(this,"config");this.initConfig=n;let s=k$(n),o=SA.resolveUserAgentConfig(s),i=bA.resolveRetryConfig(o),a=N$.resolveRegionConfig(i),l=EA.resolveHostHeaderConfig(a),u=wi.resolveEndpointConfig(l),f=wA.resolveHttpAuthSchemeConfig(u),h=B$(f,t?.extensions||[]);this.config=h,this.middlewareStack.use(SA.getUserAgentPlugin(this.config)),this.middlewareStack.use(bA.getRetryPlugin(this.config)),this.middlewareStack.use(D$.getContentLengthPlugin(this.config)),this.middlewareStack.use(EA.getHostHeaderPlugin(this.config)),this.middlewareStack.use(R$.getLoggerPlugin(this.config)),this.middlewareStack.use(P$.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(_r.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:wA.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new _r.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(_r.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ln=class e extends B.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},yd=class e extends ln{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});d(this,"name","InvalidRequestException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Ed=class e extends ln{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});d(this,"name","ResourceNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Sd=class e extends ln{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});d(this,"name","TooManyRequestsException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},bd=class e extends ln{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});d(this,"name","UnauthorizedException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},CA=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),TA=e=>({...e,...e.secretAccessKey&&{secretAccessKey:B.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:B.SENSITIVE_STRING}}),IA=e=>({...e,...e.roleCredentials&&{roleCredentials:TA(e.roleCredentials)}}),AA=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),vA=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),RA=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),U$=async(e,r)=>{let t=_r.requestBuilder(e,r),n=B.map({},B.isSerializableHeaderValue,{[vd]:e[Ad]});t.bp("/federation/credentials");let s=B.map({[Q$]:[,B.expectNonNull(e[X$],"roleName")],[NA]:[,B.expectNonNull(e[PA],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},F$=async(e,r)=>{let t=_r.requestBuilder(e,r),n=B.map({},B.isSerializableHeaderValue,{[vd]:e[Ad]});t.bp("/assignment/roles");let s=B.map({[MA]:[,e[kA]],[OA]:[()=>e.maxResults!==void 0,()=>e[DA].toString()],[NA]:[,B.expectNonNull(e[PA],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},$$=async(e,r)=>{let t=_r.requestBuilder(e,r),n=B.map({},B.isSerializableHeaderValue,{[vd]:e[Ad]});t.bp("/assignment/accounts");let s=B.map({[MA]:[,e[kA]],[OA]:[()=>e.maxResults!==void 0,()=>e[DA].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},j$=async(e,r)=>{let t=_r.requestBuilder(e,r),n=B.map({},B.isSerializableHeaderValue,{[vd]:e[Ad]});return t.bp("/logout"),t.m("POST").h(n).b(void 0),t.build()},z$=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Id(e,r);let t=B.map({$metadata:un(e)}),n=B.expectNonNull(B.expectObject(await Ei.parseJsonBody(e.body,r)),"body"),s=B.take(n,{roleCredentials:B._json});return Object.assign(t,s),t},H$=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Id(e,r);let t=B.map({$metadata:un(e)}),n=B.expectNonNull(B.expectObject(await Ei.parseJsonBody(e.body,r)),"body"),s=B.take(n,{nextToken:B.expectString,roleList:B._json});return Object.assign(t,s),t},q$=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Id(e,r);let t=B.map({$metadata:un(e)}),n=B.expectNonNull(B.expectObject(await Ei.parseJsonBody(e.body,r)),"body"),s=B.take(n,{accountList:B._json,nextToken:B.expectString});return Object.assign(t,s),t},V$=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Id(e,r);let t=B.map({$metadata:un(e)});return await B.collectBody(e.body,r),t},Id=async(e,r)=>{let t={...e,body:await Ei.parseJsonErrorBody(e.body,r)},n=Ei.loadRestJsonErrorCode(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await W$(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await K$(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await J$(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Y$(t);default:let s=t.body;return G$({output:e,parsedBody:s,errorCode:n})}},G$=B.withBaseException(ln),W$=async(e,r)=>{let t=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(t,s);let o=new yd({$metadata:un(e),...t});return B.decorateServiceException(o,e.body)},K$=async(e,r)=>{let t=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(t,s);let o=new Ed({$metadata:un(e),...t});return B.decorateServiceException(o,e.body)},J$=async(e,r)=>{let t=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(t,s);let o=new Sd({$metadata:un(e),...t});return B.decorateServiceException(o,e.body)},Y$=async(e,r)=>{let t=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(t,s);let o=new bd({$metadata:un(e),...t});return B.decorateServiceException(o,e.body)},un=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),PA="accountId",Ad="accessToken",NA="account_id",DA="maxResults",OA="max_result",kA="nextToken",MA="next_token",X$="roleName",Q$="role_name",vd="x-amz-sso_bearer_token",wd=class extends B.Command.classBuilder().ep(Td).m(function(r,t,n,s){return[Cd.getSerdePlugin(n,this.serialize,this.deserialize),wi.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(CA,IA).ser(U$).de(z$).build(){},Si=class extends B.Command.classBuilder().ep(Td).m(function(r,t,n,s){return[Cd.getSerdePlugin(n,this.serialize,this.deserialize),wi.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(AA,void 0).ser(F$).de(H$).build(){},bi=class extends B.Command.classBuilder().ep(Td).m(function(r,t,n,s){return[Cd.getSerdePlugin(n,this.serialize,this.deserialize),wi.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(vA,void 0).ser($$).de(q$).build(){},_d=class extends B.Command.classBuilder().ep(Td).m(function(r,t,n,s){return[Cd.getSerdePlugin(n,this.serialize,this.deserialize),wi.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(RA,void 0).ser(j$).de(V$).build(){},Z$={GetRoleCredentialsCommand:wd,ListAccountRolesCommand:Si,ListAccountsCommand:bi,LogoutCommand:_d},xd=class extends Ms{};B.createAggregatedClient(Z$,xd);var ej=_r.createPaginator(Ms,Si,"nextToken","nextToken","maxResults"),tj=_r.createPaginator(Ms,bi,"nextToken","nextToken","maxResults");Object.defineProperty(Pe,"$Command",{enumerable:!0,get:function(){return B.Command}});Object.defineProperty(Pe,"__Client",{enumerable:!0,get:function(){return B.Client}});Pe.GetRoleCredentialsCommand=wd;Pe.GetRoleCredentialsRequestFilterSensitiveLog=CA;Pe.GetRoleCredentialsResponseFilterSensitiveLog=IA;Pe.InvalidRequestException=yd;Pe.ListAccountRolesCommand=Si;Pe.ListAccountRolesRequestFilterSensitiveLog=AA;Pe.ListAccountsCommand=bi;Pe.ListAccountsRequestFilterSensitiveLog=vA;Pe.LogoutCommand=_d;Pe.LogoutRequestFilterSensitiveLog=RA;Pe.ResourceNotFoundException=Ed;Pe.RoleCredentialsFilterSensitiveLog=TA;Pe.SSO=xd;Pe.SSOClient=Ms;Pe.SSOServiceException=ln;Pe.TooManyRequestsException=Sd;Pe.UnauthorizedException=bd;Pe.paginateListAccountRoles=ej;Pe.paginateListAccounts=tj});var UA=N(gg=>{"use strict";var BA=LA();Object.defineProperty(gg,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return BA.GetRoleCredentialsCommand}});Object.defineProperty(gg,"SSOClient",{enumerable:!0,get:function(){return BA.SSOClient}})});var yg=N(Pd=>{"use strict";var Mt=it(),Rd=yr(),FA=(Ot(),ue(qr)),rj=GI(),jA=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),_i=!1,$A=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:l,filepath:u,configFilepath:f,ignoreCache:h,logger:g})=>{let y,S="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let De=await rj.fromSso({profile:l,filepath:u,configFilepath:f,ignoreCache:h})();y={accessToken:De.token,expiresAt:new Date(De.expiration).toISOString()}}catch(De){throw new Mt.CredentialsProviderError(De.message,{tryNextLink:_i,logger:g})}else try{y=await Rd.getSSOTokenFromFile(e)}catch{throw new Mt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${S}`,{tryNextLink:_i,logger:g})}if(new Date(y.expiresAt).getTime()-Date.now()<=0)throw new Mt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${S}`,{tryNextLink:_i,logger:g});let{accessToken:I}=y,{SSOClient:R,GetRoleCredentialsCommand:v}=await Promise.resolve().then(function(){return UA()}),k=o||new R(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),F;try{F=await k.send(new v({accountId:t,roleName:s,accessToken:I}))}catch(De){throw new Mt.CredentialsProviderError(De,{tryNextLink:_i,logger:g})}let{roleCredentials:{accessKeyId:Q,secretAccessKey:$,sessionToken:ce,expiration:rt,credentialScope:Nt,accountId:he}={}}=F;if(!Q||!$||!ce||!rt)throw new Mt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:_i,logger:g});let Se={accessKeyId:Q,secretAccessKey:$,sessionToken:ce,expiration:new Date(rt),...Nt&&{credentialScope:Nt},...he&&{accountId:he}};return r?FA.setCredentialFeature(Se,"CREDENTIALS_SSO","s"):FA.setCredentialFeature(Se,"CREDENTIALS_SSO_LEGACY","u"),Se},zA=(e,r)=>{let{sso_start_url:t,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!t||!n||!s||!o)throw new Mt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:r});return e},nj=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,l=Rd.getProfileName({profile:e.profile??r?.profile});if(!t&&!n&&!s&&!o&&!i){let f=(await Rd.parseKnownFiles(e))[l];if(!f)throw new Mt.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!jA(f))throw new Mt.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let v=(await Rd.loadSsoSessionData(e))[f.sso_session],k=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(s&&s!==v.sso_region)throw new Mt.CredentialsProviderError("Conflicting SSO region"+k,{tryNextLink:!1,logger:e.logger});if(t&&t!==v.sso_start_url)throw new Mt.CredentialsProviderError("Conflicting SSO start_url"+k,{tryNextLink:!1,logger:e.logger});f.sso_region=v.sso_region,f.sso_start_url=v.sso_start_url}let{sso_start_url:h,sso_account_id:g,sso_region:y,sso_role_name:S,sso_session:I}=zA(f,e.logger);return $A({ssoStartUrl:h,ssoSession:I,ssoAccountId:g,ssoRegion:y,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!n||!s||!o)throw new Mt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return $A({ssoStartUrl:t,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Pd.fromSSO=nj;Pd.isSsoProfile=jA;Pd.validateSsoProfile=zA});function sj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function oj(e){return{schemeId:"smithy.api#noAuth"}}var xi,HA,qA,ij,VA,Eg=x(()=>{$e();xi=T(nt());Ci();HA=async(e,r,t)=>({operation:(0,xi.getSmithyContext)(r).operation,region:await(0,xi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qA=e=>{let r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(oj(e));break}default:r.push(sj(e))}return r},ij=e=>Object.assign(e,{stsClientCtor:Jt}),VA=e=>{let r=ij(e),t=Un(r);return Object.assign(t,{authSchemePreference:(0,xi.normalizeProvider)(e.authSchemePreference??[])})}});var GA,Nd,Dd=x(()=>{GA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Nd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var nv,ne,fe,mn,We,sv,ov,Ce,WA,Yt,Ls,bg,KA,Sg,iv,JA,Ke,YA,av,cv,Ze,bt,XA,dv,lv,QA,uv,ZA,ev,tv,rv,aj,mv,pv=x(()=>{nv="required",ne="type",fe="argv",mn="booleanEquals",We="stringEquals",sv="sigv4",ov="us-east-1",Ce="endpoint",WA="https://sts.{Region}.{PartitionResult#dnsSuffix}",Yt="tree",Ls="error",bg="getAttr",KA={[nv]:!1,[ne]:"String"},Sg={[nv]:!0,default:!1,[ne]:"Boolean"},iv={ref:"Endpoint"},JA={fn:"isSet",[fe]:[{ref:"Region"}]},Ke={ref:"Region"},YA={fn:"aws.partition",[fe]:[Ke],assign:"PartitionResult"},av={ref:"UseFIPS"},cv={ref:"UseDualStack"},Ze={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:sv,signingName:"sts",signingRegion:ov}]},headers:{}},bt={},XA={conditions:[{fn:We,[fe]:[Ke,"aws-global"]}],[Ce]:Ze,[ne]:Ce},dv={fn:mn,[fe]:[av,!0]},lv={fn:mn,[fe]:[cv,!0]},QA={fn:bg,[fe]:[{ref:"PartitionResult"},"supportsFIPS"]},uv={ref:"PartitionResult"},ZA={fn:mn,[fe]:[!0,{fn:bg,[fe]:[uv,"supportsDualStack"]}]},ev=[{fn:"isSet",[fe]:[iv]}],tv=[dv],rv=[lv],aj={version:"1.0",parameters:{Region:KA,UseDualStack:Sg,UseFIPS:Sg,Endpoint:KA,UseGlobalEndpoint:Sg},rules:[{conditions:[{fn:mn,[fe]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[fe]:ev},JA,YA,{fn:mn,[fe]:[av,!1]},{fn:mn,[fe]:[cv,!1]}],rules:[{conditions:[{fn:We,[fe]:[Ke,"ap-northeast-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"ap-south-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"ap-southeast-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"ap-southeast-2"]}],endpoint:Ze,[ne]:Ce},XA,{conditions:[{fn:We,[fe]:[Ke,"ca-central-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"eu-central-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"eu-north-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"eu-west-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"eu-west-2"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"eu-west-3"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"sa-east-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,ov]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"us-east-2"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"us-west-1"]}],endpoint:Ze,[ne]:Ce},{conditions:[{fn:We,[fe]:[Ke,"us-west-2"]}],endpoint:Ze,[ne]:Ce},{endpoint:{url:WA,properties:{authSchemes:[{name:sv,signingName:"sts",signingRegion:"{Region}"}]},headers:bt},[ne]:Ce}],[ne]:Yt},{conditions:ev,rules:[{conditions:tv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ne]:Ls},{conditions:rv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ne]:Ls},{endpoint:{url:iv,properties:bt,headers:bt},[ne]:Ce}],[ne]:Yt},{conditions:[JA],rules:[{conditions:[YA],rules:[{conditions:[dv,lv],rules:[{conditions:[{fn:mn,[fe]:[!0,QA]},ZA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},[ne]:Ce}],[ne]:Yt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ne]:Ls}],[ne]:Yt},{conditions:tv,rules:[{conditions:[{fn:mn,[fe]:[QA,!0]}],rules:[{conditions:[{fn:We,[fe]:[{fn:bg,[fe]:[uv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:bt,headers:bt},[ne]:Ce},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},[ne]:Ce}],[ne]:Yt},{error:"FIPS is enabled but this partition does not support FIPS",[ne]:Ls}],[ne]:Yt},{conditions:rv,rules:[{conditions:[ZA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},[ne]:Ce}],[ne]:Yt},{error:"DualStack is enabled but this partition does not support DualStack",[ne]:Ls}],[ne]:Yt},XA,{endpoint:{url:WA,properties:bt,headers:bt},[ne]:Ce}],[ne]:Yt}],[ne]:Yt},{error:"Invalid Configuration: Missing Region",[ne]:Ls}]},mv=aj});var fv,Bs,cj,hv,gv=x(()=>{fv=T(ms()),Bs=T(us());pv();cj=new Bs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),hv=(e,r={})=>cj.get(e,()=>(0,Bs.resolveEndpoint)(mv,{endpointParams:e,logger:r.logger}));Bs.customEndpointFunctions.aws=fv.awsEndpointFunctions});var yv,Ev,Od,kd,Sv,bv=x(()=>{$e();ot();yv=T(oe()),Ev=T(jr()),Od=T(Ve()),kd=T(qe());Eg();gv();Sv=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Od.fromBase64,base64Encoder:e?.base64Encoder??Od.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hv,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??qA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new lt},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lr}],logger:e?.logger??new yv.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Ev.parseUrl,utf8Decoder:e?.utf8Decoder??kd.fromUtf8,utf8Encoder:e?.utf8Encoder??kd.toUtf8})});var Md,fn,wv,Ld,pn,Bd,_v,xv,Cv,Tv,Iv,Av,vv=x(()=>{Jh();$e();Md=T(Yo()),fn=T(Gt());ot();wv=T(Xo()),Ld=T(Sr()),pn=T(en()),Bd=T(Tn()),_v=T(Qo()),xv=T(Is());bv();Cv=T(oe()),Tv=T(ei()),Iv=T(oe()),Av=e=>{(0,Iv.emitWarningIfUnsupportedVersion)(process.version);let r=(0,Tv.resolveDefaultsModeConfig)(e),t=()=>r().then(Cv.loadConfigsForDefaultMode),n=Sv(e);ps(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,pn.loadConfig)(gs,s),bodyLengthChecker:e?.bodyLengthChecker??_v.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Md.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Jc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new lt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lr}],maxAttempts:e?.maxAttempts??(0,pn.loadConfig)(Ld.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,pn.loadConfig)(fn.NODE_REGION_CONFIG_OPTIONS,{...fn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Bd.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,pn.loadConfig)({...Ld.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||xv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??wv.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Bd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,pn.loadConfig)(fn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,pn.loadConfig)(fn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,pn.loadConfig)(Md.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Rv,Pv,Nv=x(()=>{Rv=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},Pv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Ud,Fd,$d,Dv,Ov=x(()=>{Ud=T(ti()),Fd=T(be()),$d=T(oe());Nv();Dv=(e,r)=>{let t=Object.assign((0,Ud.getAwsRegionExtensionConfiguration)(e),(0,$d.getDefaultExtensionConfiguration)(e),(0,Fd.getHttpHandlerExtensionConfiguration)(e),Rv(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,Ud.resolveAwsRegionExtensionConfiguration)(t),(0,$d.resolveDefaultRuntimeConfig)(t),(0,Fd.resolveHttpHandlerRuntimeConfig)(t),Pv(t))}});var jd,kv,Mv,zd,Lv,Bv,Uv,Hd,wg,Jt,Ci=x(()=>{jd=T(so()),kv=T(oo()),Mv=T(ao()),zd=T(Cs()),Lv=T(Gt());ot();Bv=T(jo()),Uv=T(tn()),Hd=T(Sr()),wg=T(oe());Eg();Dd();vv();Ov();Jt=class extends wg.Client{constructor(...[t]){let n=Av(t||{});super(n);d(this,"config");this.initConfig=n;let s=GA(n),o=(0,zd.resolveUserAgentConfig)(s),i=(0,Hd.resolveRetryConfig)(o),a=(0,Lv.resolveRegionConfig)(i),l=(0,jd.resolveHostHeaderConfig)(a),u=(0,Uv.resolveEndpointConfig)(l),f=VA(u),h=Dv(f,t?.extensions||[]);this.config=h,this.middlewareStack.use((0,zd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Hd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Bv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,jd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,kv.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Mv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(lo(this.config,{httpAuthSchemeParametersProvider:HA,identityProviderConfigProvider:async g=>new On({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(uo(this.config))}destroy(){super.destroy()}}});var Fv,mt,qd=x(()=>{Fv=T(oe()),mt=class e extends Fv.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var _g,xg,Cg,Ti,Ii,Ai,vi,Ri,Pi,Tg,Ig,Ni,Di=x(()=>{_g=T(oe());qd();xg=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:_g.SENSITIVE_STRING}}),Cg=e=>({...e,...e.Credentials&&{Credentials:xg(e.Credentials)}}),Ti=class e extends mt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});d(this,"name","ExpiredTokenException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Ii=class e extends mt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t});d(this,"name","MalformedPolicyDocumentException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Ai=class e extends mt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t});d(this,"name","PackedPolicyTooLargeException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},vi=class e extends mt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t});d(this,"name","RegionDisabledException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Ri=class e extends mt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t});d(this,"name","IDPRejectedClaimException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Pi=class e extends mt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t});d(this,"name","InvalidIdentityTokenException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Tg=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:_g.SENSITIVE_STRING}}),Ig=e=>({...e,...e.Credentials&&{Credentials:xg(e.Credentials)}}),Ni=class e extends mt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t});d(this,"name","IDPCommunicationErrorException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}}});var $v,ie,jv,zv,Hv,qv,Vv,dj,lj,uj,mj,pj,fj,hj,gj,yj,Gv,Ej,Sj,bj,wj,_j,xj,Wv,Cj,Tj,Kv,Ij,Aj,vj,Rj,Pj,Nj,Dj,Cr,Oj,Jv,Yv,Xv,Qv,Ag,kj,vg,Us,Mj,Rg,Pg,Fs,Ng,$s,Dg,Og,kg,js,zs,Mg,Lg,Bg,Hs,Ug,qs,Vs,Fg,$g,xr,jg,zg,Hg,qg,Vg,Zv,Gg,Wg,Kg,ke,eR,Lj,Jg=x(()=>{$e();$v=T(be()),ie=T(oe());Di();qd();jv=async(e,r)=>{let t=Yv,n;return n=eR({...gj(e,r),[Qv]:kj,[Zv]:Xv}),Jv(r,t,"/",void 0,n)},zv=async(e,r)=>{let t=Yv,n;return n=eR({...yj(e,r),[Qv]:Mj,[Zv]:Xv}),Jv(r,t,"/",void 0,n)},Hv=async(e,r)=>{if(e.statusCode>=300)return Vv(e,r);let t=await Uo(e.body,r),n={};return n=Cj(t.AssumeRoleResult,r),{$metadata:Cr(e),...n}},qv=async(e,r)=>{if(e.statusCode>=300)return Vv(e,r);let t=await Uo(e.body,r),n={};return n=Tj(t.AssumeRoleWithWebIdentityResult,r),{$metadata:Cr(e),...n}},Vv=async(e,r)=>{let t={...e,body:await uh(e.body,r)},n=Lj(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await dj(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await pj(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await fj(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await hj(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await lj(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await uj(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await mj(t,r);default:let s=t.body;return Oj({output:e,parsedBody:s.Error,errorCode:n})}},dj=async(e,r)=>{let t=e.body,n=Ij(t.Error,r),s=new Ti({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},lj=async(e,r)=>{let t=e.body,n=Aj(t.Error,r),s=new Ni({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},uj=async(e,r)=>{let t=e.body,n=vj(t.Error,r),s=new Ri({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},mj=async(e,r)=>{let t=e.body,n=Rj(t.Error,r),s=new Pi({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},pj=async(e,r)=>{let t=e.body,n=Pj(t.Error,r),s=new Ii({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},fj=async(e,r)=>{let t=e.body,n=Nj(t.Error,r),s=new Ai({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},hj=async(e,r)=>{let t=e.body,n=Dj(t.Error,r),s=new vi({$metadata:Cr(e),...n});return(0,ie.decorateServiceException)(s,t)},gj=(e,r)=>{let t={};if(e[qs]!=null&&(t[qs]=e[qs]),e[Vs]!=null&&(t[Vs]=e[Vs]),e[zs]!=null){let n=Gv(e[zs],r);e[zs]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}if(e[js]!=null&&(t[js]=e[js]),e[$s]!=null&&(t[$s]=e[$s]),e[Hg]!=null){let n=xj(e[Hg],r);e[Hg]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}if(e[Vg]!=null){let n=_j(e[Vg],r);e[Vg]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;t[i]=o})}if(e[Og]!=null&&(t[Og]=e[Og]),e[jg]!=null&&(t[jg]=e[jg]),e[qg]!=null&&(t[qg]=e[qg]),e[xr]!=null&&(t[xr]=e[xr]),e[Lg]!=null){let n=bj(e[Lg],r);e[Lg]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;t[i]=o})}return t},yj=(e,r)=>{let t={};if(e[qs]!=null&&(t[qs]=e[qs]),e[Vs]!=null&&(t[Vs]=e[Vs]),e[Wg]!=null&&(t[Wg]=e[Wg]),e[Bg]!=null&&(t[Bg]=e[Bg]),e[zs]!=null){let n=Gv(e[zs],r);e[zs]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}return e[js]!=null&&(t[js]=e[js]),e[$s]!=null&&(t[$s]=e[$s]),t},Gv=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=Ej(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},Ej=(e,r)=>{let t={};return e[Kg]!=null&&(t[Kg]=e[Kg]),t},Sj=(e,r)=>{let t={};return e[Mg]!=null&&(t[Mg]=e[Mg]),e[Ng]!=null&&(t[Ng]=e[Ng]),t},bj=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=Sj(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},wj=(e,r)=>{let t={};return e[kg]!=null&&(t[kg]=e[kg]),e[Gg]!=null&&(t[Gg]=e[Gg]),t},_j=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},xj=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=wj(s,r);Object.entries(o).forEach(([i,a])=>{t[`member.${n}.${i}`]=a}),n++}return t},Wv=(e,r)=>{let t={};return e[vg]!=null&&(t[vg]=(0,ie.expectString)(e[vg])),e[Rg]!=null&&(t[Rg]=(0,ie.expectString)(e[Rg])),t},Cj=(e,r)=>{let t={};return e[Fs]!=null&&(t[Fs]=Kv(e[Fs],r)),e[Us]!=null&&(t[Us]=Wv(e[Us],r)),e[Hs]!=null&&(t[Hs]=(0,ie.strictParseInt32)(e[Hs])),e[xr]!=null&&(t[xr]=(0,ie.expectString)(e[xr])),t},Tj=(e,r)=>{let t={};return e[Fs]!=null&&(t[Fs]=Kv(e[Fs],r)),e[$g]!=null&&(t[$g]=(0,ie.expectString)(e[$g])),e[Us]!=null&&(t[Us]=Wv(e[Us],r)),e[Hs]!=null&&(t[Hs]=(0,ie.strictParseInt32)(e[Hs])),e[Ug]!=null&&(t[Ug]=(0,ie.expectString)(e[Ug])),e[Pg]!=null&&(t[Pg]=(0,ie.expectString)(e[Pg])),e[xr]!=null&&(t[xr]=(0,ie.expectString)(e[xr])),t},Kv=(e,r)=>{let t={};return e[Ag]!=null&&(t[Ag]=(0,ie.expectString)(e[Ag])),e[Fg]!=null&&(t[Fg]=(0,ie.expectString)(e[Fg])),e[zg]!=null&&(t[zg]=(0,ie.expectString)(e[zg])),e[Dg]!=null&&(t[Dg]=(0,ie.expectNonNull)((0,ie.parseRfc3339DateTimeWithOffset)(e[Dg]))),t},Ij=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Aj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},vj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Rj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Pj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Nj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Dj=(e,r)=>{let t={};return e[ke]!=null&&(t[ke]=(0,ie.expectString)(e[ke])),t},Cr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Oj=(0,ie.withBaseException)(mt),Jv=async(e,r,t,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return n!==void 0&&(u.hostname=n),s!==void 0&&(u.body=s),new $v.HttpRequest(u)},Yv={"content-type":"application/x-www-form-urlencoded"},Xv="2011-06-15",Qv="Action",Ag="AccessKeyId",kj="AssumeRole",vg="AssumedRoleId",Us="AssumedRoleUser",Mj="AssumeRoleWithWebIdentity",Rg="Arn",Pg="Audience",Fs="Credentials",Ng="ContextAssertion",$s="DurationSeconds",Dg="Expiration",Og="ExternalId",kg="Key",js="Policy",zs="PolicyArns",Mg="ProviderArn",Lg="ProvidedContexts",Bg="ProviderId",Hs="PackedPolicySize",Ug="Provider",qs="RoleArn",Vs="RoleSessionName",Fg="SecretAccessKey",$g="SubjectFromWebIdentityToken",xr="SourceIdentity",jg="SerialNumber",zg="SessionToken",Hg="Tags",qg="TokenCode",Vg="TransitiveTagKeys",Zv="Version",Gg="Value",Wg="WebIdentityToken",Kg="arn",ke="message",eR=e=>Object.entries(e).map(([r,t])=>(0,ie.extendedEncodeURIComponent)(r)+"="+(0,ie.extendedEncodeURIComponent)(t)).join("&"),Lj=(e,r)=>{if(r.Error?.Code!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"}});var tR,rR,nR,Jn,Vd=x(()=>{tR=T(tn()),rR=T(kr()),nR=T(oe());Dd();Di();Jg();Jn=class extends nR.Command.classBuilder().ep(Nd).m(function(r,t,n,s){return[(0,rR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,tR.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Cg).ser(jv).de(Hv).build(){}});var sR,oR,iR,Yn,Gd=x(()=>{sR=T(tn()),oR=T(kr()),iR=T(oe());Dd();Di();Jg();Yn=class extends iR.Command.classBuilder().ep(Nd).m(function(r,t,n,s){return[(0,oR.getSerdePlugin)(n,this.serialize,this.deserialize),(0,sR.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Tg,Ig).ser(zv).de(qv).build(){}});var aR,Bj,Wd,cR=x(()=>{aR=T(oe());Vd();Gd();Ci();Bj={AssumeRoleCommand:Jn,AssumeRoleWithWebIdentityCommand:Yn},Wd=class extends Jt{};(0,aR.createAggregatedClient)(Bj,Wd)});var dR=x(()=>{Vd();Gd()});var lR=x(()=>{Di()});var uR,mR,pR,fR,hR,gR,yR=x(()=>{Ot();Vd();Gd();uR="us-east-1",mR=e=>{if(typeof e?.Arn=="string"){let r=e.Arn.split(":");if(r.length>4&&r[4]!=="")return r[4]}},pR=async(e,r,t)=>{let n=typeof e=="function"?await e():e,s=typeof r=="function"?await r():r;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${uR} (STS default)`),n??s??uR},fR=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:f=e?.parentClientConfig?.logger,region:h,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y}=e,S=await pR(h,e?.parentClientConfig?.region,y),I=!gR(g);t=new r({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:S,requestHandler:I?g:void 0,logger:f})}let{Credentials:i,AssumedRoleUser:a}=await t.send(new Jn(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=mR(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return Hr(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},hR=(e,r)=>{let t;return async n=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,g=await pR(u,e?.parentClientConfig?.region,h),y=!gR(f);t=new r({profile:e?.parentClientConfig?.profile,region:g,requestHandler:y?f:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new Yn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=mR(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&Hr(a,"RESOLVED_ACCOUNT_ID","T"),Hr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},gR=e=>e?.metadata?.handlerProtocol==="h2"});var ER,SR,bR,Uj,wR=x(()=>{yR();Ci();ER=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,SR=(e={},r)=>fR(e,ER(Jt,r)),bR=(e={},r)=>hR(e,ER(Jt,r)),Uj=e=>r=>e({roleAssumer:SR(r),roleAssumerWithWebIdentity:bR(r),...r})});var Yg={};ft(Yg,{AssumeRoleCommand:()=>Jn,AssumeRoleResponseFilterSensitiveLog:()=>Cg,AssumeRoleWithWebIdentityCommand:()=>Yn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Tg,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Ig,CredentialsFilterSensitiveLog:()=>xg,ExpiredTokenException:()=>Ti,IDPCommunicationErrorException:()=>Ni,IDPRejectedClaimException:()=>Ri,InvalidIdentityTokenException:()=>Pi,MalformedPolicyDocumentException:()=>Ii,PackedPolicyTooLargeException:()=>Ai,RegionDisabledException:()=>vi,STS:()=>Wd,STSClient:()=>Jt,STSServiceException:()=>mt,__Client:()=>wg.Client,decorateDefaultCredentialProvider:()=>Uj,getDefaultRoleAssumer:()=>SR,getDefaultRoleAssumerWithWebIdentity:()=>bR});var Xg=x(()=>{Ci();cR();dR();lR();wR();qd()});var ey=N(_R=>{"use strict";var Zg=yr(),Qg=it(),Fj=require("child_process"),$j=require("util"),jj=(Ot(),ue(qr)),zj=(e,r,t)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let o=new Date;if(new Date(r.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=r.AccountId;!n&&t?.[e]?.aws_account_id&&(n=t[e].aws_account_id);let s={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...n&&{accountId:n}};return jj.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},Hj=async(e,r,t)=>{let n=r[e];if(r[e]){let s=n.credential_process;if(s!==void 0){let o=$j.promisify(Zg.externalDataInterceptor?.getTokenRecord?.().exec??Fj.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return zj(e,a,r)}catch(i){throw new Qg.CredentialsProviderError(i.message,{logger:t})}}else throw new Qg.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new Qg.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},qj=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await Zg.parseKnownFiles(e);return Hj(Zg.getProfileName({profile:e.profile??r?.profile}),t,e.logger)};_R.fromProcess=qj});var ty=N(Xt=>{"use strict";var Vj=Xt&&Xt.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),Gj=Xt&&Xt.__setModuleDefault||(Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r}),Wj=Xt&&Xt.__importStar||(function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=e(r),s=0;s<n.length;s++)n[s]!=="default"&&Vj(t,r,n[s]);return Gj(t,r),t}})();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.fromWebToken=void 0;var Kj=e=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>Wj((Xg(),ue(Yg))));u=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...r?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:l})};Xt.fromWebToken=Kj});var CR=N(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.fromTokenFile=void 0;var Jj=(Ot(),ue(qr)),Yj=it(),Xj=yr(),Qj=require("fs"),Zj=ty(),xR="AWS_WEB_IDENTITY_TOKEN_FILE",ez="AWS_ROLE_ARN",tz="AWS_ROLE_SESSION_NAME",rz=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[xR],t=e?.roleArn??process.env[ez],n=e?.roleSessionName??process.env[tz];if(!r||!t)throw new Yj.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,Zj.fromWebToken)({...e,webIdentityToken:Xj.externalDataInterceptor?.getTokenRecord?.()[r]??(0,Qj.readFileSync)(r,{encoding:"ascii"}),roleArn:t,roleSessionName:n})();return r===process.env[xR]&&(0,Jj.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Kd.fromTokenFile=rz});var ry=N(Oi=>{"use strict";var TR=CR(),IR=ty();Object.keys(TR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oi,e)&&Object.defineProperty(Oi,e,{enumerable:!0,get:function(){return TR[e]}})});Object.keys(IR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oi,e)&&Object.defineProperty(Oi,e,{enumerable:!0,get:function(){return IR[e]}})})});var DR=N(NR=>{"use strict";var sy=yr(),ki=it(),hn=(Ot(),ue(qr)),nz=(e,r,t)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>T(Gh())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(Ko()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>ki.chain(o(s??{}),i(s))().then(ny)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(Ko()));return async()=>o(s)().then(ny)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>T(Uh()));return async()=>o(s)().then(ny)}};if(e in n)return n[e];throw new ki.CredentialsProviderError(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},ny=e=>hn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),sz=(e,{profile:r="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(oz(e,{profile:r,logger:t})||iz(e,{profile:r,logger:t})),oz=(e,{profile:r,logger:t})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&t?.debug?.(`    ${r} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},iz=(e,{profile:r,logger:t})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&t?.debug?.(`    ${r} isCredentialSourceProfile credential_source=${e.credential_source}`),n},az=async(e,r,t,n={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=r[e],{source_profile:o,region:i}=s;if(!t.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(Xg(),Yg));t.roleAssumer=l({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:i??t?.parentClientConfig?.region}},t.clientPlugins)}if(o&&o in n)throw new ki.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${sy.getProfileName(t)}. Profiles visited: `+Object.keys(n).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let a=o?PR(o,r,t,{...n,[o]:!0},AR(r[o]??{})):(await nz(s.credential_source,e,t.logger)(t))();if(AR(s))return a.then(l=>hn.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:u}=s;if(u){if(!t.mfaCodeProvider)throw new ki.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});l.SerialNumber=u,l.TokenCode=await t.mfaCodeProvider(u)}let f=await a;return t.roleAssumer(f,l).then(h=>hn.setCredentialFeature(h,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},AR=e=>!e.role_arn&&!!e.credential_source,cz=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",dz=async(e,r)=>Promise.resolve().then(()=>T(ey())).then(({fromProcess:t})=>t({...e,profile:r})().then(n=>hn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),lz=async(e,r,t={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>T(yg()));return n({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>r.sso_session?hn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):hn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},uz=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),vR=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,RR=async(e,r)=>{r?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return hn.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},mz=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,pz=async(e,r)=>Promise.resolve().then(()=>T(ry())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity,logger:r.logger,parentClientConfig:r.parentClientConfig})().then(n=>hn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),PR=async(e,r,t,n={},s=!1)=>{let o=r[e];if(Object.keys(n).length>0&&vR(o))return RR(o,t);if(s||sz(o,{profile:e,logger:t.logger}))return az(e,r,t,n);if(vR(o))return RR(o,t);if(mz(o))return pz(o,t);if(cz(o))return dz(t,e);if(uz(o))return await lz(e,o,t);throw new ki.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},fz=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await sy.parseKnownFiles(t);return PR(sy.getProfileName({profile:e.profile??r?.profile}),n,t)};NR.fromIni=fz});var BR=N(Jd=>{"use strict";var oy=Uh(),Xn=it(),hz=yr(),OR="AWS_EC2_METADATA_DISABLED",gz=async e=>{let{ENV_CMDS_FULL_URI:r,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(Ko()));if(process.env[t]||process.env[r]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>T(Gh()));return Xn.chain(o(e),n(e))}return process.env[OR]&&process.env[OR]!=="false"?async()=>{throw new Xn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},kR=!1,yz=(e={})=>Xn.memoize(Xn.chain(async()=>{if(e.profile??process.env[hz.ENV_PROFILE])throw process.env[oy.ENV_KEY]&&process.env[oy.ENV_SECRET]&&(kR||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),kR=!0)),new Xn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),oy.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!r&&!t&&!n&&!s&&!o)throw new Xn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>T(yg()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>T(DR()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>T(ey()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>T(ry()));return r(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await gz(e))()),async()=>{throw new Xn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),LR,MR),MR=e=>e?.expiration!==void 0,LR=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Jd.credentialsTreatedAsExpired=LR;Jd.credentialsWillNeedRefresh=MR;Jd.defaultProvider=yz});var aP=N(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.ruleSet=void 0;var ay="required",Z="type",Me="rules",Ee="conditions",j="fn",z="argv",le="ref",Yd="assign",Qt="url",Zt="properties",er="headers",Ez=!1,Le="error",et="stringEquals",UR="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",pt="endpoint",Fe="tree",cy="dynamodb",Mi={[ay]:!1,[Z]:"string"},FR={[ay]:!0,default:!1,[Z]:"boolean"},$R={[j]:"isSet",[z]:[{[le]:"Endpoint"}]},Sz={[le]:"Endpoint"},jR={[j]:"isSet",[z]:[{[le]:"Region"}]},oP={[le]:"Region"},zR={[j]:"aws.partition",[z]:[oP],[Yd]:"PartitionResult"},HR={[Ee]:[{[j]:"booleanEquals",[z]:[{[le]:"UseFIPS"},!0]}],[Le]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Z]:Le},Gs={[j]:"booleanEquals",[z]:[{[le]:"UseFIPS"},!0]},qR={[Ee]:[{[j]:"booleanEquals",[z]:[{[le]:"UseDualStack"},!0]}],[Le]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Z]:Le},iP={[j]:"booleanEquals",[z]:[{[le]:"UseDualStack"},!0]},VR={[pt]:{[Qt]:"{Endpoint}",[Zt]:{},[er]:{}},[Z]:pt},Lt={},GR={[j]:"booleanEquals",[z]:[{[j]:"getAttr",[z]:[{[le]:"PartitionResult"},"supportsFIPS"]},!0]},WR={[j]:"booleanEquals",[z]:[{[j]:"getAttr",[z]:[{[le]:"PartitionResult"},"supportsDualStack"]},!0]},iy={[Ee]:[{[j]:"isSet",[z]:[{[le]:"AccountIdEndpointMode"}]},{[j]:et,[z]:[{[le]:"AccountIdEndpointMode"},"required"]}],[Me]:[{[Le]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Z]:Le}],[Z]:Fe},Li={[j]:"getAttr",[z]:[{[le]:"PartitionResult"},"name"]},KR={[pt]:{[Qt]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:{},[er]:{}},[Z]:pt},JR={[Qt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:{},[er]:{}},YR={[Le]:"Credentials-sourced account ID parameter is invalid",[Z]:Le},XR={[Ee]:[{[j]:"isSet",[z]:[{[le]:"AccountIdEndpointMode"}]},{[j]:et,[z]:[{[le]:"AccountIdEndpointMode"},"required"]}],[Me]:[{[Ee]:[{[j]:"not",[z]:[Gs]}],[Me]:[{[Ee]:[{[j]:et,[z]:[Li,"aws"]}],[Me]:[{[Le]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Z]:Le}],[Z]:Fe},{[Le]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Z]:Le}],[Z]:Fe},{[Le]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Z]:Le}],[Z]:Fe},QR={[Qt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:{},[er]:{}},ZR=[Gs],eP=[iP],tP=[{[j]:"isSet",[z]:[{[le]:"AccountIdEndpointMode"}]},{[j]:"not",[z]:[{[j]:et,[z]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:et,[z]:[Li,"aws"]},{[j]:"not",[z]:[Gs]},{[j]:"isSet",[z]:[{[le]:"ResourceArn"}]},{[j]:"aws.parseArn",[z]:[{[le]:"ResourceArn"}],[Yd]:"ParsedArn"},{[j]:et,[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"service"]},cy]},{[j]:"isValidHostLabel",[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"region"]},!1]},{[j]:et,[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"region"]},"{Region}"]},{[j]:"isValidHostLabel",[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"accountId"]},!1]}],rP=[{[j]:"isSet",[z]:[{[le]:"AccountIdEndpointMode"}]},{[j]:"not",[z]:[{[j]:et,[z]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:et,[z]:[Li,"aws"]},{[j]:"not",[z]:[Gs]},{[j]:"isSet",[z]:[{[le]:"ResourceArnList"}]},{[j]:"getAttr",[z]:[{[le]:"ResourceArnList"},"[0]"],[Yd]:"FirstArn"},{[j]:"aws.parseArn",[z]:[{[le]:"FirstArn"}],[Yd]:"ParsedArn"},{[j]:et,[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"service"]},cy]},{[j]:"isValidHostLabel",[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"region"]},!1]},{[j]:et,[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"region"]},"{Region}"]},{[j]:"isValidHostLabel",[z]:[{[j]:"getAttr",[z]:[{[le]:"ParsedArn"},"accountId"]},!1]}],nP=[{[j]:"isSet",[z]:[{[le]:"AccountIdEndpointMode"}]},{[j]:"not",[z]:[{[j]:et,[z]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:et,[z]:[Li,"aws"]},{[j]:"not",[z]:[Gs]},{[j]:"isSet",[z]:[{[le]:"AccountId"}]}],sP=[{[j]:"isValidHostLabel",[z]:[{[le]:"AccountId"},!1]}],bz={version:"1.0",parameters:{Region:Mi,UseDualStack:FR,UseFIPS:FR,Endpoint:Mi,AccountId:Mi,AccountIdEndpointMode:Mi,ResourceArn:Mi,ResourceArnList:{[ay]:Ez,[Z]:"stringArray"}},[Me]:[{[Ee]:[$R,jR,zR],[Me]:[HR,qR,{[Ee]:[{[j]:et,[z]:[Sz,UR]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Z]:Le},VR],[Z]:Fe},{[Ee]:[$R],[Me]:[HR,qR,VR],[Z]:Fe},{[Ee]:[jR],[Me]:[{[Ee]:[zR],[Me]:[{[Ee]:[{[j]:et,[z]:[oP,"local"]}],[Me]:[{[Ee]:ZR,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Z]:Le},{[Ee]:eP,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Z]:Le},{endpoint:{[Qt]:"http://localhost:8000",[Zt]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:cy}]},[er]:Lt},[Z]:pt}],[Z]:Fe},{[Ee]:[Gs,iP],[Me]:[{[Ee]:[GR,WR],[Me]:[iy,{endpoint:{[Qt]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:Lt,[er]:Lt},[Z]:pt}],[Z]:Fe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Z]:Le}],[Z]:Fe},{[Ee]:ZR,[Me]:[{[Ee]:[GR],[Me]:[{[Ee]:[{[j]:et,[z]:[Li,"aws-us-gov"]}],[Me]:[iy,KR],[Z]:Fe},iy,{endpoint:{[Qt]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Zt]:Lt,[er]:Lt},[Z]:pt}],[Z]:Fe},{error:"FIPS is enabled but this partition does not support FIPS",[Z]:Le}],[Z]:Fe},{[Ee]:eP,[Me]:[{[Ee]:[WR],[Me]:[{[Ee]:tP,endpoint:JR,[Z]:pt},{[Ee]:rP,endpoint:JR,[Z]:pt},{[Ee]:nP,[Me]:[{[Ee]:sP,[Me]:[{endpoint:{[Qt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:Lt,[er]:Lt},[Z]:pt}],[Z]:Fe},YR],[Z]:Fe},XR,{endpoint:{[Qt]:UR,[Zt]:Lt,[er]:Lt},[Z]:pt}],[Z]:Fe},{error:"DualStack is enabled but this partition does not support DualStack",[Z]:Le}],[Z]:Fe},{[Ee]:tP,endpoint:QR,[Z]:pt},{[Ee]:rP,endpoint:QR,[Z]:pt},{[Ee]:nP,[Me]:[{[Ee]:sP,[Me]:[{endpoint:{[Qt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:Lt,[er]:Lt},[Z]:pt}],[Z]:Fe},YR],[Z]:Fe},XR,KR],[Z]:Fe}],[Z]:Fe},{error:"Invalid Configuration: Missing Region",[Z]:Le}]};Xd.ruleSet=bz});var cP=N(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.defaultEndpointResolver=void 0;var wz=ms(),dy=us(),_z=aP(),xz=new dy.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),Cz=(e,r={})=>xz.get(e,()=>(0,dy.resolveEndpoint)(_z.ruleSet,{endpointParams:e,logger:r.logger}));Qd.defaultEndpointResolver=Cz;dy.customEndpointFunctions.aws=wz.awsEndpointFunctions});var uP=N(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.getRuntimeConfig=void 0;var Tz=($e(),ue(kt)),Iz=oe(),Az=jr(),dP=Ve(),lP=qe(),vz=Bh(),Rz=cP(),Pz=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??dP.fromBase64,base64Encoder:e?.base64Encoder??dP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Rz.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??vz.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new Tz.AwsSdkSigV4Signer}],logger:e?.logger??new Iz.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??Az.parseUrl,utf8Decoder:e?.utf8Decoder??lP.fromUtf8,utf8Encoder:e?.utf8Encoder??lP.toUtf8});Zd.getRuntimeConfig=Pz});var gP=N(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.getRuntimeConfig=void 0;var Nz=(_o(),ue(wo)),Dz=Nz.__importDefault(tT()),mP=($e(),ue(kt)),Oz=(cm(),ue(am)),kz=BR(),Mz=Sm(),pP=Yo(),el=Gt(),Lz=Xo(),fP=Sr(),Tr=en(),hP=Tn(),Bz=Qo(),Uz=Is(),Fz=uP(),$z=oe(),jz=ei(),zz=oe(),Hz=e=>{(0,zz.emitWarningIfUnsupportedVersion)(process.version);let r=(0,jz.resolveDefaultsModeConfig)(e),t=()=>r().then($z.loadConfigsForDefaultMode),n=(0,Fz.getRuntimeConfig)(e);(0,mP.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,accountIdEndpointMode:e?.accountIdEndpointMode??(0,Tr.loadConfig)(Oz.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:e?.authSchemePreference??(0,Tr.loadConfig)(mP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Bz.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??kz.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Dz.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,Tr.loadConfig)(Mz.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:e?.maxAttempts??(0,Tr.loadConfig)(fP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Tr.loadConfig)(el.NODE_REGION_CONFIG_OPTIONS,{...el.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:hP.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Tr.loadConfig)({...fP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||Uz.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Lz.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??hP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Tr.loadConfig)(el.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Tr.loadConfig)(el.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Tr.loadConfig)(pP.NODE_APP_ID_CONFIG_OPTIONS,s)}};tl.getRuntimeConfig=Hz});var bP=N(at=>{"use strict";var qz=e=>new Promise(r=>setTimeout(r,e*1e3)),SP={minDelay:2,maxDelay:120};at.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(at.WaiterState||(at.WaiterState={}));var Vz=e=>{if(e.state===at.WaiterState.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===at.WaiterState.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==at.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},Gz=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return Wz(e,s)},Wz=(e,r)=>e+Math.random()*(r-e),Kz=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},i,a)=>{let l={},{state:u,reason:f}=await a(s,i);if(f){let S=yP(f);l[S]|=0,l[S]+=1}if(u!==at.WaiterState.RETRY)return{state:u,reason:f,observedResponses:l};let h=1,g=Date.now()+t*1e3,y=Math.log(r/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let v="AbortController signal aborted.";return l[v]|=0,l[v]+=1,{state:at.WaiterState.ABORTED,observedResponses:l}}let S=Gz(e,r,y,h);if(Date.now()+S*1e3>g)return{state:at.WaiterState.TIMEOUT,observedResponses:l};await qz(S);let{state:I,reason:R}=await a(s,i);if(R){let v=yP(R);l[v]|=0,l[v]+=1}if(I!==at.WaiterState.RETRY)return{state:I,reason:R,observedResponses:l};h+=1}},yP=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),Jz=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},EP=e=>{let r,t=new Promise(n=>{r=()=>n({state:at.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",r)},aborted:t}},Yz=async(e,r,t)=>{let n={...SP,...e};Jz(n);let s=[Kz(n,r,t)],o=[];if(e.abortSignal){let{aborted:i,clearListener:a}=EP(e.abortSignal);o.push(a),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=EP(e.abortController.signal);o.push(a),s.push(i)}return Promise.race(s).then(i=>{for(let a of o)a();return i})};at.checkExceptions=Vz;at.createWaiter=Yz;at.waiterServiceDefaults=SP});var gy=N(C=>{"use strict";var Xz=(cm(),ue(am)),Qz=Sm(),wP=so(),Zz=oo(),eH=ao(),_P=Cs(),tH=Gt(),Ir=(ot(),ue(kn)),rH=jo(),q=tn(),xP=Sr(),c=oe(),CP=Bh(),V=kr(),U=($e(),ue(kt)),ly=be(),Ou=qa(),nH=gP(),TP=ti(),Bt=bP(),sH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ae=class e extends c.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},oH={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},iH={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},aH={B:"B",N:"N",S:"S"},cH={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},dH={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},lH={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},uH={HASH:"HASH",RANGE:"RANGE"},mH={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},pH={AES256:"AES256",KMS:"KMS"},fH={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},hH={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},gH={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},rl=class e extends ae{constructor(t){super({name:"BackupInUseException",$fault:"client",...t});d(this,"name","BackupInUseException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},nl=class e extends ae{constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t});d(this,"name","BackupNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},yH={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},EH={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},SH={ALL_OLD:"ALL_OLD",NONE:"NONE"},bH={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},sl=class e extends ae{constructor(t){super({name:"InternalServerError",$fault:"server",...t});d(this,"name","InternalServerError");d(this,"$fault","server");Object.setPrototypeOf(this,e.prototype)}},ol=class e extends ae{constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t});d(this,"name","RequestLimitExceeded");d(this,"$fault","client");d(this,"ThrottlingReasons");Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},il=class e extends ae{constructor(t){super({name:"ThrottlingException",$fault:"client",...t});d(this,"name","ThrottlingException");d(this,"$fault","client");d(this,"throttlingReasons");Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},al=class e extends ae{constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t});d(this,"name","InvalidEndpointException");d(this,"$fault","client");d(this,"Message");Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},cl=class e extends ae{constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t});d(this,"name","ProvisionedThroughputExceededException");d(this,"$fault","client");d(this,"ThrottlingReasons");Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},dl=class e extends ae{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});d(this,"name","ResourceNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},wH={NONE:"NONE",SIZE:"SIZE"},ll=class e extends ae{constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t});d(this,"name","ItemCollectionSizeLimitExceededException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},ul=class e extends ae{constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t});d(this,"name","ReplicatedWriteConflictException");d(this,"$fault","client");d(this,"$retryable",{});Object.setPrototypeOf(this,e.prototype)}},_H={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},xH={AND:"AND",OR:"OR"},CH={DISABLED:"DISABLED",ENABLED:"ENABLED"},TH={DISABLED:"DISABLED",ENABLED:"ENABLED"},ml=class e extends ae{constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t});d(this,"name","ContinuousBackupsUnavailableException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},IH={DISABLE:"DISABLE",ENABLE:"ENABLE"},AH={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},vH={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},pl=class e extends ae{constructor(t){super({name:"LimitExceededException",$fault:"client",...t});d(this,"name","LimitExceededException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},fl=class e extends ae{constructor(t){super({name:"TableInUseException",$fault:"client",...t});d(this,"name","TableInUseException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},hl=class e extends ae{constructor(t){super({name:"TableNotFoundException",$fault:"client",...t});d(this,"name","TableNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},RH={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},PH={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},NH={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},DH={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},OH={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},gl=class e extends ae{constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t});d(this,"name","GlobalTableAlreadyExistsException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},kH={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},MH={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},yl=class e extends ae{constructor(t){super({name:"ResourceInUseException",$fault:"client",...t});d(this,"name","ResourceInUseException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},LH={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},El=class e extends ae{constructor(t){super({name:"TransactionConflictException",$fault:"client",...t});d(this,"name","TransactionConflictException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Sl=class e extends ae{constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t});d(this,"name","PolicyNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},BH={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},UH={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},FH={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},$H={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},jH={AES256:"AES256",KMS:"KMS"},bl=class e extends ae{constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t});d(this,"name","ExportNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},wl=class e extends ae{constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t});d(this,"name","GlobalTableNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},zH={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},HH={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},qH={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},_l=class e extends ae{constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t});d(this,"name","ImportNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},VH={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},xl=class e extends ae{constructor(t){super({name:"DuplicateItemException",$fault:"client",...t});d(this,"name","DuplicateItemException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Cl=class e extends ae{constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t});d(this,"name","IdempotentParameterMismatchException");d(this,"$fault","client");d(this,"Message");Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Tl=class e extends ae{constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t});d(this,"name","TransactionInProgressException");d(this,"$fault","client");d(this,"Message");Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Il=class e extends ae{constructor(t){super({name:"ExportConflictException",$fault:"client",...t});d(this,"name","ExportConflictException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Al=class e extends ae{constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t});d(this,"name","InvalidExportTimeException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},vl=class e extends ae{constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t});d(this,"name","PointInTimeRecoveryUnavailableException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Rl=class e extends ae{constructor(t){super({name:"ImportConflictException",$fault:"client",...t});d(this,"name","ImportConflictException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},GH={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},Pl=class e extends ae{constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t});d(this,"name","TableAlreadyExistsException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Nl=class e extends ae{constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t});d(this,"name","InvalidRestoreTimeException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Dl=class e extends ae{constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t});d(this,"name","ReplicaAlreadyExistsException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},Ol=class e extends ae{constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t});d(this,"name","ReplicaNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}},kl=class e extends ae{constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t});d(this,"name","IndexNotFoundException");d(this,"$fault","client");Object.setPrototypeOf(this,e.prototype)}};C.AttributeValue=void 0;(function(e){e.visit=(r,t)=>r.S!==void 0?t.S(r.S):r.N!==void 0?t.N(r.N):r.B!==void 0?t.B(r.B):r.SS!==void 0?t.SS(r.SS):r.NS!==void 0?t.NS(r.NS):r.BS!==void 0?t.BS(r.BS):r.M!==void 0?t.M(r.M):r.L!==void 0?t.L(r.L):r.NULL!==void 0?t.NULL(r.NULL):r.BOOL!==void 0?t.BOOL(r.BOOL):t._(r.$unknown[0],r.$unknown[1])})(C.AttributeValue||(C.AttributeValue={}));var Ml=class e extends ae{constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t});d(this,"name","ConditionalCheckFailedException");d(this,"$fault","client");d(this,"Item");Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},Ll=class e extends ae{constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t});d(this,"name","TransactionCanceledException");d(this,"$fault","client");d(this,"Message");d(this,"CancellationReasons");Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},WH=async(e,r)=>{let t=J("BatchExecuteStatement"),n;return n=JSON.stringify(UV(e,r)),K(r,t,"/",void 0,n)},KH=async(e,r)=>{let t=J("BatchGetItem"),n;return n=JSON.stringify(FV(e,r)),K(r,t,"/",void 0,n)},JH=async(e,r)=>{let t=J("BatchWriteItem"),n;return n=JSON.stringify(zV(e,r)),K(r,t,"/",void 0,n)},YH=async(e,r)=>{let t=J("CreateBackup"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},XH=async(e,r)=>{let t=J("CreateGlobalTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},QH=async(e,r)=>{let t=J("CreateTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},ZH=async(e,r)=>{let t=J("DeleteBackup"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},eq=async(e,r)=>{let t=J("DeleteItem"),n;return n=JSON.stringify(WV(e,r)),K(r,t,"/",void 0,n)},tq=async(e,r)=>{let t=J("DeleteResourcePolicy"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},rq=async(e,r)=>{let t=J("DeleteTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},nq=async(e,r)=>{let t=J("DescribeBackup"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},sq=async(e,r)=>{let t=J("DescribeContinuousBackups"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},oq=async(e,r)=>{let t=J("DescribeContributorInsights"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},iq=async(e,r)=>{let t=J("DescribeEndpoints"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},aq=async(e,r)=>{let t=J("DescribeExport"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},cq=async(e,r)=>{let t=J("DescribeGlobalTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},dq=async(e,r)=>{let t=J("DescribeGlobalTableSettings"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},lq=async(e,r)=>{let t=J("DescribeImport"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},uq=async(e,r)=>{let t=J("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},mq=async(e,r)=>{let t=J("DescribeLimits"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},pq=async(e,r)=>{let t=J("DescribeTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},fq=async(e,r)=>{let t=J("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},hq=async(e,r)=>{let t=J("DescribeTimeToLive"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},gq=async(e,r)=>{let t=J("DisableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},yq=async(e,r)=>{let t=J("EnableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Eq=async(e,r)=>{let t=J("ExecuteStatement"),n;return n=JSON.stringify(JV(e,r)),K(r,t,"/",void 0,n)},Sq=async(e,r)=>{let t=J("ExecuteTransaction"),n;return n=JSON.stringify(YV(e,r)),K(r,t,"/",void 0,n)},bq=async(e,r)=>{let t=J("ExportTableToPointInTime"),n;return n=JSON.stringify(QV(e)),K(r,t,"/",void 0,n)},wq=async(e,r)=>{let t=J("GetItem"),n;return n=JSON.stringify(eG(e,r)),K(r,t,"/",void 0,n)},_q=async(e,r)=>{let t=J("GetResourcePolicy"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},xq=async(e,r)=>{let t=J("ImportTable"),n;return n=JSON.stringify(oG(e)),K(r,t,"/",void 0,n)},Cq=async(e,r)=>{let t=J("ListBackups"),n;return n=JSON.stringify(uG(e)),K(r,t,"/",void 0,n)},Tq=async(e,r)=>{let t=J("ListContributorInsights"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Iq=async(e,r)=>{let t=J("ListExports"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Aq=async(e,r)=>{let t=J("ListGlobalTables"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},vq=async(e,r)=>{let t=J("ListImports"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Rq=async(e,r)=>{let t=J("ListTables"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Pq=async(e,r)=>{let t=J("ListTagsOfResource"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Nq=async(e,r)=>{let t=J("PutItem"),n;return n=JSON.stringify(yG(e,r)),K(r,t,"/",void 0,n)},Dq=async(e,r)=>{let t=J("PutResourcePolicy"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Oq=async(e,r)=>{let t=J("Query"),n;return n=JSON.stringify(SG(e,r)),K(r,t,"/",void 0,n)},kq=async(e,r)=>{let t=J("RestoreTableFromBackup"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Mq=async(e,r)=>{let t=J("RestoreTableToPointInTime"),n;return n=JSON.stringify(vG(e)),K(r,t,"/",void 0,n)},Lq=async(e,r)=>{let t=J("Scan"),n;return n=JSON.stringify(RG(e,r)),K(r,t,"/",void 0,n)},Bq=async(e,r)=>{let t=J("TagResource"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Uq=async(e,r)=>{let t=J("TransactGetItems"),n;return n=JSON.stringify(DG(e,r)),K(r,t,"/",void 0,n)},Fq=async(e,r)=>{let t=J("TransactWriteItems"),n;return n=JSON.stringify(MG(e,r)),K(r,t,"/",void 0,n)},$q=async(e,r)=>{let t=J("UntagResource"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},jq=async(e,r)=>{let t=J("UpdateContinuousBackups"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},zq=async(e,r)=>{let t=J("UpdateContributorInsights"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Hq=async(e,r)=>{let t=J("UpdateGlobalTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},qq=async(e,r)=>{let t=J("UpdateGlobalTableSettings"),n;return n=JSON.stringify(BG(e)),K(r,t,"/",void 0,n)},Vq=async(e,r)=>{let t=J("UpdateItem"),n;return n=JSON.stringify(UG(e,r)),K(r,t,"/",void 0,n)},Gq=async(e,r)=>{let t=J("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Wq=async(e,r)=>{let t=J("UpdateTable"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Kq=async(e,r)=>{let t=J("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(FG(e)),K(r,t,"/",void 0,n)},Jq=async(e,r)=>{let t=J("UpdateTimeToLive"),n;return n=JSON.stringify(c._json(e)),K(r,t,"/",void 0,n)},Yq=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=KG(t,r),{$metadata:O(e),...n}},Xq=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=JG(t,r),{$metadata:O(e),...n}},Qq=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=eW(t,r),{$metadata:O(e),...n}},Zq=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=iW(t),{$metadata:O(e),...n}},e2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=aW(t),{$metadata:O(e),...n}},t2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=cW(t),{$metadata:O(e),...n}},r2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=dW(t),{$metadata:O(e),...n}},n2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=lW(t,r),{$metadata:O(e),...n}},s2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},o2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=mW(t),{$metadata:O(e),...n}},i2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=pW(t),{$metadata:O(e),...n}},a2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=fW(t),{$metadata:O(e),...n}},c2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=hW(t),{$metadata:O(e),...n}},d2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},l2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=gW(t),{$metadata:O(e),...n}},u2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=yW(t),{$metadata:O(e),...n}},m2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=EW(t),{$metadata:O(e),...n}},p2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=SW(t),{$metadata:O(e),...n}},f2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},h2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},g2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=bW(t),{$metadata:O(e),...n}},y2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=wW(t),{$metadata:O(e),...n}},E2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},S2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},b2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},w2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=_W(t,r),{$metadata:O(e),...n}},_2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=xW(t,r),{$metadata:O(e),...n}},x2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=CW(t),{$metadata:O(e),...n}},C2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=TW(t,r),{$metadata:O(e),...n}},T2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},I2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=PW(t),{$metadata:O(e),...n}},A2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=FW(t),{$metadata:O(e),...n}},v2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},R2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},P2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},N2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=$W(t),{$metadata:O(e),...n}},D2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},O2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},k2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=VW(t,r),{$metadata:O(e),...n}},M2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},L2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=WW(t,r),{$metadata:O(e),...n}},B2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=n3(t),{$metadata:O(e),...n}},U2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=s3(t),{$metadata:O(e),...n}},F2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=o3(t,r),{$metadata:O(e),...n}},$2=async(e,r)=>e.statusCode>=300?W(e,r):(await c.collectBody(e.body,r),{$metadata:O(e)}),j2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c3(t,r),{$metadata:O(e),...n}},z2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=l3(t,r),{$metadata:O(e),...n}},H2=async(e,r)=>e.statusCode>=300?W(e,r):(await c.collectBody(e.body,r),{$metadata:O(e)}),q2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=u3(t),{$metadata:O(e),...n}},V2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},G2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=m3(t),{$metadata:O(e),...n}},W2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=p3(t),{$metadata:O(e),...n}},K2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=f3(t,r),{$metadata:O(e),...n}},J2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},Y2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=h3(t),{$metadata:O(e),...n}},X2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=g3(t),{$metadata:O(e),...n}},Q2=async(e,r)=>{if(e.statusCode>=300)return W(e,r);let t=await U.parseJsonBody(e.body,r),n={};return n=c._json(t),{$metadata:O(e),...n}},W=async(e,r)=>{let t={...e,body:await U.parseJsonErrorBody(e.body,r)},n=U.loadRestJsonErrorCode(e,t.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await mV(t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await CV(t);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await PV(t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await pV(t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bV(t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await IV(t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await gV(t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await xV(t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Z2(t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await rV(t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await yV(t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await vV(t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await RV(t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await iV(t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await TV(t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await eV(t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await tV(t,r);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await DV(t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await SV(t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await oV(t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await aV(t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await lV(t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await nV(t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await cV(t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await NV(t,r);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await OV(t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await sV(t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await fV(t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await EV(t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await dV(t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await AV(t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await hV(t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await wV(t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await _V(t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await uV(t);default:let s=t.body;return S3({output:e,parsedBody:s,errorCode:n})}},Z2=async(e,r)=>{let t=e.body,n=c._json(t),s=new rl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},eV=async(e,r)=>{let t=e.body,n=c._json(t),s=new nl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},tV=async(e,r)=>{let t=e.body,n=oW(t,r),s=new Ml({$metadata:O(e),...n});return c.decorateServiceException(s,t)},rV=async(e,r)=>{let t=e.body,n=c._json(t),s=new ml({$metadata:O(e),...n});return c.decorateServiceException(s,t)},nV=async(e,r)=>{let t=e.body,n=c._json(t),s=new xl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},sV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Il({$metadata:O(e),...n});return c.decorateServiceException(s,t)},oV=async(e,r)=>{let t=e.body,n=c._json(t),s=new bl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},iV=async(e,r)=>{let t=e.body,n=c._json(t),s=new gl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},aV=async(e,r)=>{let t=e.body,n=c._json(t),s=new wl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},cV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Cl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},dV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Rl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},lV=async(e,r)=>{let t=e.body,n=c._json(t),s=new _l({$metadata:O(e),...n});return c.decorateServiceException(s,t)},uV=async(e,r)=>{let t=e.body,n=c._json(t),s=new kl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},mV=async(e,r)=>{let t=e.body,n=c._json(t),s=new sl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},pV=async(e,r)=>{let t=e.body,n=c._json(t),s=new al({$metadata:O(e),...n});return c.decorateServiceException(s,t)},fV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Al({$metadata:O(e),...n});return c.decorateServiceException(s,t)},hV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Nl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},gV=async(e,r)=>{let t=e.body,n=c._json(t),s=new ll({$metadata:O(e),...n});return c.decorateServiceException(s,t)},yV=async(e,r)=>{let t=e.body,n=c._json(t),s=new pl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},EV=async(e,r)=>{let t=e.body,n=c._json(t),s=new vl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},SV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Sl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},bV=async(e,r)=>{let t=e.body,n=c._json(t),s=new cl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},wV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Dl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},_V=async(e,r)=>{let t=e.body,n=c._json(t),s=new Ol({$metadata:O(e),...n});return c.decorateServiceException(s,t)},xV=async(e,r)=>{let t=e.body,n=c._json(t),s=new ul({$metadata:O(e),...n});return c.decorateServiceException(s,t)},CV=async(e,r)=>{let t=e.body,n=c._json(t),s=new ol({$metadata:O(e),...n});return c.decorateServiceException(s,t)},TV=async(e,r)=>{let t=e.body,n=c._json(t),s=new yl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},IV=async(e,r)=>{let t=e.body,n=c._json(t),s=new dl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},AV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Pl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},vV=async(e,r)=>{let t=e.body,n=c._json(t),s=new fl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},RV=async(e,r)=>{let t=e.body,n=c._json(t),s=new hl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},PV=async(e,r)=>{let t=e.body,n=c._json(t),s=new il({$metadata:O(e),...n});return c.decorateServiceException(s,t)},NV=async(e,r)=>{let t=e.body,n=d3(t,r),s=new Ll({$metadata:O(e),...n});return c.decorateServiceException(s,t)},DV=async(e,r)=>{let t=e.body,n=c._json(t),s=new El({$metadata:O(e),...n});return c.decorateServiceException(s,t)},OV=async(e,r)=>{let t=e.body,n=c._json(t),s=new Tl({$metadata:O(e),...n});return c.decorateServiceException(s,t)},kV=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=MV(s,r)),t),{}),Ar=(e,r)=>C.AttributeValue.visit(e,{B:t=>({B:r.base64Encoder(t)}),BOOL:t=>({BOOL:t}),BS:t=>({BS:qV(t,r)}),L:t=>({L:lG(t,r)}),M:t=>({M:mG(t,r)}),N:t=>({N:t}),NS:t=>({NS:c._json(t)}),NULL:t=>({NULL:t}),S:t=>({S:t}),SS:t=>({SS:c._json(t)}),_:(t,n)=>({[t]:n})}),AP=(e,r)=>e.filter(t=>t!=null).map(t=>Ar(t,r)),MV=(e,r)=>c.take(e,{Action:[],Value:t=>Ar(t,r)}),LV=(e,r)=>c.take(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:t=>BV(t)}),yn=(e,r)=>c.take(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:t=>LV(t)}),BV=(e,r)=>c.take(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:c.serializeFloat}),UV=(e,r)=>c.take(e,{ReturnConsumedCapacity:[],Statements:t=>hG(t,r)}),FV=(e,r)=>c.take(e,{RequestItems:t=>$V(t,r),ReturnConsumedCapacity:[]}),$V=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=dG(s,r)),t),{}),jV=(e,r)=>c.take(e,{ConsistentRead:[],Parameters:t=>my(t,r),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),zV=(e,r)=>c.take(e,{RequestItems:t=>HV(t,r),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),HV=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=jG(s,r)),t),{}),qV=(e,r)=>e.filter(t=>t!=null).map(t=>r.base64Encoder(t)),vP=(e,r)=>c.take(e,{AttributeValueList:t=>AP(t,r),ComparisonOperator:[]}),VV=(e,r)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Key:t=>Ut(t,r),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),GV=(e,r)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Key:t=>Ut(t,r),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),WV=(e,r)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:t=>uy(t,r),ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Key:t=>Ut(t,r),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),KV=(e,r)=>c.take(e,{Key:t=>Ut(t,r)}),JV=(e,r)=>c.take(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:t=>my(t,r),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),YV=(e,r)=>c.take(e,{ClientRequestToken:[!0,t=>t??Ou.v4()],ReturnConsumedCapacity:[],TransactStatements:t=>fG(t,r)}),uy=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=XV(s,r)),t),{}),XV=(e,r)=>c.take(e,{AttributeValueList:t=>AP(t,r),ComparisonOperator:[],Exists:[],Value:t=>Ar(t,r)}),QV=(e,r)=>c.take(e,{ClientToken:[!0,t=>t??Ou.v4()],ExportFormat:[],ExportTime:t=>t.getTime()/1e3,ExportType:[],IncrementalExportSpecification:t=>iG(t),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),vr=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ar(s,r)),t),{}),RP=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=vP(s,r)),t),{}),ZV=(e,r)=>c.take(e,{ExpressionAttributeNames:c._json,Key:t=>Ut(t,r),ProjectionExpression:[],TableName:[]}),eG=(e,r)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Key:t=>Ut(t,r),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),tG=(e,r)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:t=>yn(t)}),rG=(e,r)=>e.filter(t=>t!=null).map(t=>tG(t)),nG=(e,r)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:t=>yn(t),ProvisionedWriteCapacityUnits:[]}),sG=(e,r)=>e.filter(t=>t!=null).map(t=>nG(t)),oG=(e,r)=>c.take(e,{ClientToken:[!0,t=>t??Ou.v4()],InputCompressionType:[],InputFormat:[],InputFormatOptions:c._json,S3BucketSource:c._json,TableCreationParameters:c._json}),iG=(e,r)=>c.take(e,{ExportFromTime:t=>t.getTime()/1e3,ExportToTime:t=>t.getTime()/1e3,ExportViewType:[]}),Ut=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ar(s,r)),t),{}),aG=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=vP(s,r)),t),{}),cG=(e,r)=>e.filter(t=>t!=null).map(t=>Ut(t,r)),dG=(e,r)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Keys:t=>cG(t,r),ProjectionExpression:[]}),lG=(e,r)=>e.filter(t=>t!=null).map(t=>Ar(t,r)),uG=(e,r)=>c.take(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:t=>t.getTime()/1e3,TimeRangeUpperBound:t=>t.getTime()/1e3}),mG=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ar(s,r)),t),{}),pG=(e,r)=>c.take(e,{Parameters:t=>my(t,r),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),fG=(e,r)=>e.filter(t=>t!=null).map(t=>pG(t,r)),hG=(e,r)=>e.filter(t=>t!=null).map(t=>jV(t,r)),my=(e,r)=>e.filter(t=>t!=null).map(t=>Ar(t,r)),gG=(e,r)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Item:t=>py(t,r),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),yG=(e,r)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:t=>uy(t,r),ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Item:t=>py(t,r),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),py=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ar(s,r)),t),{}),EG=(e,r)=>c.take(e,{Item:t=>py(t,r)}),SG=(e,r)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:t=>Ut(t,r),ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:t=>aG(t,r),Limit:[],ProjectionExpression:[],QueryFilter:t=>RP(t,r),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),bG=(e,r)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:t=>xG(t),ReplicaProvisionedReadCapacityAutoScalingUpdate:t=>yn(t)}),wG=(e,r)=>e.filter(t=>t!=null).map(t=>bG(t)),_G=(e,r)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:t=>yn(t)}),xG=(e,r)=>e.filter(t=>t!=null).map(t=>_G(t)),CG=(e,r)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:t=>yn(t),ProvisionedReadCapacityUnits:[]}),TG=(e,r)=>e.filter(t=>t!=null).map(t=>CG(t)),IG=(e,r)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:t=>TG(t),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:t=>yn(t),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),AG=(e,r)=>e.filter(t=>t!=null).map(t=>IG(t)),vG=(e,r)=>c.take(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:c._json,LocalSecondaryIndexOverride:c._json,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RestoreDateTime:t=>t.getTime()/1e3,SSESpecificationOverride:c._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),RG=(e,r)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:t=>Ut(t,r),ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:t=>RP(t,r),Segment:[],Select:[],TableName:[],TotalSegments:[]}),PG=(e,r)=>c.take(e,{Get:t=>ZV(t,r)}),NG=(e,r)=>e.filter(t=>t!=null).map(t=>PG(t,r)),DG=(e,r)=>c.take(e,{ReturnConsumedCapacity:[],TransactItems:t=>NG(t,r)}),OG=(e,r)=>c.take(e,{ConditionCheck:t=>VV(t,r),Delete:t=>GV(t,r),Put:t=>gG(t,r),Update:t=>LG(t,r)}),kG=(e,r)=>e.filter(t=>t!=null).map(t=>OG(t,r)),MG=(e,r)=>c.take(e,{ClientRequestToken:[!0,t=>t??Ou.v4()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:t=>kG(t,r)}),LG=(e,r)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Key:t=>Ut(t,r),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),BG=(e,r)=>c.take(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:t=>sG(t),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:t=>yn(t),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:t=>AG(t)}),UG=(e,r)=>c.take(e,{AttributeUpdates:t=>kV(t,r),ConditionExpression:[],ConditionalOperator:[],Expected:t=>uy(t,r),ExpressionAttributeNames:c._json,ExpressionAttributeValues:t=>vr(t,r),Key:t=>Ut(t,r),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),FG=(e,r)=>c.take(e,{GlobalSecondaryIndexUpdates:t=>rG(t),ProvisionedWriteCapacityAutoScalingUpdate:t=>yn(t),ReplicaUpdates:t=>wG(t),TableName:[]}),$G=(e,r)=>c.take(e,{DeleteRequest:t=>KV(t,r),PutRequest:t=>EG(t,r)}),jG=(e,r)=>e.filter(t=>t!=null).map(t=>$G(t,r)),zG=(e,r)=>c.take(e,{ArchivalBackupArn:c.expectString,ArchivalDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ArchivalReason:c.expectString}),rr=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ks(U.awsExpectUnion(s),r)),t),{}),Ks=(e,r)=>e.B!=null?{B:r.base64Decoder(e.B)}:c.expectBoolean(e.BOOL)!==void 0?{BOOL:c.expectBoolean(e.BOOL)}:e.BS!=null?{BS:rW(e.BS,r)}:e.L!=null?{L:UW(e.L,r)}:e.M!=null?{M:jW(e.M,r)}:c.expectString(e.N)!==void 0?{N:c.expectString(e.N)}:e.NS!=null?{NS:c._json(e.NS)}:c.expectBoolean(e.NULL)!==void 0?{NULL:c.expectBoolean(e.NULL)}:c.expectString(e.S)!==void 0?{S:c.expectString(e.S)}:e.SS!=null?{SS:c._json(e.SS)}:{$unknown:Object.entries(e)[0]},HG=(e,r)=>c.take(e,{PolicyName:c.expectString,TargetTrackingScalingPolicyConfiguration:t=>VG(t)}),qG=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>HG(n)),gn=(e,r)=>c.take(e,{AutoScalingDisabled:c.expectBoolean,AutoScalingRoleArn:c.expectString,MaximumUnits:c.expectLong,MinimumUnits:c.expectLong,ScalingPolicies:t=>qG(t)}),VG=(e,r)=>c.take(e,{DisableScaleIn:c.expectBoolean,ScaleInCooldown:c.expectInt32,ScaleOutCooldown:c.expectInt32,TargetValue:c.limitedParseDouble}),PP=(e,r)=>c.take(e,{BackupDetails:t=>NP(t),SourceTableDetails:t=>i3(t),SourceTableFeatureDetails:t=>a3(t)}),NP=(e,r)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),BackupExpiryDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString}),GG=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>WG(n)),WG=(e,r)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),BackupExpiryDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString,TableArn:c.expectString,TableId:c.expectString,TableName:c.expectString}),KG=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),Responses:t=>zW(t,r)}),JG=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),Responses:t=>XG(t,r),UnprocessedKeys:t=>YG(t,r)}),YG=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=BW(s,r)),t),{}),XG=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Mu(s,r)),t),{}),QG=(e,r)=>c.take(e,{Code:c.expectString,Item:t=>rr(t,r),Message:c.expectString}),ZG=(e,r)=>c.take(e,{Error:t=>QG(t,r),Item:t=>rr(t,r),TableName:c.expectString}),eW=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),ItemCollectionMetrics:t=>BP(t,r),UnprocessedItems:t=>tW(t,r)}),tW=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=E3(s,r)),t),{}),DP=(e,r)=>c.take(e,{BillingMode:c.expectString,LastUpdateToPayPerRequestDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t)))}),rW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>r.base64Decoder(n)),nW=(e,r)=>c.take(e,{Code:c.expectString,Item:t=>rr(t,r),Message:c.expectString}),sW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>nW(n,r)),OP=(e,r)=>c.take(e,{CapacityUnits:c.limitedParseDouble,ReadCapacityUnits:c.limitedParseDouble,WriteCapacityUnits:c.limitedParseDouble}),oW=(e,r)=>c.take(e,{Item:t=>rr(t,r),message:c.expectString}),En=(e,r)=>c.take(e,{CapacityUnits:c.limitedParseDouble,GlobalSecondaryIndexes:t=>IP(t),LocalSecondaryIndexes:t=>IP(t),ReadCapacityUnits:c.limitedParseDouble,Table:t=>OP(t),TableName:c.expectString,WriteCapacityUnits:c.limitedParseDouble}),Js=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>En(n)),kP=(e,r)=>c.take(e,{ContinuousBackupsStatus:c.expectString,PointInTimeRecoveryDescription:t=>HW(t)}),iW=(e,r)=>c.take(e,{BackupDetails:t=>NP(t)}),aW=(e,r)=>c.take(e,{GlobalTableDescription:t=>fy(t)}),cW=(e,r)=>c.take(e,{TableDescription:t=>Ys(t)}),dW=(e,r)=>c.take(e,{BackupDescription:t=>PP(t)}),lW=(e,r)=>c.take(e,{Attributes:t=>rr(t,r),ConsumedCapacity:t=>En(t),ItemCollectionMetrics:t=>ku(t,r)}),uW=(e,r)=>c.take(e,{Key:t=>qi(t,r)}),mW=(e,r)=>c.take(e,{TableDescription:t=>Ys(t)}),pW=(e,r)=>c.take(e,{BackupDescription:t=>PP(t)}),fW=(e,r)=>c.take(e,{ContinuousBackupsDescription:t=>kP(t)}),hW=(e,r)=>c.take(e,{ContributorInsightsMode:c.expectString,ContributorInsightsRuleList:c._json,ContributorInsightsStatus:c.expectString,FailureException:c._json,IndexName:c.expectString,LastUpdateDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableName:c.expectString}),gW=(e,r)=>c.take(e,{ExportDescription:t=>MP(t)}),yW=(e,r)=>c.take(e,{GlobalTableDescription:t=>fy(t)}),EW=(e,r)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:t=>jP(t)}),SW=(e,r)=>c.take(e,{ImportTableDescription:t=>LP(t)}),bW=(e,r)=>c.take(e,{Table:t=>Ys(t)}),wW=(e,r)=>c.take(e,{TableAutoScalingDescription:t=>HP(t)}),_W=(e,r)=>c.take(e,{ConsumedCapacity:t=>En(t),Items:t=>Mu(t,r),LastEvaluatedKey:t=>qi(t,r),NextToken:c.expectString}),xW=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),Responses:t=>UP(t,r)}),MP=(e,r)=>c.take(e,{BilledSizeBytes:c.expectLong,ClientToken:c.expectString,EndTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ExportArn:c.expectString,ExportFormat:c.expectString,ExportManifest:c.expectString,ExportStatus:c.expectString,ExportTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ExportType:c.expectString,FailureCode:c.expectString,FailureMessage:c.expectString,IncrementalExportSpecification:t=>NW(t),ItemCount:c.expectLong,S3Bucket:c.expectString,S3BucketOwner:c.expectString,S3Prefix:c.expectString,S3SseAlgorithm:c.expectString,S3SseKmsKeyId:c.expectString,StartTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableArn:c.expectString,TableId:c.expectString}),CW=(e,r)=>c.take(e,{ExportDescription:t=>MP(t)}),TW=(e,r)=>c.take(e,{ConsumedCapacity:t=>En(t),Item:t=>rr(t,r)}),IW=(e,r)=>c.take(e,{Backfilling:c.expectBoolean,IndexArn:c.expectString,IndexName:c.expectString,IndexSizeBytes:c.expectLong,IndexStatus:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,Projection:c._json,ProvisionedThroughput:t=>FP(t),WarmThroughput:c._json}),AW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>IW(n)),fy=(e,r)=>c.take(e,{CreationDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),GlobalTableArn:c.expectString,GlobalTableName:c.expectString,GlobalTableStatus:c.expectString,ReplicationGroup:t=>$P(t)}),vW=(e,r)=>c.take(e,{CloudWatchLogGroupArn:c.expectString,EndTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ImportArn:c.expectString,ImportStatus:c.expectString,InputFormat:c.expectString,S3BucketSource:c._json,StartTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableArn:c.expectString}),RW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>vW(n)),LP=(e,r)=>c.take(e,{ClientToken:c.expectString,CloudWatchLogGroupArn:c.expectString,EndTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ErrorCount:c.expectLong,FailureCode:c.expectString,FailureMessage:c.expectString,ImportArn:c.expectString,ImportStatus:c.expectString,ImportedItemCount:c.expectLong,InputCompressionType:c.expectString,InputFormat:c.expectString,InputFormatOptions:c._json,ProcessedItemCount:c.expectLong,ProcessedSizeBytes:c.expectLong,S3BucketSource:c._json,StartTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableArn:c.expectString,TableCreationParameters:c._json,TableId:c.expectString}),PW=(e,r)=>c.take(e,{ImportTableDescription:t=>LP(t)}),NW=(e,r)=>c.take(e,{ExportFromTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ExportToTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ExportViewType:c.expectString}),DW=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ks(U.awsExpectUnion(s),r)),t),{}),ku=(e,r)=>c.take(e,{ItemCollectionKey:t=>DW(t,r),SizeEstimateRangeGB:t=>kW(t)}),OW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>ku(n,r)),BP=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=OW(s,r)),t),{}),kW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>c.limitedParseDouble(n)),Mu=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>rr(n,r)),MW=(e,r)=>c.take(e,{Item:t=>rr(t,r)}),UP=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>MW(n,r)),qi=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ks(U.awsExpectUnion(s),r)),t),{}),LW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>qi(n,r)),BW=(e,r)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:c.expectBoolean,ExpressionAttributeNames:c._json,Keys:t=>LW(t,r),ProjectionExpression:c.expectString}),UW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>Ks(U.awsExpectUnion(n),r)),FW=(e,r)=>c.take(e,{BackupSummaries:t=>GG(t),LastEvaluatedBackupArn:c.expectString}),$W=(e,r)=>c.take(e,{ImportSummaryList:t=>RW(t),NextToken:c.expectString}),jW=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ks(U.awsExpectUnion(s),r)),t),{}),zW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>ZG(n,r)),HW=(e,r)=>c.take(e,{EarliestRestorableDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),LatestRestorableDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),PointInTimeRecoveryStatus:c.expectString,RecoveryPeriodInDays:c.expectInt32}),FP=(e,r)=>c.take(e,{LastDecreaseDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),LastIncreaseDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),NumberOfDecreasesToday:c.expectLong,ReadCapacityUnits:c.expectLong,WriteCapacityUnits:c.expectLong}),qW=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=Ks(U.awsExpectUnion(s),r)),t),{}),VW=(e,r)=>c.take(e,{Attributes:t=>rr(t,r),ConsumedCapacity:t=>En(t),ItemCollectionMetrics:t=>ku(t,r)}),GW=(e,r)=>c.take(e,{Item:t=>qW(t,r)}),WW=(e,r)=>c.take(e,{ConsumedCapacity:t=>En(t),Count:c.expectInt32,Items:t=>Mu(t,r),LastEvaluatedKey:t=>qi(t,r),ScannedCount:c.expectInt32}),KW=(e,r)=>c.take(e,{GlobalSecondaryIndexes:t=>QW(t),RegionName:c.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:t=>gn(t),ReplicaProvisionedWriteCapacityAutoScalingSettings:t=>gn(t),ReplicaStatus:c.expectString}),JW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>KW(n)),YW=(e,r)=>c.take(e,{GlobalSecondaryIndexes:c._json,KMSMasterKeyId:c.expectString,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RegionName:c.expectString,ReplicaInaccessibleDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),ReplicaStatus:c.expectString,ReplicaStatusDescription:c.expectString,ReplicaStatusPercentProgress:c.expectString,ReplicaTableClassSummary:t=>hy(t),WarmThroughput:c._json}),$P=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>YW(n)),XW=(e,r)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:t=>gn(t),ProvisionedWriteCapacityAutoScalingSettings:t=>gn(t)}),QW=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>XW(n)),ZW=(e,r)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:t=>gn(t),ProvisionedReadCapacityUnits:c.expectLong,ProvisionedWriteCapacityAutoScalingSettings:t=>gn(t),ProvisionedWriteCapacityUnits:c.expectLong}),e3=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>ZW(n)),t3=(e,r)=>c.take(e,{RegionName:c.expectString,ReplicaBillingModeSummary:t=>DP(t),ReplicaGlobalSecondaryIndexSettings:t=>e3(t),ReplicaProvisionedReadCapacityAutoScalingSettings:t=>gn(t),ReplicaProvisionedReadCapacityUnits:c.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:t=>gn(t),ReplicaProvisionedWriteCapacityUnits:c.expectLong,ReplicaStatus:c.expectString,ReplicaTableClassSummary:t=>hy(t)}),jP=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>t3(n)),r3=(e,r)=>c.take(e,{RestoreDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),RestoreInProgress:c.expectBoolean,SourceBackupArn:c.expectString,SourceTableArn:c.expectString}),n3=(e,r)=>c.take(e,{TableDescription:t=>Ys(t)}),s3=(e,r)=>c.take(e,{TableDescription:t=>Ys(t)}),o3=(e,r)=>c.take(e,{ConsumedCapacity:t=>En(t),Count:c.expectInt32,Items:t=>Mu(t,r),LastEvaluatedKey:t=>qi(t,r),ScannedCount:c.expectInt32}),IP=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(s===null||(t[n]=OP(s)),t),{}),i3=(e,r)=>c.take(e,{BillingMode:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,ProvisionedThroughput:c._json,TableArn:c.expectString,TableCreationDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong}),a3=(e,r)=>c.take(e,{GlobalSecondaryIndexes:c._json,LocalSecondaryIndexes:c._json,SSEDescription:t=>zP(t),StreamDescription:c._json,TimeToLiveDescription:c._json}),zP=(e,r)=>c.take(e,{InaccessibleEncryptionDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),KMSMasterKeyArn:c.expectString,SSEType:c.expectString,Status:c.expectString}),HP=(e,r)=>c.take(e,{Replicas:t=>JW(t),TableName:c.expectString,TableStatus:c.expectString}),hy=(e,r)=>c.take(e,{LastUpdateDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),TableClass:c.expectString}),Ys=(e,r)=>c.take(e,{ArchivalSummary:t=>zG(t),AttributeDefinitions:c._json,BillingModeSummary:t=>DP(t),CreationDateTime:t=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(t))),DeletionProtectionEnabled:c.expectBoolean,GlobalSecondaryIndexes:t=>AW(t),GlobalTableVersion:c.expectString,GlobalTableWitnesses:c._json,ItemCount:c.expectLong,KeySchema:c._json,LatestStreamArn:c.expectString,LatestStreamLabel:c.expectString,LocalSecondaryIndexes:c._json,MultiRegionConsistency:c.expectString,OnDemandThroughput:c._json,ProvisionedThroughput:t=>FP(t),Replicas:t=>$P(t),RestoreSummary:t=>r3(t),SSEDescription:t=>zP(t),StreamSpecification:c._json,TableArn:c.expectString,TableClassSummary:t=>hy(t),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong,TableStatus:c.expectString,WarmThroughput:c._json}),c3=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),Responses:t=>UP(t,r)}),d3=(e,r)=>c.take(e,{CancellationReasons:t=>sW(t,r),Message:c.expectString}),l3=(e,r)=>c.take(e,{ConsumedCapacity:t=>Js(t),ItemCollectionMetrics:t=>BP(t,r)}),u3=(e,r)=>c.take(e,{ContinuousBackupsDescription:t=>kP(t)}),m3=(e,r)=>c.take(e,{GlobalTableDescription:t=>fy(t)}),p3=(e,r)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:t=>jP(t)}),f3=(e,r)=>c.take(e,{Attributes:t=>rr(t,r),ConsumedCapacity:t=>En(t),ItemCollectionMetrics:t=>ku(t,r)}),h3=(e,r)=>c.take(e,{TableDescription:t=>Ys(t)}),g3=(e,r)=>c.take(e,{TableAutoScalingDescription:t=>HP(t)}),y3=(e,r)=>c.take(e,{DeleteRequest:t=>uW(t,r),PutRequest:t=>GW(t,r)}),E3=(e,r)=>(e||[]).filter(n=>n!=null).map(n=>y3(n,r)),O=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),S3=c.withBaseException(ae),K=async(e,r,t,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:l}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return s!==void 0&&(u.body=s),new ly.HttpRequest(u)};function J(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var Bi=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(iq).de(d2).build(){},b3=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},w3=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),_3=(e,r)=>{let t=Object.assign(TP.getAwsRegionExtensionConfiguration(e),c.getDefaultExtensionConfiguration(e),ly.getHttpHandlerExtensionConfiguration(e),b3(e));return r.forEach(n=>n.configure(t)),Object.assign(e,TP.resolveAwsRegionExtensionConfiguration(t),c.resolveDefaultRuntimeConfig(t),ly.resolveHttpHandlerRuntimeConfig(t),w3(t))},tr=class extends c.Client{constructor(...[t]){let n=nH.getRuntimeConfig(t||{});super(n);d(this,"config");this.initConfig=n;let s=sH(n),o=Xz.resolveAccountIdEndpointModeConfig(s),i=_P.resolveUserAgentConfig(o),a=xP.resolveRetryConfig(i),l=tH.resolveRegionConfig(a),u=wP.resolveHostHeaderConfig(l),f=q.resolveEndpointConfig(u),h=CP.resolveHttpAuthSchemeConfig(f),g=Qz.resolveEndpointDiscoveryConfig(h,{endpointDiscoveryCommandCtor:Bi}),y=_3(g,t?.extensions||[]);this.config=y,this.middlewareStack.use(_P.getUserAgentPlugin(this.config)),this.middlewareStack.use(xP.getRetryPlugin(this.config)),this.middlewareStack.use(rH.getContentLengthPlugin(this.config)),this.middlewareStack.use(wP.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Zz.getLoggerPlugin(this.config)),this.middlewareStack.use(eH.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ir.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:CP.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async S=>new Ir.DefaultIdentityProviderConfig({"aws.auth#sigv4":S.credentials})})),this.middlewareStack.use(Ir.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Bl=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(WH).de(Yq).build(){},Ul=class extends c.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:r=>Object.keys(r?.RequestItems??{})}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(KH).de(Xq).build(){},Fl=class extends c.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:r=>Object.keys(r?.RequestItems??{})}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(JH).de(Qq).build(){},$l=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(YH).de(Zq).build(){},jl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(XH).de(e2).build(){},zl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(QH).de(t2).build(){},Hl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(ZH).de(r2).build(){},ql=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(eq).de(n2).build(){},Vl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(tq).de(s2).build(){},Gl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(rq).de(o2).build(){},Wl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(nq).de(i2).build(){},Kl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(sq).de(a2).build(){},Jl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(oq).de(c2).build(){},Yl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(aq).de(l2).build(){},Xl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(cq).de(u2).build(){},Ql=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(dq).de(m2).build(){},Zl=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(lq).de(p2).build(){},eu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(uq).de(f2).build(){},tu=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(mq).de(h2).build(){},Ws=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(pq).de(g2).build(){},ru=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(fq).de(y2).build(){},nu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(hq).de(E2).build(){},su=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(gq).de(S2).build(){},ou=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(yq).de(b2).build(){},iu=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(Eq).de(w2).build(){},au=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Sq).de(_2).build(){},cu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(bq).de(x2).build(){},du=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(wq).de(C2).build(){},lu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(_q).de(T2).build(){},uu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"operationContextParams",get:r=>r?.TableCreationParameters?.TableName}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(xq).de(I2).build(){},mu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(Cq).de(A2).build(){},Ui=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(Tq).de(v2).build(){},Fi=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(Iq).de(R2).build(){},pu=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(Aq).de(P2).build(){},$i=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(vq).de(N2).build(){},ji=class extends c.Command.classBuilder().ep(G).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(Rq).de(D2).build(){},fu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(Pq).de(O2).build(){},hu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(Nq).de(k2).build(){},gu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(Dq).de(M2).build(){},zi=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Oq).de(L2).build(){},yu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(kq).de(B2).build(){},Eu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(Mq).de(U2).build(){},Hi=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(Lq).de(F2).build(){},Su=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(Bq).de($2).build(){},bu=class extends c.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:r=>r?.TransactItems?.map(t=>t?.Get?.TableName)}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(Uq).de(j2).build(){},wu=class extends c.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:r=>r?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(n=>n)).flat()}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(Fq).de(z2).build(){},_u=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser($q).de(H2).build(){},xu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(jq).de(q2).build(){},Cu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(zq).de(V2).build(){},Tu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(Hq).de(G2).build(){},Iu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(qq).de(W2).build(){},Au=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(Vq).de(K2).build(){},vu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Gq).de(J2).build(){},Ru=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(Wq).de(Y2).build(){},Pu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Kq).de(X2).build(){},Nu=class extends c.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(r,t,n,s){return[V.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(Jq).de(Q2).build(){},x3={BatchExecuteStatementCommand:Bl,BatchGetItemCommand:Ul,BatchWriteItemCommand:Fl,CreateBackupCommand:$l,CreateGlobalTableCommand:jl,CreateTableCommand:zl,DeleteBackupCommand:Hl,DeleteItemCommand:ql,DeleteResourcePolicyCommand:Vl,DeleteTableCommand:Gl,DescribeBackupCommand:Wl,DescribeContinuousBackupsCommand:Kl,DescribeContributorInsightsCommand:Jl,DescribeEndpointsCommand:Bi,DescribeExportCommand:Yl,DescribeGlobalTableCommand:Xl,DescribeGlobalTableSettingsCommand:Ql,DescribeImportCommand:Zl,DescribeKinesisStreamingDestinationCommand:eu,DescribeLimitsCommand:tu,DescribeTableCommand:Ws,DescribeTableReplicaAutoScalingCommand:ru,DescribeTimeToLiveCommand:nu,DisableKinesisStreamingDestinationCommand:su,EnableKinesisStreamingDestinationCommand:ou,ExecuteStatementCommand:iu,ExecuteTransactionCommand:au,ExportTableToPointInTimeCommand:cu,GetItemCommand:du,GetResourcePolicyCommand:lu,ImportTableCommand:uu,ListBackupsCommand:mu,ListContributorInsightsCommand:Ui,ListExportsCommand:Fi,ListGlobalTablesCommand:pu,ListImportsCommand:$i,ListTablesCommand:ji,ListTagsOfResourceCommand:fu,PutItemCommand:hu,PutResourcePolicyCommand:gu,QueryCommand:zi,RestoreTableFromBackupCommand:yu,RestoreTableToPointInTimeCommand:Eu,ScanCommand:Hi,TagResourceCommand:Su,TransactGetItemsCommand:bu,TransactWriteItemsCommand:wu,UntagResourceCommand:_u,UpdateContinuousBackupsCommand:xu,UpdateContributorInsightsCommand:Cu,UpdateGlobalTableCommand:Tu,UpdateGlobalTableSettingsCommand:Iu,UpdateItemCommand:Au,UpdateKinesisStreamingDestinationCommand:vu,UpdateTableCommand:Ru,UpdateTableReplicaAutoScalingCommand:Pu,UpdateTimeToLiveCommand:Nu},Du=class extends tr{};c.createAggregatedClient(x3,Du);var C3=Ir.createPaginator(tr,Ui,"NextToken","NextToken","MaxResults"),T3=Ir.createPaginator(tr,Fi,"NextToken","NextToken","MaxResults"),I3=Ir.createPaginator(tr,$i,"NextToken","NextToken","PageSize"),A3=Ir.createPaginator(tr,ji,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),v3=Ir.createPaginator(tr,zi,"ExclusiveStartKey","LastEvaluatedKey","Limit"),R3=Ir.createPaginator(tr,Hi,"ExclusiveStartKey","LastEvaluatedKey","Limit"),qP=async(e,r)=>{let t;try{let n=await e.send(new Ws(r));t=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Bt.WaiterState.SUCCESS,reason:t}}catch{}}catch(n){if(t=n,n.name&&n.name=="ResourceNotFoundException")return{state:Bt.WaiterState.RETRY,reason:t}}return{state:Bt.WaiterState.RETRY,reason:t}},P3=async(e,r)=>{let t={minDelay:20,maxDelay:120};return Bt.createWaiter({...t,...e},r,qP)},N3=async(e,r)=>{let t={minDelay:20,maxDelay:120},n=await Bt.createWaiter({...t,...e},r,qP);return Bt.checkExceptions(n)},VP=async(e,r)=>{let t;try{t=await e.send(new Ws(r))}catch(n){if(t=n,n.name&&n.name=="ResourceNotFoundException")return{state:Bt.WaiterState.SUCCESS,reason:t}}return{state:Bt.WaiterState.RETRY,reason:t}},D3=async(e,r)=>{let t={minDelay:20,maxDelay:120};return Bt.createWaiter({...t,...e},r,VP)},O3=async(e,r)=>{let t={minDelay:20,maxDelay:120},n=await Bt.createWaiter({...t,...e},r,VP);return Bt.checkExceptions(n)};Object.defineProperty(C,"$Command",{enumerable:!0,get:function(){return c.Command}});Object.defineProperty(C,"__Client",{enumerable:!0,get:function(){return c.Client}});C.ApproximateCreationDateTimePrecision=oH;C.AttributeAction=iH;C.BackupInUseException=rl;C.BackupNotFoundException=nl;C.BackupStatus=cH;C.BackupType=dH;C.BackupTypeFilter=yH;C.BatchExecuteStatementCommand=Bl;C.BatchGetItemCommand=Ul;C.BatchStatementErrorCodeEnum=bH;C.BatchWriteItemCommand=Fl;C.BillingMode=lH;C.ComparisonOperator=_H;C.ConditionalCheckFailedException=Ml;C.ConditionalOperator=xH;C.ContinuousBackupsStatus=CH;C.ContinuousBackupsUnavailableException=ml;C.ContributorInsightsAction=IH;C.ContributorInsightsMode=AH;C.ContributorInsightsStatus=vH;C.CreateBackupCommand=$l;C.CreateGlobalTableCommand=jl;C.CreateTableCommand=zl;C.DeleteBackupCommand=Hl;C.DeleteItemCommand=ql;C.DeleteResourcePolicyCommand=Vl;C.DeleteTableCommand=Gl;C.DescribeBackupCommand=Wl;C.DescribeContinuousBackupsCommand=Kl;C.DescribeContributorInsightsCommand=Jl;C.DescribeEndpointsCommand=Bi;C.DescribeExportCommand=Yl;C.DescribeGlobalTableCommand=Xl;C.DescribeGlobalTableSettingsCommand=Ql;C.DescribeImportCommand=Zl;C.DescribeKinesisStreamingDestinationCommand=eu;C.DescribeLimitsCommand=tu;C.DescribeTableCommand=Ws;C.DescribeTableReplicaAutoScalingCommand=ru;C.DescribeTimeToLiveCommand=nu;C.DestinationStatus=VH;C.DisableKinesisStreamingDestinationCommand=su;C.DuplicateItemException=xl;C.DynamoDB=Du;C.DynamoDBClient=tr;C.DynamoDBServiceException=ae;C.EnableKinesisStreamingDestinationCommand=ou;C.ExecuteStatementCommand=iu;C.ExecuteTransactionCommand=au;C.ExportConflictException=Il;C.ExportFormat=BH;C.ExportNotFoundException=bl;C.ExportStatus=UH;C.ExportTableToPointInTimeCommand=cu;C.ExportType=FH;C.ExportViewType=$H;C.GetItemCommand=du;C.GetResourcePolicyCommand=lu;C.GlobalTableAlreadyExistsException=gl;C.GlobalTableNotFoundException=wl;C.GlobalTableStatus=RH;C.IdempotentParameterMismatchException=Cl;C.ImportConflictException=Rl;C.ImportNotFoundException=_l;C.ImportStatus=zH;C.ImportTableCommand=uu;C.IndexNotFoundException=kl;C.IndexStatus=PH;C.InputCompressionType=HH;C.InputFormat=qH;C.InternalServerError=sl;C.InvalidEndpointException=al;C.InvalidExportTimeException=Al;C.InvalidRestoreTimeException=Nl;C.ItemCollectionSizeLimitExceededException=ll;C.KeyType=uH;C.LimitExceededException=pl;C.ListBackupsCommand=mu;C.ListContributorInsightsCommand=Ui;C.ListExportsCommand=Fi;C.ListGlobalTablesCommand=pu;C.ListImportsCommand=$i;C.ListTablesCommand=ji;C.ListTagsOfResourceCommand=fu;C.MultiRegionConsistency=MH;C.PointInTimeRecoveryStatus=TH;C.PointInTimeRecoveryUnavailableException=vl;C.PolicyNotFoundException=Sl;C.ProjectionType=mH;C.ProvisionedThroughputExceededException=cl;C.PutItemCommand=hu;C.PutResourcePolicyCommand=gu;C.QueryCommand=zi;C.ReplicaAlreadyExistsException=Dl;C.ReplicaNotFoundException=Ol;C.ReplicaStatus=NH;C.ReplicatedWriteConflictException=ul;C.RequestLimitExceeded=ol;C.ResourceInUseException=yl;C.ResourceNotFoundException=dl;C.RestoreTableFromBackupCommand=yu;C.RestoreTableToPointInTimeCommand=Eu;C.ReturnConsumedCapacity=EH;C.ReturnItemCollectionMetrics=wH;C.ReturnValue=LH;C.ReturnValuesOnConditionCheckFailure=SH;C.S3SseAlgorithm=jH;C.SSEStatus=fH;C.SSEType=pH;C.ScalarAttributeType=aH;C.ScanCommand=Hi;C.Select=GH;C.StreamViewType=hH;C.TableAlreadyExistsException=Pl;C.TableClass=DH;C.TableInUseException=fl;C.TableNotFoundException=hl;C.TableStatus=OH;C.TagResourceCommand=Su;C.ThrottlingException=il;C.TimeToLiveStatus=gH;C.TransactGetItemsCommand=bu;C.TransactWriteItemsCommand=wu;C.TransactionCanceledException=Ll;C.TransactionConflictException=El;C.TransactionInProgressException=Tl;C.UntagResourceCommand=_u;C.UpdateContinuousBackupsCommand=xu;C.UpdateContributorInsightsCommand=Cu;C.UpdateGlobalTableCommand=Tu;C.UpdateGlobalTableSettingsCommand=Iu;C.UpdateItemCommand=Au;C.UpdateKinesisStreamingDestinationCommand=vu;C.UpdateTableCommand=Ru;C.UpdateTableReplicaAutoScalingCommand=Pu;C.UpdateTimeToLiveCommand=Nu;C.WitnessStatus=kH;C.paginateListContributorInsights=C3;C.paginateListExports=T3;C.paginateListImports=I3;C.paginateListTables=A3;C.paginateQuery=v3;C.paginateScan=R3;C.waitForTableExists=P3;C.waitForTableNotExists=D3;C.waitUntilTableExists=N3;C.waitUntilTableNotExists=O3});var rN=N(Qs=>{"use strict";var Xs=class e{constructor(r){d(this,"value");typeof r=="object"&&"N"in r?this.value=String(r.N):this.value=String(r);let t=typeof r.valueOf()=="number"?r.valueOf():0;if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||Math.abs(t)===1/0||Number.isNaN(t))throw new Error(`NumberValue should not be initialized with an imprecise number=${t}. Use a string instead.`)}static from(r){return new e(r)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let r=this.toString();return BigInt(r)}toString(){return String(this.value)}valueOf(){return this.toString()}},Gi=(e,r)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Lu();if(Array.isArray(e))return k3(e,r);if(e?.constructor?.name==="Set")return M3(e,r);if(e?.constructor?.name==="Map")return L3(e,r);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return GP(e,r);if(tN(e))return e.length===0&&r?.convertEmptyValues?Lu():XP(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return eN(e,r);if(e instanceof Xs)return e.toAttributeValue();if(typeof e=="bigint")return ZP(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&r?.convertEmptyValues?Lu():QP(e);if(r?.convertClassInstanceToMap&&typeof e=="object")return GP(e,r);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},k3=(e,r)=>({L:e.filter(t=>typeof t!="function"&&(!r?.removeUndefinedValues||r?.removeUndefinedValues&&t!==void 0)).map(t=>Gi(t,r))}),M3=(e,r)=>{let t=r?.removeUndefinedValues?new Set([...e].filter(s=>s!==void 0)):e;if(!r?.removeUndefinedValues&&t.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t.size===0){if(r?.convertEmptyValues)return Lu();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=t.values().next().value;if(n instanceof Xs)return{NS:Array.from(t).map(s=>s.toString())};if(typeof n=="number")return{NS:Array.from(t).map(s=>eN(s,r)).map(s=>s.N)};if(typeof n=="bigint")return{NS:Array.from(t).map(ZP).map(s=>s.N)};if(typeof n=="string")return{SS:Array.from(t).map(QP).map(s=>s.S)};if(tN(n))return{BS:Array.from(t).map(XP).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},L3=(e,r)=>({M:(t=>{let n={};for(let[s,o]of t)typeof o!="function"&&(o!==void 0||!r?.removeUndefinedValues)&&(n[s]=Gi(o,r));return n})(e)}),GP=(e,r)=>({M:(t=>{let n={};for(let s in t){let o=t[s];typeof o!="function"&&(o!==void 0||!r?.removeUndefinedValues)&&(n[s]=Gi(o,r))}return n})(e)}),Lu=()=>({NULL:!0}),XP=e=>({B:e}),QP=e=>({S:e.toString()}),ZP=e=>({N:e.toString()}),WP=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},eN=(e,r)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(t=>t.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return r?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?WP(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&WP(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},tN=e=>{let r=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?r.includes(e.constructor.name):!1},Vi=(e,r)=>{for(let[t,n]of Object.entries(e))if(n!==void 0)switch(t){case"NULL":return null;case"BOOL":return!!n;case"N":return KP(n,r);case"B":return YP(n);case"S":return JP(n);case"L":return B3(n,r);case"M":return U3(n,r);case"NS":return new Set(n.map(s=>KP(s,r)));case"BS":return new Set(n.map(YP));case"SS":return new Set(n.map(JP));default:throw new Error(`Unsupported type passed: ${t}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},KP=(e,r)=>{if(typeof r?.wrapNumbers=="function")return r?.wrapNumbers(e);if(r?.wrapNumbers)return Xs.from(e);let t=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&!n.includes(t))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return t},JP=e=>e,YP=e=>e,B3=(e,r)=>e.map(t=>Vi(t,r)),U3=(e,r)=>Object.entries(e).reduce((t,[n,s])=>(t[n]=Vi(s,r),t),{});function F3(e,r){let t=Gi(e,r),[n,s]=Object.entries(t)[0];switch(n){case"M":case"L":return r?.convertTopLevelContainer?t:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return t}}var $3=(e,r)=>r?.convertWithoutMapWrapper?Vi(e,r):Vi({M:e},r);Qs.NumberValueImpl=Xs;Qs.convertToAttr=Gi;Qs.convertToNative=Vi;Qs.marshall=F3;Qs.unmarshall=$3});var Yi=N(Ne=>{"use strict";var wt=gy(),Ju=oe(),j3=($e(),ue(kt)),Ey=rN(),sN=(ot(),ue(kn)),Wi=null,te={},Rr=[],nN="*",Bu=(e,r,t)=>{if(e!==void 0){if(t==null)return r(e);{let n=Object.keys(t),s=n.length===1&&n[0]===nN,o=n.length>=1&&!s,i=n.length===0;if(o)return Sy(e,r,t);if(i)return z3(e,r,Wi);if(s)return Object.entries(e??{}).reduce((a,[l,u])=>(typeof u!="function"&&(a[l]=Bu(u,r,t[nN])),a),Array.isArray(e)?[]:{})}}},Sy=(e,r,t)=>{let n;if(Array.isArray(e))n=e.filter(s=>typeof s!="function");else{n={};for(let[s,o]of Object.entries(e))typeof o!="function"&&(n[s]=o)}for(let[s,o]of Object.entries(t)){if(typeof e[s]=="function")continue;let i=Bu(e[s],r,o);i!==void 0&&typeof i!="function"&&(n[s]=i)}return n},z3=(e,r,t)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>Bu(n,r,t)):Object.entries(e).reduce((n,[s,o])=>{if(typeof o=="function")return n;let i=Bu(o,r,t);return i!==void 0&&typeof i!="function"&&(n[s]=i),n},{}),H3=(e,r,t)=>Sy(e,s=>Ey.marshall(s,t),r),q3=(e,r,t)=>Sy(e,s=>Ey.unmarshall(s,t),r),tt=class extends Ju.Command{addMarshallingMiddleware(r){let{marshallOptions:t={},unmarshallOptions:n={}}=r.translateConfig||{};t.convertTopLevelContainer=t.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>(j3.setFeature(o,"DDB_MAPPER","d"),s({...i,input:H3(i.input,this.inputKeyNodes,t)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>{let a=await s(i);return a.output=q3(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},Uu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Statements:{"*":{Parameters:Rr}}});d(this,"outputKeyNodes",{Responses:{"*":{Error:{Item:te},Item:te}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Fu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{RequestItems:{"*":{Keys:{"*":te}}}});d(this,"outputKeyNodes",{Responses:{"*":{"*":te}},UnprocessedKeys:{"*":{Keys:{"*":te}}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},$u=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{RequestItems:{"*":{"*":{PutRequest:{Item:te},DeleteRequest:{Key:te}}}}});d(this,"outputKeyNodes",{UnprocessedItems:{"*":{"*":{PutRequest:{Item:te},DeleteRequest:{Key:te}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:te}}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},ju=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Key:te,Expected:{"*":{Value:Wi,AttributeValueList:Rr}},ExpressionAttributeValues:te});d(this,"outputKeyNodes",{Attributes:te,ItemCollectionMetrics:{ItemCollectionKey:te}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},zu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Parameters:Rr});d(this,"outputKeyNodes",{Items:{"*":te},LastEvaluatedKey:te});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Hu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{TransactStatements:{"*":{Parameters:Rr}}});d(this,"outputKeyNodes",{Responses:{"*":{Item:te}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},qu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Key:te});d(this,"outputKeyNodes",{Item:te});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Vu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Item:te,Expected:{"*":{Value:Wi,AttributeValueList:Rr}},ExpressionAttributeValues:te});d(this,"outputKeyNodes",{Attributes:te,ItemCollectionMetrics:{ItemCollectionKey:te}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Ki=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{KeyConditions:{"*":{AttributeValueList:Rr}},QueryFilter:{"*":{AttributeValueList:Rr}},ExclusiveStartKey:te,ExpressionAttributeValues:te});d(this,"outputKeyNodes",{Items:{"*":te},LastEvaluatedKey:te});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Ji=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{ScanFilter:{"*":{AttributeValueList:Rr}},ExclusiveStartKey:te,ExpressionAttributeValues:te});d(this,"outputKeyNodes",{Items:{"*":te},LastEvaluatedKey:te});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Gu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{TransactItems:{"*":{Get:{Key:te}}}});d(this,"outputKeyNodes",{Responses:{"*":{Item:te}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Wu=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{TransactItems:{"*":{ConditionCheck:{Key:te,ExpressionAttributeValues:te},Put:{Item:te,ExpressionAttributeValues:te},Delete:{Key:te,ExpressionAttributeValues:te},Update:{Key:te,ExpressionAttributeValues:te}}}});d(this,"outputKeyNodes",{ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:te}}}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Ku=class extends tt{constructor(t){super();d(this,"input");d(this,"inputKeyNodes",{Key:te,AttributeUpdates:{"*":{Value:Wi}},Expected:{"*":{Value:Wi,AttributeValueList:Rr}},ExpressionAttributeValues:te});d(this,"outputKeyNodes",{Attributes:te,ItemCollectionMetrics:{ItemCollectionKey:te}});d(this,"clientCommand");d(this,"middlewareStack");this.input=t,this.clientCommand=new wt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,n,s){this.addMarshallingMiddleware(n);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,n,s);return async()=>i(this.clientCommand)}},Zs=class e extends Ju.Client{constructor(t,n){super(t.config);d(this,"config");if(this.config=t.config,this.config.translateConfig=n,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,n){return new e(t,n)}destroy(){}},yy=class e extends Zs{static from(r,t){return new e(r,t)}batchExecuteStatement(r,t,n){let s=new Uu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}batchGet(r,t,n){let s=new Fu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}batchWrite(r,t,n){let s=new $u(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}delete(r,t,n){let s=new ju(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}executeStatement(r,t,n){let s=new zu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}executeTransaction(r,t,n){let s=new Hu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}get(r,t,n){let s=new qu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}put(r,t,n){let s=new Vu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}query(r,t,n){let s=new Ki(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}scan(r,t,n){let s=new Ji(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}transactGet(r,t,n){let s=new Gu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}transactWrite(r,t,n){let s=new Wu(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}update(r,t,n){let s=new Ku(r);if(typeof t=="function")this.send(s,t);else if(typeof n=="function"){if(typeof t!="object")throw new Error(`Expect http options but get ${typeof t}`);this.send(s,t||{},n)}else return this.send(s,t)}},V3=sN.createPaginator(Zs,Ki,"ExclusiveStartKey","LastEvaluatedKey","Limit"),G3=sN.createPaginator(Zs,Ji,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(Ne,"$Command",{enumerable:!0,get:function(){return Ju.Command}});Object.defineProperty(Ne,"__Client",{enumerable:!0,get:function(){return Ju.Client}});Object.defineProperty(Ne,"NumberValue",{enumerable:!0,get:function(){return Ey.NumberValueImpl}});Ne.BatchExecuteStatementCommand=Uu;Ne.BatchGetCommand=Fu;Ne.BatchWriteCommand=$u;Ne.DeleteCommand=ju;Ne.DynamoDBDocument=yy;Ne.DynamoDBDocumentClient=Zs;Ne.DynamoDBDocumentClientCommand=tt;Ne.ExecuteStatementCommand=zu;Ne.ExecuteTransactionCommand=Hu;Ne.GetCommand=qu;Ne.PutCommand=Vu;Ne.QueryCommand=Ki;Ne.ScanCommand=Ji;Ne.TransactGetCommand=Gu;Ne.TransactWriteCommand=Wu;Ne.UpdateCommand=Ku;Ne.paginateQuery=V3;Ne.paginateScan=G3});var K3={};ft(K3,{lambdaHandler:()=>W3});module.exports=ue(K3);var Zn=259200,tm={method:"GET",path:/^\/$/},rm={method:"GET",path:/^\/messages\/?$/},nm={method:"GET",path:/^\/messages\/latest\/?$/},sm={method:"POST",path:/^\/messages\/?$/},om={method:"GET",path:/^\/message-counter\/?$/},XN=[tm,rm,nm,sm,om];function Ry(e,r){return XN.some(t=>t.method===e&&t.path.test(r))}function Py(e,r,t,n={}){let s=t.find(o=>o.method===e&&o.path.test(r));if(s)return s.fn({method:e,path:r,...n})}function Ny(e){let r=e.headers,t;return!r||!("Cookie"in r)&&!("cookie"in r)||("Cookie"in r?t=r.Cookie:"cookie"in r&&(t=r.cookie),!t)?void 0:t.split(";").reduce((s,o)=>{let[i,a]=o.trim().split("=");return s[i]=a,s},{}).sessionId}function Dy(e,r,t){let n=[`sessionId=${r}`],s=t?.maxAgeSeconds||Zn;return n.push(`Max-Age=${s}`),n.push("HttpOnly","Secure","SameSite=Strict","Path=/"),{multiValueHeaders:{"Set-Cookie":[n.join("; ")],...e.multiValueHeaders},...e}}var Xi=T(Yi(),1);var oN=T(gy(),1),iN=T(Yi(),1),Sn=class{constructor(){this.client=new oN.DynamoDBClient({region:"ap-northeast-1"}),this.docClient=iN.DynamoDBDocumentClient.from(this.client)}};var bn=class extends Sn{constructor(){super(...arguments);this.tableName=process.env.MESSAGE_TABLE||"MessageTable"}async putMessage(t,n){let s={TableName:this.tableName,Item:{...t,MessageNo:n,CreatedAt:Math.floor(Date.now()/1e3),Dummy:"ALL"}},o=new Xi.PutCommand(s);return this.docClient.send(o)}async getMessagesByPage(t,n,s){if(t<1)throw new Error("page must be >= 1");if(n<1)throw new Error("perPage must be >= 1");if(s<0)throw new Error("max must be >= 0");if(s<(t-1)*n+1)return[];let o=Math.max(s-(t-1)*n,1),i=Math.max(o-n+1,1);if(i>o)return[];let a=new Xi.QueryCommand({TableName:this.tableName,KeyConditionExpression:"Dummy = :dummy AND MessageNo BETWEEN :low AND :high",ExpressionAttributeValues:{":dummy":"ALL",":low":i,":high":o},ScanIndexForward:!1,ConsistentRead:!1});return(await this.docClient.send(a)).Items??[]}async getMessagesFromLast(t,n,s=100){if(t>=n)return{data:[],isGetAll:!0};if(t<0)throw new Error("last must be >= 0");if(n<0)throw new Error("max must be >= 0");if(s<1)throw new Error("limit must be >= 1");let o=Math.min(n-t,s),i=t+o,a=new Xi.QueryCommand({TableName:this.tableName,KeyConditionExpression:"Dummy = :dummy AND MessageNo BETWEEN :low AND :high",ExpressionAttributeValues:{":dummy":"ALL",":low":t+1,":high":i},ScanIndexForward:!0});return{data:(await this.docClient.send(a)).Items??[],isGetAll:o===n-t}}};var Yu=T(Yi(),1);var wn=class extends Sn{constructor(){super(...arguments);this.tableName=process.env.MESSAGE_COUNTER_TABLE||"MessageCounterTable";this.counterId="MESSAGE_COUNTER"}async nextMessageNo(){let t={TableName:this.tableName,Key:{CounterId:this.counterId},UpdateExpression:"SET #count = if_not_exists(#count, :start) + :inc",ExpressionAttributeNames:{"#count":"Count"},ExpressionAttributeValues:{":inc":1,":start":0},ReturnValues:"UPDATED_NEW"};return(await this.docClient.send(new Yu.UpdateCommand(t))).Attributes?.Count}async getCurrent(){let t={TableName:this.tableName,Key:{CounterId:this.counterId}};return(await this.docClient.send(new Yu.GetCommand(t))).Item?.Count||0}};async function aN({lastNumber:e}){let r=new bn,t=new wn,n;try{n=await t.getCurrent()}catch(s){throw console.error("Failed to get current message count",s),s}try{return await r.getMessagesFromLast(e,n)}catch(s){throw console.error("Failed to put message",s),s}}async function cN(e){let r;if(!e.params||!e.params.lastNumber)return{statusCode:400,body:JSON.stringify({message:"lastNumber is required"})};if(isNaN(parseInt(e.params.lastNumber)))return{statusCode:400,body:JSON.stringify({message:"lastNumber must be a number"})};r=parseInt(e.params.lastNumber);let t=await aN({lastNumber:r});return{statusCode:200,body:JSON.stringify(t)}}async function dN({UserId:e,Content:r}){let t=new bn,n=new wn,s;try{s=await n.nextMessageNo()}catch(o){throw console.error("Failed to get current message count",o),o}try{await t.putMessage({UserId:e,Content:r},s)}catch(o){throw console.error("Failed to put message",o),o}}async function lN(e){let{body:r}=e;return r?typeof r!="object"||Array.isArray(r)?{statusCode:400,body:"Bad Request: body must be an object"}:!("contents"in r)||typeof r.contents!="string"||r.contents===""||r.contents.length>2048?{statusCode:400,body:"Bad Request: contents is required and must be a string <= 2048 characters"}:(await dN({UserId:e.sessionId,Content:r.contents}),{statusCode:200,body:JSON.stringify({message:"Message posted successfully"})}):{statusCode:400,body:"Bad Request: body is required"}}async function uN({page:e,perPage:r}){let t=new bn,n=new wn,s;try{s=await n.getCurrent()}catch(o){throw console.error("Failed to get current message count",o),o}try{return await t.getMessagesByPage(e,r,s)}catch(o){throw console.error("Failed to put message",o),o}}async function by(e){let{params:r}=e,t=r?.page?parseInt(r.page):1,n=r?.perPage?parseInt(r.perPage):20,s=await uN({page:t,perPage:n});return{statusCode:200,body:JSON.stringify(s)}}function mN(e){let{params:r}=e,t=r?.page?parseInt(r.page):1,n=r?.perPage?parseInt(r.perPage):10;return{statusCode:200,headers:{"Content-Type":"text/html; charset=utf-8"},body:`
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Chat App</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-2xl mx-auto bg-white p-4 rounded shadow">
    <h1 class="text-2xl font-bold mb-4">Chat App</h1>

    <div id="app">
      <!-- \u30E1\u30C3\u30BB\u30FC\u30B8\u8868\u793A -->
      <div v-for="msg in messages" :key="msg.MessageNo" class="mb-2 border-b pb-2">
        <span class="font-bold text-blue-600">{{ msg.UserId }}</span>: {{ msg.Content }}
      </div>

      <!-- \u30DA\u30FC\u30B8\u30CD\u30FC\u30B7\u30E7\u30F3 -->
      <div class="mt-4 flex items-center space-x-2">
        <button @click="prevPage" :disabled="page <= 1" class="px-3 py-1 bg-gray-300 rounded disabled:opacity-50">\u524D\u3078</button>
        <span>Page {{ page }}</span>
        <button @click="nextPage" class="px-3 py-1 bg-gray-300 rounded">\u6B21\u3078</button>
      </div>

      <!-- \u30E1\u30C3\u30BB\u30FC\u30B8\u6295\u7A3F -->
      <div class="mt-4 flex space-x-2">
        <input v-model="newMessage" type="text" placeholder="\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u5165\u529B" class="flex-1 border rounded px-2 py-1" />
        <button @click="postMessage" class="px-3 py-1 bg-blue-500 text-white rounded">\u9001\u4FE1</button>
      </div>
    </div>
  </div>

  <script>
    const { createApp, ref } = Vue;

    createApp({
      setup() {
        const messages = ref([]);
        const page = ref(${t}); // \u73FE\u5728\u306E\u30DA\u30FC\u30B8
        const perPage = ${n}; // 1\u30DA\u30FC\u30B8\u306B\u8868\u793A\u3059\u308B\u4EF6\u6570
        const lastNumber = ref(0);
        const newMessage = ref('');

        // \u30DA\u30FC\u30B8\u30CD\u30FC\u30B7\u30E7\u30F3\u53D6\u5F97
        const fetchMessages = async () => {
          try {
            const res = await fetch(\`/messages?page=\${page.value}&perPage=\${perPage}\`);
            const data = await res.json();
            messages.value = data;
            if (data.length) lastNumber.value = Math.max(...data.map(m => m.MessageNo));
          } catch (err) {
            console.error('Failed to fetch messages:', err);
          }
        };

        const prevPage = () => {
          if (page.value > 1) {
            page.value--;
            fetchMessages();
          }
        };

        const nextPage = () => {
          page.value++;
          fetchMessages();
        };

        // \u65B0\u7740\u53D6\u5F97
        const fetchLatestMessages = async () => {
          try {
            const res = await fetch(\`/messages/latest?lastNumber=\${lastNumber.value}\`);
            const data = await res.json();
            if (data.length) {
              messages.value = [...data, ...messages.value];
              lastNumber.value = Math.max(...data.map(m => m.MessageNo));
              // perPage\u8D85\u3048\u305F\u5834\u5408\u306F\u53E4\u3044\u9806\u306B\u524A\u9664
              if (messages.value.length > perPage) {
                messages.value = messages.value.slice(0, perPage);
              }
            }
          } catch (err) {
            console.error('Failed to fetch latest messages:', err);
          }
        };

        // POST\u30E1\u30C3\u30BB\u30FC\u30B8
        const postMessage = async () => {
          if (!newMessage.value.trim()) return;
          try {
            await fetch('/messages', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ contents: newMessage.value }),
            });
            // \u6295\u7A3F\u6210\u529F\u5F8C\u306B\u30EA\u30C0\u30A4\u30EC\u30AF\u30C8
            window.location.href = '/?page=' + page.value + '&perPage=' + perPage;
          } catch (err) {
            console.error('Failed to post message:', err);
          }
        };

        // \u521D\u56DE\u30ED\u30FC\u30C9
        fetchMessages();
        // 10\u79D2\u3054\u3068\u306B\u6700\u65B0\u53D6\u5F97
        setInterval(fetchLatestMessages, 10000);

        return { messages, page, prevPage, nextPage, newMessage, postMessage };
      }
    }).mount('#app');
  </script>
</body>
</html>
    `}}var Xu=T(Yi(),1);var _n=class extends Sn{constructor(){super(...arguments);this.tableName=process.env.SESSION_TABLE||"SessionTable"}async upsertSession(t){let n=new Xu.PutCommand({TableName:this.tableName,Item:{...t,ExpirationDate:t.ExpirationDate.toISOString()}});try{await this.docClient.send(n)}catch(s){throw console.error("DYNAMODB_ENDPOINT:",process.env.DYNAMODB_ENDPOINT),console.error("Error upserting session:",s),s}}async getSession(t){let n=new Xu.GetCommand({TableName:this.tableName,Key:{SessionId:t}});try{let s=await this.docClient.send(n);return s.Item?{...s.Item,ExpirationDate:new Date(s.Item.ExpirationDate)}:void 0}catch(s){throw console.error("Error getting session:",s),s}}};async function pN(e){let r=new _n;try{return await r.getSession(e)}catch(t){throw console.error("Failed to get session",t),t}}async function fN(e){new _n().upsertSession({SessionId:e,ExpirationDate:new Date(Date.now()+1e3*Zn)})}async function wy(){let e=crypto.randomUUID(),r=new _n;try{await r.upsertSession({SessionId:e,ExpirationDate:new Date(Date.now()+1e3*Zn)})}catch(t){throw console.error("Failed to create session",t),t}return e}async function W3(e,r){let t=e.path,n=e.queryStringParameters,s=JSON.parse(e.body||"null")||null,o=e.httpMethod;console.log("path:",t),console.log("method:",e.httpMethod);let i=Ny(e),a={},l=Ry(o,t),u=!1,f;try{if(l)i?pN(i)?(await fN(i),f=i):(u=!0,f=await wy()):(f=await wy(),u=!0);else return{statusCode:404,body:"this page is undefined"}}catch{return{statusCode:500,body:"internal server error"}}try{let h=await Py(o,t,[{fn:mN,...tm},{fn:by,...rm},{fn:cN,...nm},{fn:lN,...sm},{fn:by,...om}],{params:n,sessionId:f,body:s});return h?(a=h,u?Dy(a,f):a):{statusCode:404,body:"this page is undefined"}}catch{return{statusCode:500,body:"internal server error"}}}0&&(module.exports={lambdaHandler});
